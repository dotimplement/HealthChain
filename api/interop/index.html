
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Simplify prototyping and testing NLP applications in a healthcare context.">
      
      
        <meta name="author" content="Jennifer Jiang-Kells">
      
      
      
        <link rel="prev" href="../sandbox/">
      
      
        <link rel="next" href="../fhir_helpers/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/healthchain_logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Interoperability Engine - HealthChain üí´ üè•</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../stylesheets/welcome.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-JZW5MPV5Y4"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-JZW5MPV5Y4",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-JZW5MPV5Y4",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#interoperability-engine" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="HealthChain üí´ üè•" class="md-header__button md-logo" aria-label="HealthChain üí´ üè•" data-md-component="logo">
      
  <img src="../../assets/images/healthchain_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HealthChain üí´ üè•
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Interoperability Engine
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m3.55 19.09 1.41 1.41 1.8-1.79-1.42-1.42M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6c0-3.32-2.69-6-6-6m8 7h3v-2h-3m-2.76 7.71 1.8 1.79 1.41-1.41-1.79-1.8M20.45 5l-1.41-1.4-1.8 1.79 1.42 1.42M13 1h-2v3h2M6.76 5.39 4.96 3.6 3.55 5l1.79 1.81zM1 13h3v-2H1m12 9h-2v3h2"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/dotimplement/healthchain" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    dotimplement/healthchain
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../installation/" class="md-tabs__link">
          
  
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../tutorials/" class="md-tabs__link">
          
  
  
  Tutorials

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../cookbook/" class="md-tabs__link">
          
  
  
  Cookbook

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../reference/" class="md-tabs__link">
          
  
  
  Docs

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
  API Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../community/" class="md-tabs__link">
          
  
  
  Community

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="HealthChain üí´ üè•" class="md-nav__button md-logo" aria-label="HealthChain üí´ üè•" data-md-component="logo">
      
  <img src="../../assets/images/healthchain_logo.png" alt="logo">

    </a>
    HealthChain üí´ üè•
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/dotimplement/healthchain" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    dotimplement/healthchain
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quickstart
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../distribution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Licence
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Tutorials
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tutorials
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tutorials
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    ClinicalFlow Tutorial
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    ClinicalFlow Tutorial
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/clinicalflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/clinicalflow/setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/clinicalflow/fhir-basics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FHIR Basics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/clinicalflow/pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Build Pipeline
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/clinicalflow/gateway/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Create Gateway
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/clinicalflow/testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Test with Sandbox
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/clinicalflow/next-steps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Next Steps
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Cookbook
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cookbook
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cookbook
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/setup_fhir_sandboxes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Setup FHIR Sandbox
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/multi_ehr_aggregation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multi-Source Data Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/clinical_coding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Automated Clinical Coding
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/discharge_summarizer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Discharge Summarizer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/ml_model_deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ML Model Deployment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/format_conversion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Format Conversion
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Docs
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Docs
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Welcome
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Gateway
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Gateway
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/gateway/gateway/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/gateway/api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HealthChainAPI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/gateway/fhir_gateway/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FHIR Gateway
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/gateway/events/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Events
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_5" >
        
          
          <label class="md-nav__link" for="__nav_5_2_5" id="__nav_5_2_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Protocols
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Protocols
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/gateway/cdshooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CDS Hooks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/gateway/soap_cda/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SOAP/CDA
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    I/O
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    I/O
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_3_1" >
        
          
          <label class="md-nav__link" for="__nav_5_3_1" id="__nav_5_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Containers
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Containers
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/io/containers/containers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/io/containers/document/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Document
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/io/containers/dataset/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dataset
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_3_2" >
        
          
          <label class="md-nav__link" for="__nav_5_3_2" id="__nav_5_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Adapters
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Adapters
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/io/adapters/adapters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/io/adapters/cdaadapter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CDA Adapter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/io/adapters/cdsfhiradapter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CDS FHIR Adapter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_3_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3_3" id="__nav_5_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Mappers
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Mappers
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/io/mappers/mappers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/io/mappers/fhir_feature/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FHIR Feature Mapper
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Pipeline
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Pipeline
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/pipeline/pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_4_2" >
        
          
          <label class="md-nav__link" for="__nav_5_4_2" id="__nav_5_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Components
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Components
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/pipeline/components/components/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/pipeline/components/cdscardcreator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CdsCardCreator
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/pipeline/components/fhirproblemextractor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FHIRProblemListExtractor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_4_3" >
        
          
          <label class="md-nav__link" for="__nav_5_4_3" id="__nav_5_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Prebuilt Pipelines
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Prebuilt Pipelines
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/pipeline/prebuilt_pipelines/medicalcoding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Medical Coding
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/pipeline/prebuilt_pipelines/summarization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Summarization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_5" >
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Integrations
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Integrations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/pipeline/integrations/integrations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Interoperability
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Interoperability
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/interop/interop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/interop/engine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Engine
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/interop/configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/interop/templates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Templates
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/interop/mappings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mappings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/interop/parsers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Parsers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/interop/generators/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Generators
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/interop/xmltodict/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Working with xmltodict
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/interop/experimental/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    In Development
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_7" >
        
          
          <label class="md-nav__link" for="__nav_5_7" id="__nav_5_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Utilities
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Utilities
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/utilities/fhir_helpers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FHIR Helpers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/utilities/sandbox/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sandbox
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/utilities/data_generator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Generator
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pipeline
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../component/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Component
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../containers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Containers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adapters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Adapters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cds_hooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CDS Hooks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sandbox/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sandbox Client
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Interoperability Engine
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Interoperability Engine
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#healthchain.interop.engine" class="md-nav__link">
    <span class="md-ellipsis">
      
        engine
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine" class="md-nav__link">
    <span class="md-ellipsis">
      
        InteropEngine
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="InteropEngine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine--convert-cda-to-fhir" class="md-nav__link">
    <span class="md-ellipsis">
      
        Convert CDA to FHIR
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine--convert-fhir-to-cda" class="md-nav__link">
    <span class="md-ellipsis">
      
        Convert FHIR to CDA
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine--access-config-directly" class="md-nav__link">
    <span class="md-ellipsis">
      
        Access config directly:
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine--access-the-template-registry" class="md-nav__link">
    <span class="md-ellipsis">
      
        Access the template registry:
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine--register-custom-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        Register custom components:
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine--register-custom-configuration-validators" class="md-nav__link">
    <span class="md-ellipsis">
      
        Register custom configuration validators:
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.cda_generator" class="md-nav__link">
    <span class="md-ellipsis">
      
        cda_generator
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.cda_parser" class="md-nav__link">
    <span class="md-ellipsis">
      
        cda_parser
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.fhir_generator" class="md-nav__link">
    <span class="md-ellipsis">
      
        fhir_generator
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.hl7v2_generator" class="md-nav__link">
    <span class="md-ellipsis">
      
        hl7v2_generator
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.hl7v2_parser" class="md-nav__link">
    <span class="md-ellipsis">
      
        hl7v2_parser
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.from_fhir" class="md-nav__link">
    <span class="md-ellipsis">
      
        from_fhir
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="from_fhir">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.from_fhir--convert-fhir-resources-to-cda-xml" class="md-nav__link">
    <span class="md-ellipsis">
      
        Convert FHIR resources to CDA XML
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.register_cda_document_config_validator" class="md-nav__link">
    <span class="md-ellipsis">
      
        register_cda_document_config_validator
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="register_cda_document_config_validator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.register_cda_document_config_validator--register-a-config-validator-for-the-ccd-document-type" class="md-nav__link">
    <span class="md-ellipsis">
      
        Register a config validator for the CCD document type
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.register_cda_section_config_validator" class="md-nav__link">
    <span class="md-ellipsis">
      
        register_cda_section_config_validator
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="register_cda_section_config_validator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.register_cda_section_config_validator--register-a-config-validator-for-the-problem-section-which-is-converted-from-the-condition-resource" class="md-nav__link">
    <span class="md-ellipsis">
      
        Register a config validator for the Problem section, which is converted from the Condition resource
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.register_generator" class="md-nav__link">
    <span class="md-ellipsis">
      
        register_generator
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.register_parser" class="md-nav__link">
    <span class="md-ellipsis">
      
        register_parser
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.to_fhir" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_fhir
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="to_fhir">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.to_fhir--convert-cda-xml-to-fhir-resources" class="md-nav__link">
    <span class="md-ellipsis">
      
        Convert CDA XML to FHIR resources
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.interop.engine.normalize_resource_list" class="md-nav__link">
    <span class="md-ellipsis">
      
        normalize_resource_list
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.interop.config_manager" class="md-nav__link">
    <span class="md-ellipsis">
      
        config_manager
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.interop.config_manager.InteropConfigManager" class="md-nav__link">
    <span class="md-ellipsis">
      
        InteropConfigManager
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="InteropConfigManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.config_manager.InteropConfigManager.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.config_manager.InteropConfigManager.get_cda_document_config" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_cda_document_config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.config_manager.InteropConfigManager.get_cda_section_configs" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_cda_section_configs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.config_manager.InteropConfigManager.register_cda_document_config" class="md-nav__link">
    <span class="md-ellipsis">
      
        register_cda_document_config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.config_manager.InteropConfigManager.register_cda_section_config" class="md-nav__link">
    <span class="md-ellipsis">
      
        register_cda_section_config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.config_manager.InteropConfigManager.validate" class="md-nav__link">
    <span class="md-ellipsis">
      
        validate
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.interop.template_registry" class="md-nav__link">
    <span class="md-ellipsis">
      
        template_registry
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.interop.template_registry.TemplateRegistry" class="md-nav__link">
    <span class="md-ellipsis">
      
        TemplateRegistry
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TemplateRegistry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.template_registry.TemplateRegistry.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.template_registry.TemplateRegistry.add_filter" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_filter
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.template_registry.TemplateRegistry.add_filters" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_filters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.template_registry.TemplateRegistry.get_template" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_template
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.template_registry.TemplateRegistry.has_template" class="md-nav__link">
    <span class="md-ellipsis">
      
        has_template
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.template_registry.TemplateRegistry.initialize" class="md-nav__link">
    <span class="md-ellipsis">
      
        initialize
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.interop.parsers.cda" class="md-nav__link">
    <span class="md-ellipsis">
      
        cda
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.interop.parsers.cda.CDAParser" class="md-nav__link">
    <span class="md-ellipsis">
      
        CDAParser
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CDAParser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.parsers.cda.CDAParser.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.parsers.cda.CDAParser.from_string" class="md-nav__link">
    <span class="md-ellipsis">
      
        from_string
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.parsers.cda.CDAParser.parse_document" class="md-nav__link">
    <span class="md-ellipsis">
      
        parse_document
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.interop.generators.cda" class="md-nav__link">
    <span class="md-ellipsis">
      
        cda
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.interop.generators.cda.CDAGenerator" class="md-nav__link">
    <span class="md-ellipsis">
      
        CDAGenerator
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CDAGenerator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.generators.cda.CDAGenerator--convert-fhir-resources-to-cda-xml-document" class="md-nav__link">
    <span class="md-ellipsis">
      
        Convert FHIR resources to CDA XML document
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.generators.cda.CDAGenerator.generate_document_from_fhir_resources" class="md-nav__link">
    <span class="md-ellipsis">
      
        generate_document_from_fhir_resources
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.generators.cda.CDAGenerator.transform" class="md-nav__link">
    <span class="md-ellipsis">
      
        transform
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.interop.generators.fhir" class="md-nav__link">
    <span class="md-ellipsis">
      
        fhir
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.interop.generators.fhir.FHIRGenerator" class="md-nav__link">
    <span class="md-ellipsis">
      
        FHIRGenerator
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FHIRGenerator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.generators.fhir.FHIRGenerator--convert-cda-problem-entries-to-fhir-condition-resources" class="md-nav__link">
    <span class="md-ellipsis">
      
        Convert CDA problem entries to FHIR Condition resources
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.generators.fhir.FHIRGenerator.generate_resources_from_cda_section_entries" class="md-nav__link">
    <span class="md-ellipsis">
      
        generate_resources_from_cda_section_entries
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="generate_resources_from_cda_section_entries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.generators.fhir.FHIRGenerator.generate_resources_from_cda_section_entries--convert-problem-list-entries-to-fhir-condition-resources" class="md-nav__link">
    <span class="md-ellipsis">
      
        Convert problem list entries to FHIR Condition resources
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.generators.fhir.FHIRGenerator.generate_resources_from_hl7v2_entries" class="md-nav__link">
    <span class="md-ellipsis">
      
        generate_resources_from_hl7v2_entries
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.generators.fhir.FHIRGenerator.transform" class="md-nav__link">
    <span class="md-ellipsis">
      
        transform
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators" class="md-nav__link">
    <span class="md-ellipsis">
      
        validators
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.AllergySectionTemplateConfig" class="md-nav__link">
    <span class="md-ellipsis">
      
        AllergySectionTemplateConfig
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.CcdDocumentConfig" class="md-nav__link">
    <span class="md-ellipsis">
      
        CcdDocumentConfig
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.ComponentTemplateConfig" class="md-nav__link">
    <span class="md-ellipsis">
      
        ComponentTemplateConfig
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.DocumentConfigBase" class="md-nav__link">
    <span class="md-ellipsis">
      
        DocumentConfigBase
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.MedicationSectionTemplateConfig" class="md-nav__link">
    <span class="md-ellipsis">
      
        MedicationSectionTemplateConfig
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.NoteSectionTemplateConfig" class="md-nav__link">
    <span class="md-ellipsis">
      
        NoteSectionTemplateConfig
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.ProblemSectionTemplateConfig" class="md-nav__link">
    <span class="md-ellipsis">
      
        ProblemSectionTemplateConfig
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.RenderingConfig" class="md-nav__link">
    <span class="md-ellipsis">
      
        RenderingConfig
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.SectionBaseConfig" class="md-nav__link">
    <span class="md-ellipsis">
      
        SectionBaseConfig
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.SectionIdentifiersConfig" class="md-nav__link">
    <span class="md-ellipsis">
      
        SectionIdentifiersConfig
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.SectionTemplateConfigBase" class="md-nav__link">
    <span class="md-ellipsis">
      
        SectionTemplateConfigBase
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SectionTemplateConfigBase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#healthchain.config.validators.SectionTemplateConfigBase.validate_component_fields" class="md-nav__link">
    <span class="md-ellipsis">
      
        validate_component_fields
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.create_cda_section_validator" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_cda_section_validator
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.register_cda_document_template_config_model" class="md-nav__link">
    <span class="md-ellipsis">
      
        register_cda_document_template_config_model
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.register_cda_section_template_config_model" class="md-nav__link">
    <span class="md-ellipsis">
      
        register_cda_section_template_config_model
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.validate_cda_document_config_model" class="md-nav__link">
    <span class="md-ellipsis">
      
        validate_cda_document_config_model
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.validate_cda_section_config_model" class="md-nav__link">
    <span class="md-ellipsis">
      
        validate_cda_section_config_model
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fhir_helpers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FHIR Helpers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Community
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Community
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../community/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Community
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#healthchain.interop.engine" class="md-nav__link">
    <span class="md-ellipsis">
      
        engine
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine" class="md-nav__link">
    <span class="md-ellipsis">
      
        InteropEngine
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="InteropEngine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine--convert-cda-to-fhir" class="md-nav__link">
    <span class="md-ellipsis">
      
        Convert CDA to FHIR
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine--convert-fhir-to-cda" class="md-nav__link">
    <span class="md-ellipsis">
      
        Convert FHIR to CDA
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine--access-config-directly" class="md-nav__link">
    <span class="md-ellipsis">
      
        Access config directly:
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine--access-the-template-registry" class="md-nav__link">
    <span class="md-ellipsis">
      
        Access the template registry:
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine--register-custom-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        Register custom components:
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine--register-custom-configuration-validators" class="md-nav__link">
    <span class="md-ellipsis">
      
        Register custom configuration validators:
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.cda_generator" class="md-nav__link">
    <span class="md-ellipsis">
      
        cda_generator
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.cda_parser" class="md-nav__link">
    <span class="md-ellipsis">
      
        cda_parser
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.fhir_generator" class="md-nav__link">
    <span class="md-ellipsis">
      
        fhir_generator
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.hl7v2_generator" class="md-nav__link">
    <span class="md-ellipsis">
      
        hl7v2_generator
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.hl7v2_parser" class="md-nav__link">
    <span class="md-ellipsis">
      
        hl7v2_parser
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.from_fhir" class="md-nav__link">
    <span class="md-ellipsis">
      
        from_fhir
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="from_fhir">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.from_fhir--convert-fhir-resources-to-cda-xml" class="md-nav__link">
    <span class="md-ellipsis">
      
        Convert FHIR resources to CDA XML
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.register_cda_document_config_validator" class="md-nav__link">
    <span class="md-ellipsis">
      
        register_cda_document_config_validator
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="register_cda_document_config_validator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.register_cda_document_config_validator--register-a-config-validator-for-the-ccd-document-type" class="md-nav__link">
    <span class="md-ellipsis">
      
        Register a config validator for the CCD document type
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.register_cda_section_config_validator" class="md-nav__link">
    <span class="md-ellipsis">
      
        register_cda_section_config_validator
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="register_cda_section_config_validator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.register_cda_section_config_validator--register-a-config-validator-for-the-problem-section-which-is-converted-from-the-condition-resource" class="md-nav__link">
    <span class="md-ellipsis">
      
        Register a config validator for the Problem section, which is converted from the Condition resource
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.register_generator" class="md-nav__link">
    <span class="md-ellipsis">
      
        register_generator
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.register_parser" class="md-nav__link">
    <span class="md-ellipsis">
      
        register_parser
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.to_fhir" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_fhir
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="to_fhir">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.engine.InteropEngine.to_fhir--convert-cda-xml-to-fhir-resources" class="md-nav__link">
    <span class="md-ellipsis">
      
        Convert CDA XML to FHIR resources
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.interop.engine.normalize_resource_list" class="md-nav__link">
    <span class="md-ellipsis">
      
        normalize_resource_list
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.interop.config_manager" class="md-nav__link">
    <span class="md-ellipsis">
      
        config_manager
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.interop.config_manager.InteropConfigManager" class="md-nav__link">
    <span class="md-ellipsis">
      
        InteropConfigManager
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="InteropConfigManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.config_manager.InteropConfigManager.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.config_manager.InteropConfigManager.get_cda_document_config" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_cda_document_config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.config_manager.InteropConfigManager.get_cda_section_configs" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_cda_section_configs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.config_manager.InteropConfigManager.register_cda_document_config" class="md-nav__link">
    <span class="md-ellipsis">
      
        register_cda_document_config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.config_manager.InteropConfigManager.register_cda_section_config" class="md-nav__link">
    <span class="md-ellipsis">
      
        register_cda_section_config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.config_manager.InteropConfigManager.validate" class="md-nav__link">
    <span class="md-ellipsis">
      
        validate
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.interop.template_registry" class="md-nav__link">
    <span class="md-ellipsis">
      
        template_registry
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.interop.template_registry.TemplateRegistry" class="md-nav__link">
    <span class="md-ellipsis">
      
        TemplateRegistry
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TemplateRegistry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.template_registry.TemplateRegistry.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.template_registry.TemplateRegistry.add_filter" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_filter
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.template_registry.TemplateRegistry.add_filters" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_filters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.template_registry.TemplateRegistry.get_template" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_template
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.template_registry.TemplateRegistry.has_template" class="md-nav__link">
    <span class="md-ellipsis">
      
        has_template
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.template_registry.TemplateRegistry.initialize" class="md-nav__link">
    <span class="md-ellipsis">
      
        initialize
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.interop.parsers.cda" class="md-nav__link">
    <span class="md-ellipsis">
      
        cda
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.interop.parsers.cda.CDAParser" class="md-nav__link">
    <span class="md-ellipsis">
      
        CDAParser
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CDAParser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.parsers.cda.CDAParser.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.parsers.cda.CDAParser.from_string" class="md-nav__link">
    <span class="md-ellipsis">
      
        from_string
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.parsers.cda.CDAParser.parse_document" class="md-nav__link">
    <span class="md-ellipsis">
      
        parse_document
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.interop.generators.cda" class="md-nav__link">
    <span class="md-ellipsis">
      
        cda
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.interop.generators.cda.CDAGenerator" class="md-nav__link">
    <span class="md-ellipsis">
      
        CDAGenerator
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CDAGenerator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.generators.cda.CDAGenerator--convert-fhir-resources-to-cda-xml-document" class="md-nav__link">
    <span class="md-ellipsis">
      
        Convert FHIR resources to CDA XML document
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.generators.cda.CDAGenerator.generate_document_from_fhir_resources" class="md-nav__link">
    <span class="md-ellipsis">
      
        generate_document_from_fhir_resources
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.generators.cda.CDAGenerator.transform" class="md-nav__link">
    <span class="md-ellipsis">
      
        transform
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.interop.generators.fhir" class="md-nav__link">
    <span class="md-ellipsis">
      
        fhir
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.interop.generators.fhir.FHIRGenerator" class="md-nav__link">
    <span class="md-ellipsis">
      
        FHIRGenerator
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FHIRGenerator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.generators.fhir.FHIRGenerator--convert-cda-problem-entries-to-fhir-condition-resources" class="md-nav__link">
    <span class="md-ellipsis">
      
        Convert CDA problem entries to FHIR Condition resources
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.generators.fhir.FHIRGenerator.generate_resources_from_cda_section_entries" class="md-nav__link">
    <span class="md-ellipsis">
      
        generate_resources_from_cda_section_entries
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="generate_resources_from_cda_section_entries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.generators.fhir.FHIRGenerator.generate_resources_from_cda_section_entries--convert-problem-list-entries-to-fhir-condition-resources" class="md-nav__link">
    <span class="md-ellipsis">
      
        Convert problem list entries to FHIR Condition resources
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.generators.fhir.FHIRGenerator.generate_resources_from_hl7v2_entries" class="md-nav__link">
    <span class="md-ellipsis">
      
        generate_resources_from_hl7v2_entries
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#healthchain.interop.generators.fhir.FHIRGenerator.transform" class="md-nav__link">
    <span class="md-ellipsis">
      
        transform
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators" class="md-nav__link">
    <span class="md-ellipsis">
      
        validators
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.AllergySectionTemplateConfig" class="md-nav__link">
    <span class="md-ellipsis">
      
        AllergySectionTemplateConfig
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.CcdDocumentConfig" class="md-nav__link">
    <span class="md-ellipsis">
      
        CcdDocumentConfig
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.ComponentTemplateConfig" class="md-nav__link">
    <span class="md-ellipsis">
      
        ComponentTemplateConfig
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.DocumentConfigBase" class="md-nav__link">
    <span class="md-ellipsis">
      
        DocumentConfigBase
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.MedicationSectionTemplateConfig" class="md-nav__link">
    <span class="md-ellipsis">
      
        MedicationSectionTemplateConfig
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.NoteSectionTemplateConfig" class="md-nav__link">
    <span class="md-ellipsis">
      
        NoteSectionTemplateConfig
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.ProblemSectionTemplateConfig" class="md-nav__link">
    <span class="md-ellipsis">
      
        ProblemSectionTemplateConfig
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.RenderingConfig" class="md-nav__link">
    <span class="md-ellipsis">
      
        RenderingConfig
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.SectionBaseConfig" class="md-nav__link">
    <span class="md-ellipsis">
      
        SectionBaseConfig
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.SectionIdentifiersConfig" class="md-nav__link">
    <span class="md-ellipsis">
      
        SectionIdentifiersConfig
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.SectionTemplateConfigBase" class="md-nav__link">
    <span class="md-ellipsis">
      
        SectionTemplateConfigBase
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SectionTemplateConfigBase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#healthchain.config.validators.SectionTemplateConfigBase.validate_component_fields" class="md-nav__link">
    <span class="md-ellipsis">
      
        validate_component_fields
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.create_cda_section_validator" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_cda_section_validator
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.register_cda_document_template_config_model" class="md-nav__link">
    <span class="md-ellipsis">
      
        register_cda_document_template_config_model
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.register_cda_section_template_config_model" class="md-nav__link">
    <span class="md-ellipsis">
      
        register_cda_section_template_config_model
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.validate_cda_document_config_model" class="md-nav__link">
    <span class="md-ellipsis">
      
        validate_cda_document_config_model
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#healthchain.config.validators.validate_cda_section_config_model" class="md-nav__link">
    <span class="md-ellipsis">
      
        validate_cda_section_config_model
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="interoperability-engine">Interoperability Engine</h1>


<div class="doc doc-object doc-module">



<a id="healthchain.interop.engine"></a>
    <div class="doc doc-contents first">










<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="healthchain.interop.engine.InteropEngine" class="doc doc-heading">
            <code>InteropEngine</code>


</h2>


    <div class="doc doc-contents ">



        <p>Generic interoperability engine for converting between healthcare formats</p>
<p>The InteropEngine provides capabilities for converting between different
healthcare data format standards, such as HL7 FHIR, CDA, and HL7v2.</p>
<p>The engine uses a template-based approach for transformations, with templates
stored in the configured template directory. Transformations are handled by
format-specific parsers and generators that are lazily loaded as needed.</p>
<p>Configuration is handled through the <code>config</code> property, which provides
direct access to the underlying ConfigManager instance. This allows
for setting validation levels, changing environments, and accessing
configuration values.</p>
<p>The engine supports registering custom parsers, generators, and validators
to extend or override the default functionality.</p>


<details class="example" open>
  <summary>Example</summary>
  <p>engine = InteropEngine()</p>
<h3 id="healthchain.interop.engine.InteropEngine--convert-cda-to-fhir">Convert CDA to FHIR</h3>
<p>fhir_resources = engine.to_fhir(cda_xml, src_format="cda")</p>
<h3 id="healthchain.interop.engine.InteropEngine--convert-fhir-to-cda">Convert FHIR to CDA</h3>
<p>cda_xml = engine.from_fhir(fhir_resources, dest_format="cda")</p>
<h3 id="healthchain.interop.engine.InteropEngine--access-config-directly">Access config directly:</h3>
<p>engine.config.set_environment("production")
engine.config.set_validation_level("warn")
value = engine.config.get_config_value("cda.sections.problems.resource")</p>
<h3 id="healthchain.interop.engine.InteropEngine--access-the-template-registry">Access the template registry:</h3>
<p>template = engine.template_registry.get_template("cda_fhir/condition")
engine.template_registry.add_filter()</p>
<h3 id="healthchain.interop.engine.InteropEngine--register-custom-components">Register custom components:</h3>
<p>engine.register_parser(FormatType.CDA, custom_parser)
engine.register_generator(FormatType.FHIR, custom_generator)</p>
<h3 id="healthchain.interop.engine.InteropEngine--register-custom-configuration-validators">Register custom configuration validators:</h3>
<p>engine.register_cda_section_config_validator("Procedure", ProcedureSectionConfig)
engine.register_cda_document_config_validator("CCD", CCDDocumentConfig)</p>
</details>







              <details class="mkdocstrings-source">
                <summary>Source code in <code>healthchain/interop/engine.py</code></summary>
                <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-38"> 38</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-39"> 39</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-40"> 40</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-41"> 41</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-42"> 42</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-43"> 43</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-44"> 44</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-45"> 45</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-46"> 46</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-47"> 47</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-48"> 48</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-49"> 49</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-50"> 50</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-51"> 51</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-52"> 52</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-53"> 53</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-54"> 54</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-55"> 55</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-56"> 56</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-57"> 57</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-58"> 58</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-59"> 59</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-60"> 60</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-61"> 61</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-62"> 62</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-63"> 63</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-64"> 64</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-65"> 65</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-66"> 66</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-67"> 67</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-68"> 68</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-69"> 69</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-70"> 70</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-71"> 71</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-72"> 72</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-73"> 73</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-74"> 74</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-75"> 75</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-76"> 76</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-77"> 77</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-78"> 78</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-79"> 79</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-80"> 80</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-81"> 81</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-82"> 82</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-83"> 83</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-84"> 84</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-85"> 85</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-86"> 86</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-87"> 87</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-88"> 88</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-89"> 89</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-90"> 90</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-91"> 91</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-92"> 92</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-93"> 93</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-94"> 94</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-95"> 95</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-96"> 96</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-97"> 97</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-98"> 98</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-99"> 99</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-100">100</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-101">101</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-102">102</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-103">103</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-104">104</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-105">105</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-106">106</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-107">107</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-108">108</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-109">109</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-110">110</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-111">111</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-112">112</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-113">113</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-114">114</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-115">115</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-116">116</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-117">117</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-118">118</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-119">119</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-120">120</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-121">121</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-122">122</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-123">123</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-124">124</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-125">125</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-126">126</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-127">127</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-128">128</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-129">129</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-130">130</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-131">131</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-132">132</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-133">133</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-134">134</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-135">135</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-136">136</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-137">137</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-138">138</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-139">139</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-140">140</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-141">141</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-142">142</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-143">143</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-144">144</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-145">145</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-146">146</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-147">147</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-148">148</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-149">149</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-150">150</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-151">151</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-152">152</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-153">153</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-154">154</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-155">155</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-156">156</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-157">157</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-158">158</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-159">159</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-160">160</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-161">161</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-162">162</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-163">163</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-164">164</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-165">165</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-166">166</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-167">167</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-168">168</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-169">169</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-170">170</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-171">171</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-172">172</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-173">173</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-174">174</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-175">175</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-176">176</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-177">177</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-178">178</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-179">179</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-180">180</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-181">181</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-182">182</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-183">183</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-184">184</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-185">185</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-186">186</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-187">187</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-188">188</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-189">189</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-190">190</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-191">191</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-192">192</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-193">193</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-194">194</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-195">195</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-196">196</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-197">197</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-198">198</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-199">199</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-200">200</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-201">201</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-202">202</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-203">203</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-204">204</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-205">205</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-206">206</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-207">207</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-208">208</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-209">209</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-210">210</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-211">211</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-212">212</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-213">213</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-214">214</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-215">215</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-216">216</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-217">217</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-218">218</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-219">219</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-220">220</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-221">221</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-222">222</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-223">223</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-224">224</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-225">225</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-226">226</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-227">227</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-228">228</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-229">229</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-230">230</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-231">231</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-232">232</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-233">233</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-234">234</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-235">235</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-236">236</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-237">237</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-238">238</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-239">239</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-240">240</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-241">241</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-242">242</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-243">243</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-244">244</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-245">245</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-246">246</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-247">247</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-248">248</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-249">249</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-250">250</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-251">251</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-252">252</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-253">253</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-254">254</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-255">255</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-256">256</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-257">257</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-258">258</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-259">259</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-260">260</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-261">261</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-262">262</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-263">263</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-264">264</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-265">265</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-266">266</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-267">267</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-268">268</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-269">269</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-270">270</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-271">271</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-272">272</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-273">273</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-274">274</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-275">275</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-276">276</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-277">277</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-278">278</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-279">279</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-280">280</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-281">281</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-282">282</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-283">283</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-284">284</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-285">285</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-286">286</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-287">287</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-288">288</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-289">289</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-290">290</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-291">291</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-292">292</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-293">293</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-294">294</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-295">295</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-296">296</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-297">297</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-298">298</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-299">299</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-300">300</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-301">301</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-302">302</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-303">303</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-304">304</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-305">305</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-306">306</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-307">307</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-308">308</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-309">309</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-310">310</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-311">311</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-312">312</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-313">313</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-314">314</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-315">315</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-316">316</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-317">317</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-318">318</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-319">319</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-320">320</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-321">321</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-322">322</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-323">323</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-324">324</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-325">325</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-326">326</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-327">327</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-328">328</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-329">329</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-330">330</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-331">331</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-332">332</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-333">333</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-334">334</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-335">335</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-336">336</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-337">337</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-338">338</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-339">339</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-340">340</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-341">341</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-342">342</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-343">343</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-344">344</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-345">345</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-346">346</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-347">347</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-348">348</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-349">349</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-350">350</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-351">351</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-352">352</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-353">353</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-354">354</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-355">355</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-356">356</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-357">357</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-358">358</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-359">359</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-360">360</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-361">361</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-362">362</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-363">363</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-364">364</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-365">365</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-366">366</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-367">367</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-368">368</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-369">369</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-370">370</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-371">371</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-372">372</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-373">373</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-374">374</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-375">375</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-376">376</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-377">377</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-378">378</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-379">379</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-380">380</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-381">381</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-382">382</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-383">383</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-384">384</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-385">385</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-386">386</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-387">387</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-388">388</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-389">389</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-390">390</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-391">391</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-392">392</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-393">393</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-394">394</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-395">395</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-396">396</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-397">397</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-398">398</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-399">399</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-400">400</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-401">401</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-402">402</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-403">403</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-404">404</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-405">405</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-406">406</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-407">407</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-408">408</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-409">409</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-410">410</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-411">411</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-412">412</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-413">413</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-414">414</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-415">415</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-416">416</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-417">417</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-418">418</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-419">419</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-420">420</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-421">421</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-422">422</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-423">423</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-424">424</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-425">425</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-426">426</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-427">427</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-428">428</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-429">429</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-38"><a id="__codelineno-0-38" name="__codelineno-0-38"></a><span style="color: #BB80B3">class</span><span style="color: #EFF"> </span><span style="color: #FFCB6B">InteropEngine</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-39"><a id="__codelineno-0-39" name="__codelineno-0-39"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Generic interoperability engine for converting between healthcare formats</span>
</span><span id="__span-0-40"><a id="__codelineno-0-40" name="__codelineno-0-40"></a>
</span><span id="__span-0-41"><a id="__codelineno-0-41" name="__codelineno-0-41"></a><span style="color: #546E7A; font-style: italic">    The InteropEngine provides capabilities for converting between different</span>
</span><span id="__span-0-42"><a id="__codelineno-0-42" name="__codelineno-0-42"></a><span style="color: #546E7A; font-style: italic">    healthcare data format standards, such as HL7 FHIR, CDA, and HL7v2.</span>
</span><span id="__span-0-43"><a id="__codelineno-0-43" name="__codelineno-0-43"></a>
</span><span id="__span-0-44"><a id="__codelineno-0-44" name="__codelineno-0-44"></a><span style="color: #546E7A; font-style: italic">    The engine uses a template-based approach for transformations, with templates</span>
</span><span id="__span-0-45"><a id="__codelineno-0-45" name="__codelineno-0-45"></a><span style="color: #546E7A; font-style: italic">    stored in the configured template directory. Transformations are handled by</span>
</span><span id="__span-0-46"><a id="__codelineno-0-46" name="__codelineno-0-46"></a><span style="color: #546E7A; font-style: italic">    format-specific parsers and generators that are lazily loaded as needed.</span>
</span><span id="__span-0-47"><a id="__codelineno-0-47" name="__codelineno-0-47"></a>
</span><span id="__span-0-48"><a id="__codelineno-0-48" name="__codelineno-0-48"></a><span style="color: #546E7A; font-style: italic">    Configuration is handled through the `config` property, which provides</span>
</span><span id="__span-0-49"><a id="__codelineno-0-49" name="__codelineno-0-49"></a><span style="color: #546E7A; font-style: italic">    direct access to the underlying ConfigManager instance. This allows</span>
</span><span id="__span-0-50"><a id="__codelineno-0-50" name="__codelineno-0-50"></a><span style="color: #546E7A; font-style: italic">    for setting validation levels, changing environments, and accessing</span>
</span><span id="__span-0-51"><a id="__codelineno-0-51" name="__codelineno-0-51"></a><span style="color: #546E7A; font-style: italic">    configuration values.</span>
</span><span id="__span-0-52"><a id="__codelineno-0-52" name="__codelineno-0-52"></a>
</span><span id="__span-0-53"><a id="__codelineno-0-53" name="__codelineno-0-53"></a><span style="color: #546E7A; font-style: italic">    The engine supports registering custom parsers, generators, and validators</span>
</span><span id="__span-0-54"><a id="__codelineno-0-54" name="__codelineno-0-54"></a><span style="color: #546E7A; font-style: italic">    to extend or override the default functionality.</span>
</span><span id="__span-0-55"><a id="__codelineno-0-55" name="__codelineno-0-55"></a>
</span><span id="__span-0-56"><a id="__codelineno-0-56" name="__codelineno-0-56"></a><span style="color: #546E7A; font-style: italic">    Example:</span>
</span><span id="__span-0-57"><a id="__codelineno-0-57" name="__codelineno-0-57"></a><span style="color: #546E7A; font-style: italic">        engine = InteropEngine()</span>
</span><span id="__span-0-58"><a id="__codelineno-0-58" name="__codelineno-0-58"></a>
</span><span id="__span-0-59"><a id="__codelineno-0-59" name="__codelineno-0-59"></a><span style="color: #546E7A; font-style: italic">        # Convert CDA to FHIR</span>
</span><span id="__span-0-60"><a id="__codelineno-0-60" name="__codelineno-0-60"></a><span style="color: #546E7A; font-style: italic">        fhir_resources = engine.to_fhir(cda_xml, src_format=&quot;cda&quot;)</span>
</span><span id="__span-0-61"><a id="__codelineno-0-61" name="__codelineno-0-61"></a>
</span><span id="__span-0-62"><a id="__codelineno-0-62" name="__codelineno-0-62"></a><span style="color: #546E7A; font-style: italic">        # Convert FHIR to CDA</span>
</span><span id="__span-0-63"><a id="__codelineno-0-63" name="__codelineno-0-63"></a><span style="color: #546E7A; font-style: italic">        cda_xml = engine.from_fhir(fhir_resources, dest_format=&quot;cda&quot;)</span>
</span><span id="__span-0-64"><a id="__codelineno-0-64" name="__codelineno-0-64"></a>
</span><span id="__span-0-65"><a id="__codelineno-0-65" name="__codelineno-0-65"></a><span style="color: #546E7A; font-style: italic">        # Access config directly:</span>
</span><span id="__span-0-66"><a id="__codelineno-0-66" name="__codelineno-0-66"></a><span style="color: #546E7A; font-style: italic">        engine.config.set_environment(&quot;production&quot;)</span>
</span><span id="__span-0-67"><a id="__codelineno-0-67" name="__codelineno-0-67"></a><span style="color: #546E7A; font-style: italic">        engine.config.set_validation_level(&quot;warn&quot;)</span>
</span><span id="__span-0-68"><a id="__codelineno-0-68" name="__codelineno-0-68"></a><span style="color: #546E7A; font-style: italic">        value = engine.config.get_config_value(&quot;cda.sections.problems.resource&quot;)</span>
</span><span id="__span-0-69"><a id="__codelineno-0-69" name="__codelineno-0-69"></a>
</span><span id="__span-0-70"><a id="__codelineno-0-70" name="__codelineno-0-70"></a><span style="color: #546E7A; font-style: italic">        # Access the template registry:</span>
</span><span id="__span-0-71"><a id="__codelineno-0-71" name="__codelineno-0-71"></a><span style="color: #546E7A; font-style: italic">        template = engine.template_registry.get_template(&quot;cda_fhir/condition&quot;)</span>
</span><span id="__span-0-72"><a id="__codelineno-0-72" name="__codelineno-0-72"></a><span style="color: #546E7A; font-style: italic">        engine.template_registry.add_filter()</span>
</span><span id="__span-0-73"><a id="__codelineno-0-73" name="__codelineno-0-73"></a>
</span><span id="__span-0-74"><a id="__codelineno-0-74" name="__codelineno-0-74"></a><span style="color: #546E7A; font-style: italic">        # Register custom components:</span>
</span><span id="__span-0-75"><a id="__codelineno-0-75" name="__codelineno-0-75"></a><span style="color: #546E7A; font-style: italic">        engine.register_parser(FormatType.CDA, custom_parser)</span>
</span><span id="__span-0-76"><a id="__codelineno-0-76" name="__codelineno-0-76"></a><span style="color: #546E7A; font-style: italic">        engine.register_generator(FormatType.FHIR, custom_generator)</span>
</span><span id="__span-0-77"><a id="__codelineno-0-77" name="__codelineno-0-77"></a>
</span><span id="__span-0-78"><a id="__codelineno-0-78" name="__codelineno-0-78"></a><span style="color: #546E7A; font-style: italic">        # Register custom configuration validators:</span>
</span><span id="__span-0-79"><a id="__codelineno-0-79" name="__codelineno-0-79"></a><span style="color: #546E7A; font-style: italic">        engine.register_cda_section_config_validator(&quot;Procedure&quot;, ProcedureSectionConfig)</span>
</span><span id="__span-0-80"><a id="__codelineno-0-80" name="__codelineno-0-80"></a><span style="color: #546E7A; font-style: italic">        engine.register_cda_document_config_validator(&quot;CCD&quot;, CCDDocumentConfig)</span>
</span><span id="__span-0-81"><a id="__codelineno-0-81" name="__codelineno-0-81"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-82"><a id="__codelineno-0-82" name="__codelineno-0-82"></a>
</span><span id="__span-0-83"><a id="__codelineno-0-83" name="__codelineno-0-83"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">__init__</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-84"><a id="__codelineno-0-84" name="__codelineno-0-84"></a>        <span style="color: #89DDFF">self,</span>
</span><span id="__span-0-85"><a id="__codelineno-0-85" name="__codelineno-0-85"></a>        <span style="color: #EFF">config_dir</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Path</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None,</span>
</span><span id="__span-0-86"><a id="__codelineno-0-86" name="__codelineno-0-86"></a>        <span style="color: #EFF">validation_level</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">ValidationLevel</span><span style="color: #89DDFF">.</span><span style="color: #EFF">STRICT</span><span style="color: #89DDFF">,</span>
</span><span id="__span-0-87"><a id="__codelineno-0-87" name="__codelineno-0-87"></a>        <span style="color: #EFF">environment</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None,</span>
</span><span id="__span-0-88"><a id="__codelineno-0-88" name="__codelineno-0-88"></a>    <span style="color: #89DDFF">):</span>
</span><span id="__span-0-89"><a id="__codelineno-0-89" name="__codelineno-0-89"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Initialize the InteropEngine</span>
</span><span id="__span-0-90"><a id="__codelineno-0-90" name="__codelineno-0-90"></a>
</span><span id="__span-0-91"><a id="__codelineno-0-91" name="__codelineno-0-91"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-92"><a id="__codelineno-0-92" name="__codelineno-0-92"></a><span style="color: #546E7A; font-style: italic">            config_dir: Base directory containing configuration files. If None, will search standard locations.</span>
</span><span id="__span-0-93"><a id="__codelineno-0-93" name="__codelineno-0-93"></a><span style="color: #546E7A; font-style: italic">            validation_level: Level of configuration validation (strict, warn, ignore)</span>
</span><span id="__span-0-94"><a id="__codelineno-0-94" name="__codelineno-0-94"></a><span style="color: #546E7A; font-style: italic">            environment: Optional environment to use (development, testing, production)</span>
</span><span id="__span-0-95"><a id="__codelineno-0-95" name="__codelineno-0-95"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-96"><a id="__codelineno-0-96" name="__codelineno-0-96"></a>        <span style="color: #546E7A; font-style: italic"># Initialize configuration manager</span>
</span><span id="__span-0-97"><a id="__codelineno-0-97" name="__codelineno-0-97"></a>        <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">InteropConfigManager</span><span style="color: #89DDFF">(</span><span style="color: #EFF">config_dir</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">validation_level</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">environment</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-98"><a id="__codelineno-0-98" name="__codelineno-0-98"></a>
</span><span id="__span-0-99"><a id="__codelineno-0-99" name="__codelineno-0-99"></a>        <span style="color: #546E7A; font-style: italic"># Initialize template registry</span>
</span><span id="__span-0-100"><a id="__codelineno-0-100" name="__codelineno-0-100"></a>        <span style="color: #EFF">template_dir</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">config_dir</span> <span style="color: #89DDFF">/</span> <span style="color: #C3E88D">&quot;templates&quot;</span>
</span><span id="__span-0-101"><a id="__codelineno-0-101" name="__codelineno-0-101"></a>        <span style="color: #89DDFF">self.</span><span style="color: #EFF">template_registry</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">TemplateRegistry</span><span style="color: #89DDFF">(</span><span style="color: #EFF">template_dir</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-102"><a id="__codelineno-0-102" name="__codelineno-0-102"></a>
</span><span id="__span-0-103"><a id="__codelineno-0-103" name="__codelineno-0-103"></a>        <span style="color: #546E7A; font-style: italic"># Create and register default filters</span>
</span><span id="__span-0-104"><a id="__codelineno-0-104" name="__codelineno-0-104"></a>        <span style="color: #546E7A; font-style: italic"># Get required configuration for filters</span>
</span><span id="__span-0-105"><a id="__codelineno-0-105" name="__codelineno-0-105"></a>        <span style="color: #EFF">mappings_dir</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_config_value</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;defaults.mappings_dir&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-106"><a id="__codelineno-0-106" name="__codelineno-0-106"></a>        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">mappings_dir</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-107"><a id="__codelineno-0-107" name="__codelineno-0-107"></a>            <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">warning</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;No mappings directory configured, using default mappings&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-108"><a id="__codelineno-0-108" name="__codelineno-0-108"></a>            <span style="color: #EFF">mappings_dir</span> <span style="color: #89DDFF">=</span> <span style="color: #C3E88D">&quot;cda_default&quot;</span>
</span><span id="__span-0-109"><a id="__codelineno-0-109" name="__codelineno-0-109"></a>        <span style="color: #EFF">mappings</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_mappings</span><span style="color: #89DDFF">(</span><span style="color: #EFF">mappings_dir</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-110"><a id="__codelineno-0-110" name="__codelineno-0-110"></a>        <span style="color: #EFF">id_prefix</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_config_value</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;defaults.common.id_prefix&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-111"><a id="__codelineno-0-111" name="__codelineno-0-111"></a>
</span><span id="__span-0-112"><a id="__codelineno-0-112" name="__codelineno-0-112"></a>        <span style="color: #546E7A; font-style: italic"># Get default filters from the filters module</span>
</span><span id="__span-0-113"><a id="__codelineno-0-113" name="__codelineno-0-113"></a>        <span style="color: #EFF">default_filters</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">create_default_filters</span><span style="color: #89DDFF">(</span><span style="color: #EFF">mappings</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">id_prefix</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-114"><a id="__codelineno-0-114" name="__codelineno-0-114"></a>        <span style="color: #89DDFF">self.</span><span style="color: #EFF">template_registry</span><span style="color: #89DDFF">.</span><span style="color: #EFF">initialize</span><span style="color: #89DDFF">(</span><span style="color: #EFF">default_filters</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-115"><a id="__codelineno-0-115" name="__codelineno-0-115"></a>
</span><span id="__span-0-116"><a id="__codelineno-0-116" name="__codelineno-0-116"></a>        <span style="color: #546E7A; font-style: italic"># Component registries for lazy loading</span>
</span><span id="__span-0-117"><a id="__codelineno-0-117" name="__codelineno-0-117"></a>        <span style="color: #89DDFF">self.</span><span style="color: #EFF">_parsers</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">{}</span>
</span><span id="__span-0-118"><a id="__codelineno-0-118" name="__codelineno-0-118"></a>        <span style="color: #89DDFF">self.</span><span style="color: #EFF">_generators</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">{}</span>
</span><span id="__span-0-119"><a id="__codelineno-0-119" name="__codelineno-0-119"></a>
</span><span id="__span-0-120"><a id="__codelineno-0-120" name="__codelineno-0-120"></a>    <span style="color: #546E7A; font-style: italic"># Lazy-loaded parsers</span>
</span><span id="__span-0-121"><a id="__codelineno-0-121" name="__codelineno-0-121"></a>    <span style="color: #82AAFF">@cached_property</span>
</span><span id="__span-0-122"><a id="__codelineno-0-122" name="__codelineno-0-122"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">cda_parser</span><span style="color: #89DDFF">(self):</span>
</span><span id="__span-0-123"><a id="__codelineno-0-123" name="__codelineno-0-123"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Lazily load the CDA parser&quot;&quot;&quot;</span>
</span><span id="__span-0-124"><a id="__codelineno-0-124" name="__codelineno-0-124"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_get_parser</span><span style="color: #89DDFF">(</span><span style="color: #EFF">FormatType</span><span style="color: #89DDFF">.</span><span style="color: #EFF">CDA</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-125"><a id="__codelineno-0-125" name="__codelineno-0-125"></a>
</span><span id="__span-0-126"><a id="__codelineno-0-126" name="__codelineno-0-126"></a>    <span style="color: #82AAFF">@cached_property</span>
</span><span id="__span-0-127"><a id="__codelineno-0-127" name="__codelineno-0-127"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">hl7v2_parser</span><span style="color: #89DDFF">(self):</span>
</span><span id="__span-0-128"><a id="__codelineno-0-128" name="__codelineno-0-128"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Lazily load the HL7v2 parser&quot;&quot;&quot;</span>
</span><span id="__span-0-129"><a id="__codelineno-0-129" name="__codelineno-0-129"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_get_parser</span><span style="color: #89DDFF">(</span><span style="color: #EFF">FormatType</span><span style="color: #89DDFF">.</span><span style="color: #EFF">HL7V2</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-130"><a id="__codelineno-0-130" name="__codelineno-0-130"></a>
</span><span id="__span-0-131"><a id="__codelineno-0-131" name="__codelineno-0-131"></a>    <span style="color: #546E7A; font-style: italic"># Lazy-loaded generators</span>
</span><span id="__span-0-132"><a id="__codelineno-0-132" name="__codelineno-0-132"></a>    <span style="color: #82AAFF">@cached_property</span>
</span><span id="__span-0-133"><a id="__codelineno-0-133" name="__codelineno-0-133"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">cda_generator</span><span style="color: #89DDFF">(self):</span>
</span><span id="__span-0-134"><a id="__codelineno-0-134" name="__codelineno-0-134"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Lazily load the CDA generator&quot;&quot;&quot;</span>
</span><span id="__span-0-135"><a id="__codelineno-0-135" name="__codelineno-0-135"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_get_generator</span><span style="color: #89DDFF">(</span><span style="color: #EFF">FormatType</span><span style="color: #89DDFF">.</span><span style="color: #EFF">CDA</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-136"><a id="__codelineno-0-136" name="__codelineno-0-136"></a>
</span><span id="__span-0-137"><a id="__codelineno-0-137" name="__codelineno-0-137"></a>    <span style="color: #82AAFF">@cached_property</span>
</span><span id="__span-0-138"><a id="__codelineno-0-138" name="__codelineno-0-138"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">fhir_generator</span><span style="color: #89DDFF">(self):</span>
</span><span id="__span-0-139"><a id="__codelineno-0-139" name="__codelineno-0-139"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Lazily load the FHIR generator&quot;&quot;&quot;</span>
</span><span id="__span-0-140"><a id="__codelineno-0-140" name="__codelineno-0-140"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_get_generator</span><span style="color: #89DDFF">(</span><span style="color: #EFF">FormatType</span><span style="color: #89DDFF">.</span><span style="color: #EFF">FHIR</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-141"><a id="__codelineno-0-141" name="__codelineno-0-141"></a>
</span><span id="__span-0-142"><a id="__codelineno-0-142" name="__codelineno-0-142"></a>    <span style="color: #82AAFF">@cached_property</span>
</span><span id="__span-0-143"><a id="__codelineno-0-143" name="__codelineno-0-143"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">hl7v2_generator</span><span style="color: #89DDFF">(self):</span>
</span><span id="__span-0-144"><a id="__codelineno-0-144" name="__codelineno-0-144"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Lazily load the HL7v2 generator&quot;&quot;&quot;</span>
</span><span id="__span-0-145"><a id="__codelineno-0-145" name="__codelineno-0-145"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_get_generator</span><span style="color: #89DDFF">(</span><span style="color: #EFF">FormatType</span><span style="color: #89DDFF">.</span><span style="color: #EFF">HL7V2</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-146"><a id="__codelineno-0-146" name="__codelineno-0-146"></a>
</span><span id="__span-0-147"><a id="__codelineno-0-147" name="__codelineno-0-147"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">_get_parser</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">format_type</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-148"><a id="__codelineno-0-148" name="__codelineno-0-148"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Get or create a parser for the specified format</span>
</span><span id="__span-0-149"><a id="__codelineno-0-149" name="__codelineno-0-149"></a>
</span><span id="__span-0-150"><a id="__codelineno-0-150" name="__codelineno-0-150"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-151"><a id="__codelineno-0-151" name="__codelineno-0-151"></a><span style="color: #546E7A; font-style: italic">            format_type: The format type to get a parser for (CDA or HL7v2)</span>
</span><span id="__span-0-152"><a id="__codelineno-0-152" name="__codelineno-0-152"></a>
</span><span id="__span-0-153"><a id="__codelineno-0-153" name="__codelineno-0-153"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-154"><a id="__codelineno-0-154" name="__codelineno-0-154"></a><span style="color: #546E7A; font-style: italic">            The parser instance for the specified format</span>
</span><span id="__span-0-155"><a id="__codelineno-0-155" name="__codelineno-0-155"></a>
</span><span id="__span-0-156"><a id="__codelineno-0-156" name="__codelineno-0-156"></a><span style="color: #546E7A; font-style: italic">        Raises:</span>
</span><span id="__span-0-157"><a id="__codelineno-0-157" name="__codelineno-0-157"></a><span style="color: #546E7A; font-style: italic">            ValueError: If an unsupported format type is provided</span>
</span><span id="__span-0-158"><a id="__codelineno-0-158" name="__codelineno-0-158"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-159"><a id="__codelineno-0-159" name="__codelineno-0-159"></a>        <span style="color: #BB80B3">if</span> <span style="color: #EFF">format_type</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_parsers</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-160"><a id="__codelineno-0-160" name="__codelineno-0-160"></a>            <span style="color: #BB80B3">if</span> <span style="color: #EFF">format_type</span> <span style="color: #89DDFF">==</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">.</span><span style="color: #EFF">CDA</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-161"><a id="__codelineno-0-161" name="__codelineno-0-161"></a>                <span style="color: #EFF">parser</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">CDAParser</span><span style="color: #89DDFF">(self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-162"><a id="__codelineno-0-162" name="__codelineno-0-162"></a>                <span style="color: #89DDFF">self.</span><span style="color: #EFF">_parsers</span><span style="color: #89DDFF">[</span><span style="color: #EFF">format_type</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">parser</span>
</span><span id="__span-0-163"><a id="__codelineno-0-163" name="__codelineno-0-163"></a>            <span style="color: #BB80B3">elif</span> <span style="color: #EFF">format_type</span> <span style="color: #89DDFF">==</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">.</span><span style="color: #EFF">HL7V2</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-164"><a id="__codelineno-0-164" name="__codelineno-0-164"></a>                <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">NotImplementedError</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;HL7v2 parser not implemented&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-165"><a id="__codelineno-0-165" name="__codelineno-0-165"></a>            <span style="color: #BB80B3">else</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-166"><a id="__codelineno-0-166" name="__codelineno-0-166"></a>                <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Unsupported parser format: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">format_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-167"><a id="__codelineno-0-167" name="__codelineno-0-167"></a>
</span><span id="__span-0-168"><a id="__codelineno-0-168" name="__codelineno-0-168"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_parsers</span><span style="color: #89DDFF">[</span><span style="color: #EFF">format_type</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-169"><a id="__codelineno-0-169" name="__codelineno-0-169"></a>
</span><span id="__span-0-170"><a id="__codelineno-0-170" name="__codelineno-0-170"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">_get_generator</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">format_type</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-171"><a id="__codelineno-0-171" name="__codelineno-0-171"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Get or create a generator for the specified format</span>
</span><span id="__span-0-172"><a id="__codelineno-0-172" name="__codelineno-0-172"></a>
</span><span id="__span-0-173"><a id="__codelineno-0-173" name="__codelineno-0-173"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-174"><a id="__codelineno-0-174" name="__codelineno-0-174"></a><span style="color: #546E7A; font-style: italic">            format_type: The format type to get a generator for (CDA, HL7v2, or FHIR)</span>
</span><span id="__span-0-175"><a id="__codelineno-0-175" name="__codelineno-0-175"></a>
</span><span id="__span-0-176"><a id="__codelineno-0-176" name="__codelineno-0-176"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-177"><a id="__codelineno-0-177" name="__codelineno-0-177"></a><span style="color: #546E7A; font-style: italic">            The generator instance for the specified format</span>
</span><span id="__span-0-178"><a id="__codelineno-0-178" name="__codelineno-0-178"></a>
</span><span id="__span-0-179"><a id="__codelineno-0-179" name="__codelineno-0-179"></a><span style="color: #546E7A; font-style: italic">        Raises:</span>
</span><span id="__span-0-180"><a id="__codelineno-0-180" name="__codelineno-0-180"></a><span style="color: #546E7A; font-style: italic">            ValueError: If an unsupported format type is provided</span>
</span><span id="__span-0-181"><a id="__codelineno-0-181" name="__codelineno-0-181"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-182"><a id="__codelineno-0-182" name="__codelineno-0-182"></a>        <span style="color: #BB80B3">if</span> <span style="color: #EFF">format_type</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_generators</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-183"><a id="__codelineno-0-183" name="__codelineno-0-183"></a>            <span style="color: #BB80B3">if</span> <span style="color: #EFF">format_type</span> <span style="color: #89DDFF">==</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">.</span><span style="color: #EFF">CDA</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-184"><a id="__codelineno-0-184" name="__codelineno-0-184"></a>                <span style="color: #EFF">generator</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">CDAGenerator</span><span style="color: #89DDFF">(self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">,</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">template_registry</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-185"><a id="__codelineno-0-185" name="__codelineno-0-185"></a>                <span style="color: #89DDFF">self.</span><span style="color: #EFF">_generators</span><span style="color: #89DDFF">[</span><span style="color: #EFF">format_type</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">generator</span>
</span><span id="__span-0-186"><a id="__codelineno-0-186" name="__codelineno-0-186"></a>            <span style="color: #BB80B3">elif</span> <span style="color: #EFF">format_type</span> <span style="color: #89DDFF">==</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">.</span><span style="color: #EFF">HL7V2</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-187"><a id="__codelineno-0-187" name="__codelineno-0-187"></a>                <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">NotImplementedError</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;HL7v2 generator not implemented&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-188"><a id="__codelineno-0-188" name="__codelineno-0-188"></a>            <span style="color: #BB80B3">elif</span> <span style="color: #EFF">format_type</span> <span style="color: #89DDFF">==</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">.</span><span style="color: #EFF">FHIR</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-189"><a id="__codelineno-0-189" name="__codelineno-0-189"></a>                <span style="color: #EFF">generator</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">FHIRGenerator</span><span style="color: #89DDFF">(self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">,</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">template_registry</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-190"><a id="__codelineno-0-190" name="__codelineno-0-190"></a>                <span style="color: #89DDFF">self.</span><span style="color: #EFF">_generators</span><span style="color: #89DDFF">[</span><span style="color: #EFF">format_type</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">generator</span>
</span><span id="__span-0-191"><a id="__codelineno-0-191" name="__codelineno-0-191"></a>            <span style="color: #BB80B3">else</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-192"><a id="__codelineno-0-192" name="__codelineno-0-192"></a>                <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Unsupported generator format: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">format_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-193"><a id="__codelineno-0-193" name="__codelineno-0-193"></a>
</span><span id="__span-0-194"><a id="__codelineno-0-194" name="__codelineno-0-194"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_generators</span><span style="color: #89DDFF">[</span><span style="color: #EFF">format_type</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-195"><a id="__codelineno-0-195" name="__codelineno-0-195"></a>
</span><span id="__span-0-196"><a id="__codelineno-0-196" name="__codelineno-0-196"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">register_parser</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-197"><a id="__codelineno-0-197" name="__codelineno-0-197"></a>        <span style="color: #89DDFF">self,</span> <span style="color: #EFF">format_type</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">parser_instance</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">BaseParser</span>
</span><span id="__span-0-198"><a id="__codelineno-0-198" name="__codelineno-0-198"></a>    <span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #C3E88D">&quot;InteropEngine&quot;</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-199"><a id="__codelineno-0-199" name="__codelineno-0-199"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Register a custom parser for a format type. This will replace the default parser for the format type.</span>
</span><span id="__span-0-200"><a id="__codelineno-0-200" name="__codelineno-0-200"></a>
</span><span id="__span-0-201"><a id="__codelineno-0-201" name="__codelineno-0-201"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-202"><a id="__codelineno-0-202" name="__codelineno-0-202"></a><span style="color: #546E7A; font-style: italic">            format_type: The format type (CDA, HL7v2) to register the parser for</span>
</span><span id="__span-0-203"><a id="__codelineno-0-203" name="__codelineno-0-203"></a><span style="color: #546E7A; font-style: italic">            parser_instance: The parser instance that implements the parsing logic</span>
</span><span id="__span-0-204"><a id="__codelineno-0-204" name="__codelineno-0-204"></a>
</span><span id="__span-0-205"><a id="__codelineno-0-205" name="__codelineno-0-205"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-206"><a id="__codelineno-0-206" name="__codelineno-0-206"></a><span style="color: #546E7A; font-style: italic">            InteropEngine: Returns self for method chaining</span>
</span><span id="__span-0-207"><a id="__codelineno-0-207" name="__codelineno-0-207"></a>
</span><span id="__span-0-208"><a id="__codelineno-0-208" name="__codelineno-0-208"></a><span style="color: #546E7A; font-style: italic">        Example:</span>
</span><span id="__span-0-209"><a id="__codelineno-0-209" name="__codelineno-0-209"></a><span style="color: #546E7A; font-style: italic">            engine.register_parser(FormatType.CDA, CustomCDAParser())</span>
</span><span id="__span-0-210"><a id="__codelineno-0-210" name="__codelineno-0-210"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-211"><a id="__codelineno-0-211" name="__codelineno-0-211"></a>        <span style="color: #89DDFF">self.</span><span style="color: #EFF">_parsers</span><span style="color: #89DDFF">[</span><span style="color: #EFF">format_type</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">parser_instance</span>
</span><span id="__span-0-212"><a id="__codelineno-0-212" name="__codelineno-0-212"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self</span>
</span><span id="__span-0-213"><a id="__codelineno-0-213" name="__codelineno-0-213"></a>
</span><span id="__span-0-214"><a id="__codelineno-0-214" name="__codelineno-0-214"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">register_generator</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-215"><a id="__codelineno-0-215" name="__codelineno-0-215"></a>        <span style="color: #89DDFF">self,</span> <span style="color: #EFF">format_type</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">generator_instance</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">BaseGenerator</span>
</span><span id="__span-0-216"><a id="__codelineno-0-216" name="__codelineno-0-216"></a>    <span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #C3E88D">&quot;InteropEngine&quot;</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-217"><a id="__codelineno-0-217" name="__codelineno-0-217"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Register a custom generator for a format type. This will replace the default generator for the format type.</span>
</span><span id="__span-0-218"><a id="__codelineno-0-218" name="__codelineno-0-218"></a>
</span><span id="__span-0-219"><a id="__codelineno-0-219" name="__codelineno-0-219"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-220"><a id="__codelineno-0-220" name="__codelineno-0-220"></a><span style="color: #546E7A; font-style: italic">            format_type: The format type (CDA, HL7v2, FHIR) to register the generator for</span>
</span><span id="__span-0-221"><a id="__codelineno-0-221" name="__codelineno-0-221"></a><span style="color: #546E7A; font-style: italic">            generator_instance: The generator instance that implements the generation logic</span>
</span><span id="__span-0-222"><a id="__codelineno-0-222" name="__codelineno-0-222"></a>
</span><span id="__span-0-223"><a id="__codelineno-0-223" name="__codelineno-0-223"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-224"><a id="__codelineno-0-224" name="__codelineno-0-224"></a><span style="color: #546E7A; font-style: italic">            InteropEngine: Returns self for method chaining</span>
</span><span id="__span-0-225"><a id="__codelineno-0-225" name="__codelineno-0-225"></a>
</span><span id="__span-0-226"><a id="__codelineno-0-226" name="__codelineno-0-226"></a><span style="color: #546E7A; font-style: italic">        Example:</span>
</span><span id="__span-0-227"><a id="__codelineno-0-227" name="__codelineno-0-227"></a><span style="color: #546E7A; font-style: italic">            engine.register_generator(FormatType.CDA, CustomCDAGenerator())</span>
</span><span id="__span-0-228"><a id="__codelineno-0-228" name="__codelineno-0-228"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-229"><a id="__codelineno-0-229" name="__codelineno-0-229"></a>        <span style="color: #89DDFF">self.</span><span style="color: #EFF">_generators</span><span style="color: #89DDFF">[</span><span style="color: #EFF">format_type</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">generator_instance</span>
</span><span id="__span-0-230"><a id="__codelineno-0-230" name="__codelineno-0-230"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self</span>
</span><span id="__span-0-231"><a id="__codelineno-0-231" name="__codelineno-0-231"></a>
</span><span id="__span-0-232"><a id="__codelineno-0-232" name="__codelineno-0-232"></a>    <span style="color: #546E7A; font-style: italic"># TODO: make the config validator functions more generic</span>
</span><span id="__span-0-233"><a id="__codelineno-0-233" name="__codelineno-0-233"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">register_cda_section_config_validator</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-234"><a id="__codelineno-0-234" name="__codelineno-0-234"></a>        <span style="color: #89DDFF">self,</span> <span style="color: #EFF">resource_type</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">template_model</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">BaseModel</span>
</span><span id="__span-0-235"><a id="__codelineno-0-235" name="__codelineno-0-235"></a>    <span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #C3E88D">&quot;InteropEngine&quot;</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-236"><a id="__codelineno-0-236" name="__codelineno-0-236"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Register a custom section config validator model for a resource type</span>
</span><span id="__span-0-237"><a id="__codelineno-0-237" name="__codelineno-0-237"></a>
</span><span id="__span-0-238"><a id="__codelineno-0-238" name="__codelineno-0-238"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-239"><a id="__codelineno-0-239" name="__codelineno-0-239"></a><span style="color: #546E7A; font-style: italic">            resource_type: FHIR resource type (e.g., &quot;Condition&quot;, &quot;MedicationStatement&quot;) which converts to the CDA section</span>
</span><span id="__span-0-240"><a id="__codelineno-0-240" name="__codelineno-0-240"></a><span style="color: #546E7A; font-style: italic">            template_model: Pydantic model for CDA section config validation</span>
</span><span id="__span-0-241"><a id="__codelineno-0-241" name="__codelineno-0-241"></a>
</span><span id="__span-0-242"><a id="__codelineno-0-242" name="__codelineno-0-242"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-243"><a id="__codelineno-0-243" name="__codelineno-0-243"></a><span style="color: #546E7A; font-style: italic">            Self for method chaining</span>
</span><span id="__span-0-244"><a id="__codelineno-0-244" name="__codelineno-0-244"></a>
</span><span id="__span-0-245"><a id="__codelineno-0-245" name="__codelineno-0-245"></a><span style="color: #546E7A; font-style: italic">        Example:</span>
</span><span id="__span-0-246"><a id="__codelineno-0-246" name="__codelineno-0-246"></a><span style="color: #546E7A; font-style: italic">            # Register a config validator for the Problem section, which is converted from the Condition resource</span>
</span><span id="__span-0-247"><a id="__codelineno-0-247" name="__codelineno-0-247"></a><span style="color: #546E7A; font-style: italic">            engine.register_cda_section_config_validator(</span>
</span><span id="__span-0-248"><a id="__codelineno-0-248" name="__codelineno-0-248"></a><span style="color: #546E7A; font-style: italic">                &quot;Condition&quot;, ProblemSectionConfig</span>
</span><span id="__span-0-249"><a id="__codelineno-0-249" name="__codelineno-0-249"></a><span style="color: #546E7A; font-style: italic">            )</span>
</span><span id="__span-0-250"><a id="__codelineno-0-250" name="__codelineno-0-250"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-251"><a id="__codelineno-0-251" name="__codelineno-0-251"></a>        <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">register_cda_section_config</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resource_type</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">template_model</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-252"><a id="__codelineno-0-252" name="__codelineno-0-252"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self</span>
</span><span id="__span-0-253"><a id="__codelineno-0-253" name="__codelineno-0-253"></a>
</span><span id="__span-0-254"><a id="__codelineno-0-254" name="__codelineno-0-254"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">register_cda_document_config_validator</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-255"><a id="__codelineno-0-255" name="__codelineno-0-255"></a>        <span style="color: #89DDFF">self,</span> <span style="color: #EFF">document_type</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">document_model</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">BaseModel</span>
</span><span id="__span-0-256"><a id="__codelineno-0-256" name="__codelineno-0-256"></a>    <span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #C3E88D">&quot;InteropEngine&quot;</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-257"><a id="__codelineno-0-257" name="__codelineno-0-257"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Register a custom document validator model for a document type</span>
</span><span id="__span-0-258"><a id="__codelineno-0-258" name="__codelineno-0-258"></a>
</span><span id="__span-0-259"><a id="__codelineno-0-259" name="__codelineno-0-259"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-260"><a id="__codelineno-0-260" name="__codelineno-0-260"></a><span style="color: #546E7A; font-style: italic">            document_type: Document type (e.g., &quot;ccd&quot;, &quot;discharge&quot;)</span>
</span><span id="__span-0-261"><a id="__codelineno-0-261" name="__codelineno-0-261"></a><span style="color: #546E7A; font-style: italic">            document_model: Pydantic model for document validation</span>
</span><span id="__span-0-262"><a id="__codelineno-0-262" name="__codelineno-0-262"></a>
</span><span id="__span-0-263"><a id="__codelineno-0-263" name="__codelineno-0-263"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-264"><a id="__codelineno-0-264" name="__codelineno-0-264"></a><span style="color: #546E7A; font-style: italic">            Self for method chaining</span>
</span><span id="__span-0-265"><a id="__codelineno-0-265" name="__codelineno-0-265"></a>
</span><span id="__span-0-266"><a id="__codelineno-0-266" name="__codelineno-0-266"></a><span style="color: #546E7A; font-style: italic">        Example:</span>
</span><span id="__span-0-267"><a id="__codelineno-0-267" name="__codelineno-0-267"></a><span style="color: #546E7A; font-style: italic">            # Register a config validator for the CCD document type</span>
</span><span id="__span-0-268"><a id="__codelineno-0-268" name="__codelineno-0-268"></a><span style="color: #546E7A; font-style: italic">            engine.register_cda_document_validator(</span>
</span><span id="__span-0-269"><a id="__codelineno-0-269" name="__codelineno-0-269"></a><span style="color: #546E7A; font-style: italic">                &quot;ccd&quot;, CCDDocumentConfig</span>
</span><span id="__span-0-270"><a id="__codelineno-0-270" name="__codelineno-0-270"></a><span style="color: #546E7A; font-style: italic">            )</span>
</span><span id="__span-0-271"><a id="__codelineno-0-271" name="__codelineno-0-271"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-272"><a id="__codelineno-0-272" name="__codelineno-0-272"></a>        <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">register_cda_document_config</span><span style="color: #89DDFF">(</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">document_model</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-273"><a id="__codelineno-0-273" name="__codelineno-0-273"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self</span>
</span><span id="__span-0-274"><a id="__codelineno-0-274" name="__codelineno-0-274"></a>
</span><span id="__span-0-275"><a id="__codelineno-0-275" name="__codelineno-0-275"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">to_fhir</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-276"><a id="__codelineno-0-276" name="__codelineno-0-276"></a>        <span style="color: #89DDFF">self,</span> <span style="color: #EFF">src_data</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">src_format</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Union</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-277"><a id="__codelineno-0-277" name="__codelineno-0-277"></a>    <span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Resource</span><span style="color: #89DDFF">]:</span>
</span><span id="__span-0-278"><a id="__codelineno-0-278" name="__codelineno-0-278"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Convert source data to FHIR resources</span>
</span><span id="__span-0-279"><a id="__codelineno-0-279" name="__codelineno-0-279"></a>
</span><span id="__span-0-280"><a id="__codelineno-0-280" name="__codelineno-0-280"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-281"><a id="__codelineno-0-281" name="__codelineno-0-281"></a><span style="color: #546E7A; font-style: italic">            src_data: Input data as string (CDA XML or HL7v2 message)</span>
</span><span id="__span-0-282"><a id="__codelineno-0-282" name="__codelineno-0-282"></a><span style="color: #546E7A; font-style: italic">            src_format: Source format type, either as string (&quot;cda&quot;, &quot;hl7v2&quot;)</span>
</span><span id="__span-0-283"><a id="__codelineno-0-283" name="__codelineno-0-283"></a><span style="color: #546E7A; font-style: italic">                         or FormatType enum</span>
</span><span id="__span-0-284"><a id="__codelineno-0-284" name="__codelineno-0-284"></a>
</span><span id="__span-0-285"><a id="__codelineno-0-285" name="__codelineno-0-285"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-286"><a id="__codelineno-0-286" name="__codelineno-0-286"></a><span style="color: #546E7A; font-style: italic">            List[Resource]: List of FHIR resources generated from the source data</span>
</span><span id="__span-0-287"><a id="__codelineno-0-287" name="__codelineno-0-287"></a>
</span><span id="__span-0-288"><a id="__codelineno-0-288" name="__codelineno-0-288"></a><span style="color: #546E7A; font-style: italic">        Raises:</span>
</span><span id="__span-0-289"><a id="__codelineno-0-289" name="__codelineno-0-289"></a><span style="color: #546E7A; font-style: italic">            ValueError: If src_format is not supported</span>
</span><span id="__span-0-290"><a id="__codelineno-0-290" name="__codelineno-0-290"></a>
</span><span id="__span-0-291"><a id="__codelineno-0-291" name="__codelineno-0-291"></a><span style="color: #546E7A; font-style: italic">        Example:</span>
</span><span id="__span-0-292"><a id="__codelineno-0-292" name="__codelineno-0-292"></a><span style="color: #546E7A; font-style: italic">            # Convert CDA XML to FHIR resources</span>
</span><span id="__span-0-293"><a id="__codelineno-0-293" name="__codelineno-0-293"></a><span style="color: #546E7A; font-style: italic">            fhir_resources = engine.to_fhir(cda_xml, src_format=&quot;cda&quot;)</span>
</span><span id="__span-0-294"><a id="__codelineno-0-294" name="__codelineno-0-294"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-295"><a id="__codelineno-0-295" name="__codelineno-0-295"></a>        <span style="color: #EFF">src_format</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">validate_format</span><span style="color: #89DDFF">(</span><span style="color: #EFF">src_format</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-296"><a id="__codelineno-0-296" name="__codelineno-0-296"></a>
</span><span id="__span-0-297"><a id="__codelineno-0-297" name="__codelineno-0-297"></a>        <span style="color: #BB80B3">if</span> <span style="color: #EFF">src_format</span> <span style="color: #89DDFF">==</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">.</span><span style="color: #EFF">CDA</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-298"><a id="__codelineno-0-298" name="__codelineno-0-298"></a>            <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_cda_to_fhir</span><span style="color: #89DDFF">(</span><span style="color: #EFF">src_data</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-299"><a id="__codelineno-0-299" name="__codelineno-0-299"></a>        <span style="color: #BB80B3">elif</span> <span style="color: #EFF">src_format</span> <span style="color: #89DDFF">==</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">.</span><span style="color: #EFF">HL7V2</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-300"><a id="__codelineno-0-300" name="__codelineno-0-300"></a>            <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_hl7v2_to_fhir</span><span style="color: #89DDFF">(</span><span style="color: #EFF">src_data</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-301"><a id="__codelineno-0-301" name="__codelineno-0-301"></a>        <span style="color: #BB80B3">else</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-302"><a id="__codelineno-0-302" name="__codelineno-0-302"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Unsupported format: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">src_format</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-303"><a id="__codelineno-0-303" name="__codelineno-0-303"></a>
</span><span id="__span-0-304"><a id="__codelineno-0-304" name="__codelineno-0-304"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">from_fhir</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-305"><a id="__codelineno-0-305" name="__codelineno-0-305"></a>        <span style="color: #89DDFF">self,</span>
</span><span id="__span-0-306"><a id="__codelineno-0-306" name="__codelineno-0-306"></a>        <span style="color: #EFF">resources</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Union</span><span style="color: #89DDFF">[</span><span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Resource</span><span style="color: #89DDFF">],</span> <span style="color: #EFF">Bundle</span><span style="color: #89DDFF">],</span>
</span><span id="__span-0-307"><a id="__codelineno-0-307" name="__codelineno-0-307"></a>        <span style="color: #EFF">dest_format</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Union</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">],</span>
</span><span id="__span-0-308"><a id="__codelineno-0-308" name="__codelineno-0-308"></a>        <span style="color: #89DDFF">**</span><span style="color: #EFF">kwargs</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Any</span><span style="color: #89DDFF">,</span>
</span><span id="__span-0-309"><a id="__codelineno-0-309" name="__codelineno-0-309"></a>    <span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-310"><a id="__codelineno-0-310" name="__codelineno-0-310"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Convert FHIR resources to a target format</span>
</span><span id="__span-0-311"><a id="__codelineno-0-311" name="__codelineno-0-311"></a>
</span><span id="__span-0-312"><a id="__codelineno-0-312" name="__codelineno-0-312"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-313"><a id="__codelineno-0-313" name="__codelineno-0-313"></a><span style="color: #546E7A; font-style: italic">            resources: List of FHIR resources to convert or a FHIR Bundle</span>
</span><span id="__span-0-314"><a id="__codelineno-0-314" name="__codelineno-0-314"></a><span style="color: #546E7A; font-style: italic">            dest_format: Destination format type, either as string (&quot;cda&quot;, &quot;hl7v2&quot;)</span>
</span><span id="__span-0-315"><a id="__codelineno-0-315" name="__codelineno-0-315"></a><span style="color: #546E7A; font-style: italic">                        or FormatType enum</span>
</span><span id="__span-0-316"><a id="__codelineno-0-316" name="__codelineno-0-316"></a><span style="color: #546E7A; font-style: italic">            **kwargs: Additional arguments to pass to generator.</span>
</span><span id="__span-0-317"><a id="__codelineno-0-317" name="__codelineno-0-317"></a><span style="color: #546E7A; font-style: italic">                     For CDA: document_type (str) - Type of CDA document (e.g. &quot;ccd&quot;, &quot;discharge&quot;)</span>
</span><span id="__span-0-318"><a id="__codelineno-0-318" name="__codelineno-0-318"></a>
</span><span id="__span-0-319"><a id="__codelineno-0-319" name="__codelineno-0-319"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-320"><a id="__codelineno-0-320" name="__codelineno-0-320"></a><span style="color: #546E7A; font-style: italic">            str: Converted data as string (CDA XML or HL7v2 message)</span>
</span><span id="__span-0-321"><a id="__codelineno-0-321" name="__codelineno-0-321"></a>
</span><span id="__span-0-322"><a id="__codelineno-0-322" name="__codelineno-0-322"></a><span style="color: #546E7A; font-style: italic">        Raises:</span>
</span><span id="__span-0-323"><a id="__codelineno-0-323" name="__codelineno-0-323"></a><span style="color: #546E7A; font-style: italic">            ValueError: If dest_format is not supported</span>
</span><span id="__span-0-324"><a id="__codelineno-0-324" name="__codelineno-0-324"></a>
</span><span id="__span-0-325"><a id="__codelineno-0-325" name="__codelineno-0-325"></a><span style="color: #546E7A; font-style: italic">        Example:</span>
</span><span id="__span-0-326"><a id="__codelineno-0-326" name="__codelineno-0-326"></a><span style="color: #546E7A; font-style: italic">            # Convert FHIR resources to CDA XML</span>
</span><span id="__span-0-327"><a id="__codelineno-0-327" name="__codelineno-0-327"></a><span style="color: #546E7A; font-style: italic">            cda_xml = engine.from_fhir(fhir_resources, dest_format=&quot;cda&quot;)</span>
</span><span id="__span-0-328"><a id="__codelineno-0-328" name="__codelineno-0-328"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-329"><a id="__codelineno-0-329" name="__codelineno-0-329"></a>        <span style="color: #EFF">dest_format</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">validate_format</span><span style="color: #89DDFF">(</span><span style="color: #EFF">dest_format</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-330"><a id="__codelineno-0-330" name="__codelineno-0-330"></a>        <span style="color: #EFF">resources</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">normalize_resource_list</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resources</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-331"><a id="__codelineno-0-331" name="__codelineno-0-331"></a>
</span><span id="__span-0-332"><a id="__codelineno-0-332" name="__codelineno-0-332"></a>        <span style="color: #BB80B3">if</span> <span style="color: #EFF">dest_format</span> <span style="color: #89DDFF">==</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">.</span><span style="color: #EFF">HL7V2</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-333"><a id="__codelineno-0-333" name="__codelineno-0-333"></a>            <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_fhir_to_hl7v2</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resources</span><span style="color: #89DDFF">,</span> <span style="color: #89DDFF">**</span><span style="color: #EFF">kwargs</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-334"><a id="__codelineno-0-334" name="__codelineno-0-334"></a>        <span style="color: #BB80B3">elif</span> <span style="color: #EFF">dest_format</span> <span style="color: #89DDFF">==</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">.</span><span style="color: #EFF">CDA</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-335"><a id="__codelineno-0-335" name="__codelineno-0-335"></a>            <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_fhir_to_cda</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resources</span><span style="color: #89DDFF">,</span> <span style="color: #89DDFF">**</span><span style="color: #EFF">kwargs</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-336"><a id="__codelineno-0-336" name="__codelineno-0-336"></a>        <span style="color: #BB80B3">else</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-337"><a id="__codelineno-0-337" name="__codelineno-0-337"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Unsupported format: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">dest_format</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-338"><a id="__codelineno-0-338" name="__codelineno-0-338"></a>
</span><span id="__span-0-339"><a id="__codelineno-0-339" name="__codelineno-0-339"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">_cda_to_fhir</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">xml</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #89DDFF">**</span><span style="color: #EFF">kwargs</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Resource</span><span style="color: #89DDFF">]:</span>
</span><span id="__span-0-340"><a id="__codelineno-0-340" name="__codelineno-0-340"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Convert CDA XML to FHIR resources</span>
</span><span id="__span-0-341"><a id="__codelineno-0-341" name="__codelineno-0-341"></a>
</span><span id="__span-0-342"><a id="__codelineno-0-342" name="__codelineno-0-342"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-343"><a id="__codelineno-0-343" name="__codelineno-0-343"></a><span style="color: #546E7A; font-style: italic">            xml: CDA document as XML string</span>
</span><span id="__span-0-344"><a id="__codelineno-0-344" name="__codelineno-0-344"></a><span style="color: #546E7A; font-style: italic">            **kwargs: Additional arguments to pass to parser and generator.</span>
</span><span id="__span-0-345"><a id="__codelineno-0-345" name="__codelineno-0-345"></a>
</span><span id="__span-0-346"><a id="__codelineno-0-346" name="__codelineno-0-346"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-347"><a id="__codelineno-0-347" name="__codelineno-0-347"></a><span style="color: #546E7A; font-style: italic">            List[Resource]: List of FHIR resources</span>
</span><span id="__span-0-348"><a id="__codelineno-0-348" name="__codelineno-0-348"></a>
</span><span id="__span-0-349"><a id="__codelineno-0-349" name="__codelineno-0-349"></a><span style="color: #546E7A; font-style: italic">        Raises:</span>
</span><span id="__span-0-350"><a id="__codelineno-0-350" name="__codelineno-0-350"></a><span style="color: #546E7A; font-style: italic">            ValueError: If required mappings are missing or if sections are unsupported</span>
</span><span id="__span-0-351"><a id="__codelineno-0-351" name="__codelineno-0-351"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-352"><a id="__codelineno-0-352" name="__codelineno-0-352"></a>        <span style="color: #546E7A; font-style: italic"># Get parser and generator (lazy loaded)</span>
</span><span id="__span-0-353"><a id="__codelineno-0-353" name="__codelineno-0-353"></a>        <span style="color: #EFF">parser</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">cda_parser</span>
</span><span id="__span-0-354"><a id="__codelineno-0-354" name="__codelineno-0-354"></a>        <span style="color: #EFF">generator</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">fhir_generator</span>
</span><span id="__span-0-355"><a id="__codelineno-0-355" name="__codelineno-0-355"></a>
</span><span id="__span-0-356"><a id="__codelineno-0-356" name="__codelineno-0-356"></a>        <span style="color: #546E7A; font-style: italic"># Parse sections from CDA XML using the parser</span>
</span><span id="__span-0-357"><a id="__codelineno-0-357" name="__codelineno-0-357"></a>        <span style="color: #EFF">section_entries</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">parser</span><span style="color: #89DDFF">.</span><span style="color: #EFF">from_string</span><span style="color: #89DDFF">(</span><span style="color: #EFF">xml</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-358"><a id="__codelineno-0-358" name="__codelineno-0-358"></a>
</span><span id="__span-0-359"><a id="__codelineno-0-359" name="__codelineno-0-359"></a>        <span style="color: #546E7A; font-style: italic"># Process each section and convert entries to FHIR resources</span>
</span><span id="__span-0-360"><a id="__codelineno-0-360" name="__codelineno-0-360"></a>        <span style="color: #EFF">resources</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">[]</span>
</span><span id="__span-0-361"><a id="__codelineno-0-361" name="__codelineno-0-361"></a>        <span style="color: #BB80B3">for</span> <span style="color: #EFF">section_key</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">entries</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">section_entries</span><span style="color: #89DDFF">.</span><span style="color: #EFF">items</span><span style="color: #89DDFF">():</span>
</span><span id="__span-0-362"><a id="__codelineno-0-362" name="__codelineno-0-362"></a>            <span style="color: #EFF">section_resources</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">generator</span><span style="color: #89DDFF">.</span><span style="color: #EFF">transform</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-363"><a id="__codelineno-0-363" name="__codelineno-0-363"></a>                <span style="color: #EFF">entries</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">src_format</span><span style="color: #89DDFF">=</span><span style="color: #EFF">FormatType</span><span style="color: #89DDFF">.</span><span style="color: #EFF">CDA</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">section_key</span><span style="color: #89DDFF">=</span><span style="color: #EFF">section_key</span>
</span><span id="__span-0-364"><a id="__codelineno-0-364" name="__codelineno-0-364"></a>            <span style="color: #89DDFF">)</span>
</span><span id="__span-0-365"><a id="__codelineno-0-365" name="__codelineno-0-365"></a>            <span style="color: #EFF">resources</span><span style="color: #89DDFF">.</span><span style="color: #EFF">extend</span><span style="color: #89DDFF">(</span><span style="color: #EFF">section_resources</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-366"><a id="__codelineno-0-366" name="__codelineno-0-366"></a>
</span><span id="__span-0-367"><a id="__codelineno-0-367" name="__codelineno-0-367"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">resources</span>
</span><span id="__span-0-368"><a id="__codelineno-0-368" name="__codelineno-0-368"></a>
</span><span id="__span-0-369"><a id="__codelineno-0-369" name="__codelineno-0-369"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">_fhir_to_cda</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">resources</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Resource</span><span style="color: #89DDFF">],</span> <span style="color: #89DDFF">**</span><span style="color: #EFF">kwargs</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-370"><a id="__codelineno-0-370" name="__codelineno-0-370"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Convert FHIR resources to CDA XML</span>
</span><span id="__span-0-371"><a id="__codelineno-0-371" name="__codelineno-0-371"></a>
</span><span id="__span-0-372"><a id="__codelineno-0-372" name="__codelineno-0-372"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-373"><a id="__codelineno-0-373" name="__codelineno-0-373"></a><span style="color: #546E7A; font-style: italic">            resources: A list of FHIR resources</span>
</span><span id="__span-0-374"><a id="__codelineno-0-374" name="__codelineno-0-374"></a><span style="color: #546E7A; font-style: italic">            **kwargs: Additional arguments to pass to generator.</span>
</span><span id="__span-0-375"><a id="__codelineno-0-375" name="__codelineno-0-375"></a><span style="color: #546E7A; font-style: italic">                     Supported arguments:</span>
</span><span id="__span-0-376"><a id="__codelineno-0-376" name="__codelineno-0-376"></a><span style="color: #546E7A; font-style: italic">                     - document_type: Type of CDA document (e.g. &quot;CCD&quot;, &quot;Discharge Summary&quot;)</span>
</span><span id="__span-0-377"><a id="__codelineno-0-377" name="__codelineno-0-377"></a>
</span><span id="__span-0-378"><a id="__codelineno-0-378" name="__codelineno-0-378"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-379"><a id="__codelineno-0-379" name="__codelineno-0-379"></a><span style="color: #546E7A; font-style: italic">            str: CDA document as XML string</span>
</span><span id="__span-0-380"><a id="__codelineno-0-380" name="__codelineno-0-380"></a>
</span><span id="__span-0-381"><a id="__codelineno-0-381" name="__codelineno-0-381"></a><span style="color: #546E7A; font-style: italic">        Raises:</span>
</span><span id="__span-0-382"><a id="__codelineno-0-382" name="__codelineno-0-382"></a><span style="color: #546E7A; font-style: italic">            ValueError: If required mappings are missing or if resource types are unsupported</span>
</span><span id="__span-0-383"><a id="__codelineno-0-383" name="__codelineno-0-383"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-384"><a id="__codelineno-0-384" name="__codelineno-0-384"></a>        <span style="color: #546E7A; font-style: italic"># Get generators (lazy loaded)</span>
</span><span id="__span-0-385"><a id="__codelineno-0-385" name="__codelineno-0-385"></a>        <span style="color: #EFF">cda_generator</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">cda_generator</span>
</span><span id="__span-0-386"><a id="__codelineno-0-386" name="__codelineno-0-386"></a>
</span><span id="__span-0-387"><a id="__codelineno-0-387" name="__codelineno-0-387"></a>        <span style="color: #546E7A; font-style: italic"># Check for document type</span>
</span><span id="__span-0-388"><a id="__codelineno-0-388" name="__codelineno-0-388"></a>        <span style="color: #EFF">document_type</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">kwargs</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;document_type&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #C3E88D">&quot;ccd&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-389"><a id="__codelineno-0-389" name="__codelineno-0-389"></a>        <span style="color: #BB80B3">if</span> <span style="color: #EFF">document_type</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-390"><a id="__codelineno-0-390" name="__codelineno-0-390"></a>            <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">info</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Processing CDA document of type: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-391"><a id="__codelineno-0-391" name="__codelineno-0-391"></a>
</span><span id="__span-0-392"><a id="__codelineno-0-392" name="__codelineno-0-392"></a>        <span style="color: #546E7A; font-style: italic"># Get document configuration for this specific document type</span>
</span><span id="__span-0-393"><a id="__codelineno-0-393" name="__codelineno-0-393"></a>        <span style="color: #EFF">doc_config</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_cda_document_config</span><span style="color: #89DDFF">(</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-394"><a id="__codelineno-0-394" name="__codelineno-0-394"></a>        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">doc_config</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-395"><a id="__codelineno-0-395" name="__codelineno-0-395"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-396"><a id="__codelineno-0-396" name="__codelineno-0-396"></a>                <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Invalid or missing document configuration for type: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-397"><a id="__codelineno-0-397" name="__codelineno-0-397"></a>            <span style="color: #89DDFF">)</span>
</span><span id="__span-0-398"><a id="__codelineno-0-398" name="__codelineno-0-398"></a>
</span><span id="__span-0-399"><a id="__codelineno-0-399" name="__codelineno-0-399"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">cda_generator</span><span style="color: #89DDFF">.</span><span style="color: #EFF">transform</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resources</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">document_type</span><span style="color: #89DDFF">=</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-400"><a id="__codelineno-0-400" name="__codelineno-0-400"></a>
</span><span id="__span-0-401"><a id="__codelineno-0-401" name="__codelineno-0-401"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">_hl7v2_to_fhir</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">source_data</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Resource</span><span style="color: #89DDFF">]:</span>
</span><span id="__span-0-402"><a id="__codelineno-0-402" name="__codelineno-0-402"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Convert HL7v2 to FHIR resources&quot;&quot;&quot;</span>
</span><span id="__span-0-403"><a id="__codelineno-0-403" name="__codelineno-0-403"></a>        <span style="color: #EFF">parser</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">hl7v2_parser</span>
</span><span id="__span-0-404"><a id="__codelineno-0-404" name="__codelineno-0-404"></a>        <span style="color: #EFF">generator</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">fhir_generator</span>
</span><span id="__span-0-405"><a id="__codelineno-0-405" name="__codelineno-0-405"></a>
</span><span id="__span-0-406"><a id="__codelineno-0-406" name="__codelineno-0-406"></a>        <span style="color: #546E7A; font-style: italic"># Parse HL7v2 message using the parser</span>
</span><span id="__span-0-407"><a id="__codelineno-0-407" name="__codelineno-0-407"></a>        <span style="color: #EFF">message_entries</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">parser</span><span style="color: #89DDFF">.</span><span style="color: #EFF">from_string</span><span style="color: #89DDFF">(</span><span style="color: #EFF">source_data</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-408"><a id="__codelineno-0-408" name="__codelineno-0-408"></a>
</span><span id="__span-0-409"><a id="__codelineno-0-409" name="__codelineno-0-409"></a>        <span style="color: #546E7A; font-style: italic"># Process each message entry and convert to FHIR resources</span>
</span><span id="__span-0-410"><a id="__codelineno-0-410" name="__codelineno-0-410"></a>        <span style="color: #EFF">resources</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">[]</span>
</span><span id="__span-0-411"><a id="__codelineno-0-411" name="__codelineno-0-411"></a>        <span style="color: #BB80B3">for</span> <span style="color: #EFF">message_key</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">entries</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">message_entries</span><span style="color: #89DDFF">.</span><span style="color: #EFF">items</span><span style="color: #89DDFF">():</span>
</span><span id="__span-0-412"><a id="__codelineno-0-412" name="__codelineno-0-412"></a>            <span style="color: #EFF">resource_entries</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">generator</span><span style="color: #89DDFF">.</span><span style="color: #EFF">transform</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-413"><a id="__codelineno-0-413" name="__codelineno-0-413"></a>                <span style="color: #EFF">entries</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">src_format</span><span style="color: #89DDFF">=</span><span style="color: #EFF">FormatType</span><span style="color: #89DDFF">.</span><span style="color: #EFF">HL7V2</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">message_key</span><span style="color: #89DDFF">=</span><span style="color: #EFF">message_key</span>
</span><span id="__span-0-414"><a id="__codelineno-0-414" name="__codelineno-0-414"></a>            <span style="color: #89DDFF">)</span>
</span><span id="__span-0-415"><a id="__codelineno-0-415" name="__codelineno-0-415"></a>            <span style="color: #EFF">resources</span><span style="color: #89DDFF">.</span><span style="color: #EFF">extend</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resource_entries</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-416"><a id="__codelineno-0-416" name="__codelineno-0-416"></a>
</span><span id="__span-0-417"><a id="__codelineno-0-417" name="__codelineno-0-417"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">resources</span>
</span><span id="__span-0-418"><a id="__codelineno-0-418" name="__codelineno-0-418"></a>
</span><span id="__span-0-419"><a id="__codelineno-0-419" name="__codelineno-0-419"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">_fhir_to_hl7v2</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">resources</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Resource</span><span style="color: #89DDFF">])</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-420"><a id="__codelineno-0-420" name="__codelineno-0-420"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Convert FHIR resources to HL7v2&quot;&quot;&quot;</span>
</span><span id="__span-0-421"><a id="__codelineno-0-421" name="__codelineno-0-421"></a>        <span style="color: #EFF">generator</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">hl7v2_generator</span>
</span><span id="__span-0-422"><a id="__codelineno-0-422" name="__codelineno-0-422"></a>
</span><span id="__span-0-423"><a id="__codelineno-0-423" name="__codelineno-0-423"></a>        <span style="color: #546E7A; font-style: italic"># Process each resource and convert to HL7v2 message</span>
</span><span id="__span-0-424"><a id="__codelineno-0-424" name="__codelineno-0-424"></a>        <span style="color: #EFF">messages</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">[]</span>
</span><span id="__span-0-425"><a id="__codelineno-0-425" name="__codelineno-0-425"></a>        <span style="color: #BB80B3">for</span> <span style="color: #EFF">resource</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">resources</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-426"><a id="__codelineno-0-426" name="__codelineno-0-426"></a>            <span style="color: #EFF">message</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">generator</span><span style="color: #89DDFF">.</span><span style="color: #EFF">transform</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resource</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-427"><a id="__codelineno-0-427" name="__codelineno-0-427"></a>            <span style="color: #EFF">messages</span><span style="color: #89DDFF">.</span><span style="color: #EFF">append</span><span style="color: #89DDFF">(</span><span style="color: #EFF">message</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-428"><a id="__codelineno-0-428" name="__codelineno-0-428"></a>
</span><span id="__span-0-429"><a id="__codelineno-0-429" name="__codelineno-0-429"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">messages</span>
</span></code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="healthchain.interop.engine.InteropEngine.cda_generator" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">cda_generator</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-cached"><code>cached</code></small>
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Lazily load the CDA generator</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="healthchain.interop.engine.InteropEngine.cda_parser" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">cda_parser</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-cached"><code>cached</code></small>
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Lazily load the CDA parser</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="healthchain.interop.engine.InteropEngine.fhir_generator" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">fhir_generator</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-cached"><code>cached</code></small>
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Lazily load the FHIR generator</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="healthchain.interop.engine.InteropEngine.hl7v2_generator" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">hl7v2_generator</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-cached"><code>cached</code></small>
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Lazily load the HL7v2 generator</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="healthchain.interop.engine.InteropEngine.hl7v2_parser" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">hl7v2_parser</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-cached"><code>cached</code></small>
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Lazily load the HL7v2 parser</p>

    </div>

</div>




<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.engine.InteropEngine.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #82AAFF">__init__</span><span style="color: #89DDFF">(</span><span style="color: #EFF">config_dir</span><span style="color: #89DDFF">=None,</span> <span style="color: #EFF">validation_level</span><span style="color: #89DDFF">=</span><span style="color: #EFF">ValidationLevel</span><span style="color: #89DDFF">.</span><span style="color: #EFF">STRICT</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">environment</span><span style="color: #89DDFF">=None)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initialize the InteropEngine</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>config_dir</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Base directory containing configuration files. If None, will search standard locations.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="pathlib.Path">Path</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>validation_level</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Level of configuration validation (strict, warn, ignore)</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code><span title="healthchain.config.base.ValidationLevel.STRICT">STRICT</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>environment</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Optional environment to use (development, testing, production)</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/engine.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-83"> 83</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-84"> 84</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-85"> 85</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-86"> 86</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-87"> 87</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-88"> 88</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-89"> 89</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-90"> 90</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-91"> 91</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-92"> 92</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-93"> 93</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-94"> 94</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-95"> 95</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-96"> 96</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-97"> 97</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-98"> 98</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-99"> 99</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-100">100</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-101">101</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-102">102</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-103">103</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-104">104</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-105">105</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-106">106</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-107">107</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-108">108</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-109">109</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-110">110</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-111">111</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-112">112</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-113">113</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-114">114</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-115">115</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-116">116</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-117">117</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-118">118</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-83"><a id="__codelineno-0-83" name="__codelineno-0-83"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">__init__</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-84"><a id="__codelineno-0-84" name="__codelineno-0-84"></a>    <span style="color: #89DDFF">self,</span>
</span><span id="__span-0-85"><a id="__codelineno-0-85" name="__codelineno-0-85"></a>    <span style="color: #EFF">config_dir</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Path</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None,</span>
</span><span id="__span-0-86"><a id="__codelineno-0-86" name="__codelineno-0-86"></a>    <span style="color: #EFF">validation_level</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">ValidationLevel</span><span style="color: #89DDFF">.</span><span style="color: #EFF">STRICT</span><span style="color: #89DDFF">,</span>
</span><span id="__span-0-87"><a id="__codelineno-0-87" name="__codelineno-0-87"></a>    <span style="color: #EFF">environment</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None,</span>
</span><span id="__span-0-88"><a id="__codelineno-0-88" name="__codelineno-0-88"></a><span style="color: #89DDFF">):</span>
</span><span id="__span-0-89"><a id="__codelineno-0-89" name="__codelineno-0-89"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Initialize the InteropEngine</span>
</span><span id="__span-0-90"><a id="__codelineno-0-90" name="__codelineno-0-90"></a>
</span><span id="__span-0-91"><a id="__codelineno-0-91" name="__codelineno-0-91"></a><span style="color: #546E7A; font-style: italic">    Args:</span>
</span><span id="__span-0-92"><a id="__codelineno-0-92" name="__codelineno-0-92"></a><span style="color: #546E7A; font-style: italic">        config_dir: Base directory containing configuration files. If None, will search standard locations.</span>
</span><span id="__span-0-93"><a id="__codelineno-0-93" name="__codelineno-0-93"></a><span style="color: #546E7A; font-style: italic">        validation_level: Level of configuration validation (strict, warn, ignore)</span>
</span><span id="__span-0-94"><a id="__codelineno-0-94" name="__codelineno-0-94"></a><span style="color: #546E7A; font-style: italic">        environment: Optional environment to use (development, testing, production)</span>
</span><span id="__span-0-95"><a id="__codelineno-0-95" name="__codelineno-0-95"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-96"><a id="__codelineno-0-96" name="__codelineno-0-96"></a>    <span style="color: #546E7A; font-style: italic"># Initialize configuration manager</span>
</span><span id="__span-0-97"><a id="__codelineno-0-97" name="__codelineno-0-97"></a>    <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">InteropConfigManager</span><span style="color: #89DDFF">(</span><span style="color: #EFF">config_dir</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">validation_level</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">environment</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-98"><a id="__codelineno-0-98" name="__codelineno-0-98"></a>
</span><span id="__span-0-99"><a id="__codelineno-0-99" name="__codelineno-0-99"></a>    <span style="color: #546E7A; font-style: italic"># Initialize template registry</span>
</span><span id="__span-0-100"><a id="__codelineno-0-100" name="__codelineno-0-100"></a>    <span style="color: #EFF">template_dir</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">config_dir</span> <span style="color: #89DDFF">/</span> <span style="color: #C3E88D">&quot;templates&quot;</span>
</span><span id="__span-0-101"><a id="__codelineno-0-101" name="__codelineno-0-101"></a>    <span style="color: #89DDFF">self.</span><span style="color: #EFF">template_registry</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">TemplateRegistry</span><span style="color: #89DDFF">(</span><span style="color: #EFF">template_dir</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-102"><a id="__codelineno-0-102" name="__codelineno-0-102"></a>
</span><span id="__span-0-103"><a id="__codelineno-0-103" name="__codelineno-0-103"></a>    <span style="color: #546E7A; font-style: italic"># Create and register default filters</span>
</span><span id="__span-0-104"><a id="__codelineno-0-104" name="__codelineno-0-104"></a>    <span style="color: #546E7A; font-style: italic"># Get required configuration for filters</span>
</span><span id="__span-0-105"><a id="__codelineno-0-105" name="__codelineno-0-105"></a>    <span style="color: #EFF">mappings_dir</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_config_value</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;defaults.mappings_dir&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-106"><a id="__codelineno-0-106" name="__codelineno-0-106"></a>    <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">mappings_dir</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-107"><a id="__codelineno-0-107" name="__codelineno-0-107"></a>        <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">warning</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;No mappings directory configured, using default mappings&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-108"><a id="__codelineno-0-108" name="__codelineno-0-108"></a>        <span style="color: #EFF">mappings_dir</span> <span style="color: #89DDFF">=</span> <span style="color: #C3E88D">&quot;cda_default&quot;</span>
</span><span id="__span-0-109"><a id="__codelineno-0-109" name="__codelineno-0-109"></a>    <span style="color: #EFF">mappings</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_mappings</span><span style="color: #89DDFF">(</span><span style="color: #EFF">mappings_dir</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-110"><a id="__codelineno-0-110" name="__codelineno-0-110"></a>    <span style="color: #EFF">id_prefix</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_config_value</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;defaults.common.id_prefix&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-111"><a id="__codelineno-0-111" name="__codelineno-0-111"></a>
</span><span id="__span-0-112"><a id="__codelineno-0-112" name="__codelineno-0-112"></a>    <span style="color: #546E7A; font-style: italic"># Get default filters from the filters module</span>
</span><span id="__span-0-113"><a id="__codelineno-0-113" name="__codelineno-0-113"></a>    <span style="color: #EFF">default_filters</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">create_default_filters</span><span style="color: #89DDFF">(</span><span style="color: #EFF">mappings</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">id_prefix</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-114"><a id="__codelineno-0-114" name="__codelineno-0-114"></a>    <span style="color: #89DDFF">self.</span><span style="color: #EFF">template_registry</span><span style="color: #89DDFF">.</span><span style="color: #EFF">initialize</span><span style="color: #89DDFF">(</span><span style="color: #EFF">default_filters</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-115"><a id="__codelineno-0-115" name="__codelineno-0-115"></a>
</span><span id="__span-0-116"><a id="__codelineno-0-116" name="__codelineno-0-116"></a>    <span style="color: #546E7A; font-style: italic"># Component registries for lazy loading</span>
</span><span id="__span-0-117"><a id="__codelineno-0-117" name="__codelineno-0-117"></a>    <span style="color: #89DDFF">self.</span><span style="color: #EFF">_parsers</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">{}</span>
</span><span id="__span-0-118"><a id="__codelineno-0-118" name="__codelineno-0-118"></a>    <span style="color: #89DDFF">self.</span><span style="color: #EFF">_generators</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">{}</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.engine.InteropEngine.from_fhir" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">from_fhir</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resources</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">dest_format</span><span style="color: #89DDFF">,</span> <span style="color: #89DDFF">**</span><span style="color: #EFF">kwargs</span><span style="color: #89DDFF">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Convert FHIR resources to a target format</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>resources</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List of FHIR resources to convert or a FHIR Bundle</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Union">Union</span>[<span title="typing.List">List</span>[<span title="fhir.resources.resource.Resource">Resource</span>], <span title="fhir.resources.bundle.Bundle">Bundle</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dest_format</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Destination format type, either as string ("cda", "hl7v2")
        or FormatType enum</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="healthchain.interop.types.FormatType">FormatType</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Additional arguments to pass to generator.
     For CDA: document_type (str) - Type of CDA document (e.g. "ccd", "discharge")</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Any">Any</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>{}</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>str</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Converted data as string (CDA XML or HL7v2 message)</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="ValueError">ValueError</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If dest_format is not supported</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <h4 id="healthchain.interop.engine.InteropEngine.from_fhir--convert-fhir-resources-to-cda-xml">Convert FHIR resources to CDA XML</h4>
<p>cda_xml = engine.from_fhir(fhir_resources, dest_format="cda")</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/engine.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-304">304</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-305">305</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-306">306</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-307">307</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-308">308</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-309">309</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-310">310</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-311">311</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-312">312</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-313">313</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-314">314</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-315">315</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-316">316</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-317">317</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-318">318</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-319">319</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-320">320</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-321">321</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-322">322</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-323">323</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-324">324</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-325">325</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-326">326</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-327">327</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-328">328</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-329">329</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-330">330</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-331">331</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-332">332</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-333">333</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-334">334</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-335">335</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-336">336</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-337">337</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-304"><a id="__codelineno-0-304" name="__codelineno-0-304"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">from_fhir</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-305"><a id="__codelineno-0-305" name="__codelineno-0-305"></a>    <span style="color: #89DDFF">self,</span>
</span><span id="__span-0-306"><a id="__codelineno-0-306" name="__codelineno-0-306"></a>    <span style="color: #EFF">resources</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Union</span><span style="color: #89DDFF">[</span><span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Resource</span><span style="color: #89DDFF">],</span> <span style="color: #EFF">Bundle</span><span style="color: #89DDFF">],</span>
</span><span id="__span-0-307"><a id="__codelineno-0-307" name="__codelineno-0-307"></a>    <span style="color: #EFF">dest_format</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Union</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">],</span>
</span><span id="__span-0-308"><a id="__codelineno-0-308" name="__codelineno-0-308"></a>    <span style="color: #89DDFF">**</span><span style="color: #EFF">kwargs</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Any</span><span style="color: #89DDFF">,</span>
</span><span id="__span-0-309"><a id="__codelineno-0-309" name="__codelineno-0-309"></a><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-310"><a id="__codelineno-0-310" name="__codelineno-0-310"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Convert FHIR resources to a target format</span>
</span><span id="__span-0-311"><a id="__codelineno-0-311" name="__codelineno-0-311"></a>
</span><span id="__span-0-312"><a id="__codelineno-0-312" name="__codelineno-0-312"></a><span style="color: #546E7A; font-style: italic">    Args:</span>
</span><span id="__span-0-313"><a id="__codelineno-0-313" name="__codelineno-0-313"></a><span style="color: #546E7A; font-style: italic">        resources: List of FHIR resources to convert or a FHIR Bundle</span>
</span><span id="__span-0-314"><a id="__codelineno-0-314" name="__codelineno-0-314"></a><span style="color: #546E7A; font-style: italic">        dest_format: Destination format type, either as string (&quot;cda&quot;, &quot;hl7v2&quot;)</span>
</span><span id="__span-0-315"><a id="__codelineno-0-315" name="__codelineno-0-315"></a><span style="color: #546E7A; font-style: italic">                    or FormatType enum</span>
</span><span id="__span-0-316"><a id="__codelineno-0-316" name="__codelineno-0-316"></a><span style="color: #546E7A; font-style: italic">        **kwargs: Additional arguments to pass to generator.</span>
</span><span id="__span-0-317"><a id="__codelineno-0-317" name="__codelineno-0-317"></a><span style="color: #546E7A; font-style: italic">                 For CDA: document_type (str) - Type of CDA document (e.g. &quot;ccd&quot;, &quot;discharge&quot;)</span>
</span><span id="__span-0-318"><a id="__codelineno-0-318" name="__codelineno-0-318"></a>
</span><span id="__span-0-319"><a id="__codelineno-0-319" name="__codelineno-0-319"></a><span style="color: #546E7A; font-style: italic">    Returns:</span>
</span><span id="__span-0-320"><a id="__codelineno-0-320" name="__codelineno-0-320"></a><span style="color: #546E7A; font-style: italic">        str: Converted data as string (CDA XML or HL7v2 message)</span>
</span><span id="__span-0-321"><a id="__codelineno-0-321" name="__codelineno-0-321"></a>
</span><span id="__span-0-322"><a id="__codelineno-0-322" name="__codelineno-0-322"></a><span style="color: #546E7A; font-style: italic">    Raises:</span>
</span><span id="__span-0-323"><a id="__codelineno-0-323" name="__codelineno-0-323"></a><span style="color: #546E7A; font-style: italic">        ValueError: If dest_format is not supported</span>
</span><span id="__span-0-324"><a id="__codelineno-0-324" name="__codelineno-0-324"></a>
</span><span id="__span-0-325"><a id="__codelineno-0-325" name="__codelineno-0-325"></a><span style="color: #546E7A; font-style: italic">    Example:</span>
</span><span id="__span-0-326"><a id="__codelineno-0-326" name="__codelineno-0-326"></a><span style="color: #546E7A; font-style: italic">        # Convert FHIR resources to CDA XML</span>
</span><span id="__span-0-327"><a id="__codelineno-0-327" name="__codelineno-0-327"></a><span style="color: #546E7A; font-style: italic">        cda_xml = engine.from_fhir(fhir_resources, dest_format=&quot;cda&quot;)</span>
</span><span id="__span-0-328"><a id="__codelineno-0-328" name="__codelineno-0-328"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-329"><a id="__codelineno-0-329" name="__codelineno-0-329"></a>    <span style="color: #EFF">dest_format</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">validate_format</span><span style="color: #89DDFF">(</span><span style="color: #EFF">dest_format</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-330"><a id="__codelineno-0-330" name="__codelineno-0-330"></a>    <span style="color: #EFF">resources</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">normalize_resource_list</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resources</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-331"><a id="__codelineno-0-331" name="__codelineno-0-331"></a>
</span><span id="__span-0-332"><a id="__codelineno-0-332" name="__codelineno-0-332"></a>    <span style="color: #BB80B3">if</span> <span style="color: #EFF">dest_format</span> <span style="color: #89DDFF">==</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">.</span><span style="color: #EFF">HL7V2</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-333"><a id="__codelineno-0-333" name="__codelineno-0-333"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_fhir_to_hl7v2</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resources</span><span style="color: #89DDFF">,</span> <span style="color: #89DDFF">**</span><span style="color: #EFF">kwargs</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-334"><a id="__codelineno-0-334" name="__codelineno-0-334"></a>    <span style="color: #BB80B3">elif</span> <span style="color: #EFF">dest_format</span> <span style="color: #89DDFF">==</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">.</span><span style="color: #EFF">CDA</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-335"><a id="__codelineno-0-335" name="__codelineno-0-335"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_fhir_to_cda</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resources</span><span style="color: #89DDFF">,</span> <span style="color: #89DDFF">**</span><span style="color: #EFF">kwargs</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-336"><a id="__codelineno-0-336" name="__codelineno-0-336"></a>    <span style="color: #BB80B3">else</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-337"><a id="__codelineno-0-337" name="__codelineno-0-337"></a>        <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Unsupported format: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">dest_format</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.engine.InteropEngine.register_cda_document_config_validator" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">register_cda_document_config_validator</span><span style="color: #89DDFF">(</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">document_model</span><span style="color: #89DDFF">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Register a custom document validator model for a document type</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>document_type</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Document type (e.g., "ccd", "discharge")</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>document_model</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Pydantic model for document validation</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="pydantic.BaseModel">BaseModel</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="InteropEngine (healthchain.interop.engine.InteropEngine)" href="#healthchain.interop.engine.InteropEngine">InteropEngine</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Self for method chaining</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <h4 id="healthchain.interop.engine.InteropEngine.register_cda_document_config_validator--register-a-config-validator-for-the-ccd-document-type">Register a config validator for the CCD document type</h4>
<p>engine.register_cda_document_validator(
    "ccd", CCDDocumentConfig
)</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/engine.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-254">254</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-255">255</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-256">256</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-257">257</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-258">258</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-259">259</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-260">260</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-261">261</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-262">262</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-263">263</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-264">264</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-265">265</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-266">266</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-267">267</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-268">268</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-269">269</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-270">270</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-271">271</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-272">272</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-273">273</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-254"><a id="__codelineno-0-254" name="__codelineno-0-254"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">register_cda_document_config_validator</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-255"><a id="__codelineno-0-255" name="__codelineno-0-255"></a>    <span style="color: #89DDFF">self,</span> <span style="color: #EFF">document_type</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">document_model</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">BaseModel</span>
</span><span id="__span-0-256"><a id="__codelineno-0-256" name="__codelineno-0-256"></a><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #C3E88D">&quot;InteropEngine&quot;</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-257"><a id="__codelineno-0-257" name="__codelineno-0-257"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Register a custom document validator model for a document type</span>
</span><span id="__span-0-258"><a id="__codelineno-0-258" name="__codelineno-0-258"></a>
</span><span id="__span-0-259"><a id="__codelineno-0-259" name="__codelineno-0-259"></a><span style="color: #546E7A; font-style: italic">    Args:</span>
</span><span id="__span-0-260"><a id="__codelineno-0-260" name="__codelineno-0-260"></a><span style="color: #546E7A; font-style: italic">        document_type: Document type (e.g., &quot;ccd&quot;, &quot;discharge&quot;)</span>
</span><span id="__span-0-261"><a id="__codelineno-0-261" name="__codelineno-0-261"></a><span style="color: #546E7A; font-style: italic">        document_model: Pydantic model for document validation</span>
</span><span id="__span-0-262"><a id="__codelineno-0-262" name="__codelineno-0-262"></a>
</span><span id="__span-0-263"><a id="__codelineno-0-263" name="__codelineno-0-263"></a><span style="color: #546E7A; font-style: italic">    Returns:</span>
</span><span id="__span-0-264"><a id="__codelineno-0-264" name="__codelineno-0-264"></a><span style="color: #546E7A; font-style: italic">        Self for method chaining</span>
</span><span id="__span-0-265"><a id="__codelineno-0-265" name="__codelineno-0-265"></a>
</span><span id="__span-0-266"><a id="__codelineno-0-266" name="__codelineno-0-266"></a><span style="color: #546E7A; font-style: italic">    Example:</span>
</span><span id="__span-0-267"><a id="__codelineno-0-267" name="__codelineno-0-267"></a><span style="color: #546E7A; font-style: italic">        # Register a config validator for the CCD document type</span>
</span><span id="__span-0-268"><a id="__codelineno-0-268" name="__codelineno-0-268"></a><span style="color: #546E7A; font-style: italic">        engine.register_cda_document_validator(</span>
</span><span id="__span-0-269"><a id="__codelineno-0-269" name="__codelineno-0-269"></a><span style="color: #546E7A; font-style: italic">            &quot;ccd&quot;, CCDDocumentConfig</span>
</span><span id="__span-0-270"><a id="__codelineno-0-270" name="__codelineno-0-270"></a><span style="color: #546E7A; font-style: italic">        )</span>
</span><span id="__span-0-271"><a id="__codelineno-0-271" name="__codelineno-0-271"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-272"><a id="__codelineno-0-272" name="__codelineno-0-272"></a>    <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">register_cda_document_config</span><span style="color: #89DDFF">(</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">document_model</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-273"><a id="__codelineno-0-273" name="__codelineno-0-273"></a>    <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.engine.InteropEngine.register_cda_section_config_validator" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">register_cda_section_config_validator</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resource_type</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">template_model</span><span style="color: #89DDFF">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Register a custom section config validator model for a resource type</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>resource_type</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>FHIR resource type (e.g., "Condition", "MedicationStatement") which converts to the CDA section</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>template_model</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Pydantic model for CDA section config validation</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="pydantic.BaseModel">BaseModel</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="InteropEngine (healthchain.interop.engine.InteropEngine)" href="#healthchain.interop.engine.InteropEngine">InteropEngine</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Self for method chaining</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <h4 id="healthchain.interop.engine.InteropEngine.register_cda_section_config_validator--register-a-config-validator-for-the-problem-section-which-is-converted-from-the-condition-resource">Register a config validator for the Problem section, which is converted from the Condition resource</h4>
<p>engine.register_cda_section_config_validator(
    "Condition", ProblemSectionConfig
)</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/engine.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-233">233</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-234">234</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-235">235</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-236">236</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-237">237</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-238">238</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-239">239</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-240">240</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-241">241</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-242">242</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-243">243</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-244">244</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-245">245</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-246">246</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-247">247</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-248">248</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-249">249</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-250">250</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-251">251</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-252">252</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-233"><a id="__codelineno-0-233" name="__codelineno-0-233"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">register_cda_section_config_validator</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-234"><a id="__codelineno-0-234" name="__codelineno-0-234"></a>    <span style="color: #89DDFF">self,</span> <span style="color: #EFF">resource_type</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">template_model</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">BaseModel</span>
</span><span id="__span-0-235"><a id="__codelineno-0-235" name="__codelineno-0-235"></a><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #C3E88D">&quot;InteropEngine&quot;</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-236"><a id="__codelineno-0-236" name="__codelineno-0-236"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Register a custom section config validator model for a resource type</span>
</span><span id="__span-0-237"><a id="__codelineno-0-237" name="__codelineno-0-237"></a>
</span><span id="__span-0-238"><a id="__codelineno-0-238" name="__codelineno-0-238"></a><span style="color: #546E7A; font-style: italic">    Args:</span>
</span><span id="__span-0-239"><a id="__codelineno-0-239" name="__codelineno-0-239"></a><span style="color: #546E7A; font-style: italic">        resource_type: FHIR resource type (e.g., &quot;Condition&quot;, &quot;MedicationStatement&quot;) which converts to the CDA section</span>
</span><span id="__span-0-240"><a id="__codelineno-0-240" name="__codelineno-0-240"></a><span style="color: #546E7A; font-style: italic">        template_model: Pydantic model for CDA section config validation</span>
</span><span id="__span-0-241"><a id="__codelineno-0-241" name="__codelineno-0-241"></a>
</span><span id="__span-0-242"><a id="__codelineno-0-242" name="__codelineno-0-242"></a><span style="color: #546E7A; font-style: italic">    Returns:</span>
</span><span id="__span-0-243"><a id="__codelineno-0-243" name="__codelineno-0-243"></a><span style="color: #546E7A; font-style: italic">        Self for method chaining</span>
</span><span id="__span-0-244"><a id="__codelineno-0-244" name="__codelineno-0-244"></a>
</span><span id="__span-0-245"><a id="__codelineno-0-245" name="__codelineno-0-245"></a><span style="color: #546E7A; font-style: italic">    Example:</span>
</span><span id="__span-0-246"><a id="__codelineno-0-246" name="__codelineno-0-246"></a><span style="color: #546E7A; font-style: italic">        # Register a config validator for the Problem section, which is converted from the Condition resource</span>
</span><span id="__span-0-247"><a id="__codelineno-0-247" name="__codelineno-0-247"></a><span style="color: #546E7A; font-style: italic">        engine.register_cda_section_config_validator(</span>
</span><span id="__span-0-248"><a id="__codelineno-0-248" name="__codelineno-0-248"></a><span style="color: #546E7A; font-style: italic">            &quot;Condition&quot;, ProblemSectionConfig</span>
</span><span id="__span-0-249"><a id="__codelineno-0-249" name="__codelineno-0-249"></a><span style="color: #546E7A; font-style: italic">        )</span>
</span><span id="__span-0-250"><a id="__codelineno-0-250" name="__codelineno-0-250"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-251"><a id="__codelineno-0-251" name="__codelineno-0-251"></a>    <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">register_cda_section_config</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resource_type</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">template_model</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-252"><a id="__codelineno-0-252" name="__codelineno-0-252"></a>    <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.engine.InteropEngine.register_generator" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">register_generator</span><span style="color: #89DDFF">(</span><span style="color: #EFF">format_type</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">generator_instance</span><span style="color: #89DDFF">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Register a custom generator for a format type. This will replace the default generator for the format type.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>format_type</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The format type (CDA, HL7v2, FHIR) to register the generator for</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="healthchain.interop.types.FormatType">FormatType</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>generator_instance</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The generator instance that implements the generation logic</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="healthchain.interop.generators.base.BaseGenerator">BaseGenerator</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>InteropEngine</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Returns self for method chaining</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-internal" title="InteropEngine (healthchain.interop.engine.InteropEngine)" href="#healthchain.interop.engine.InteropEngine">InteropEngine</a></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <p>engine.register_generator(FormatType.CDA, CustomCDAGenerator())</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/engine.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-214">214</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-215">215</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-216">216</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-217">217</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-218">218</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-219">219</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-220">220</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-221">221</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-222">222</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-223">223</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-224">224</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-225">225</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-226">226</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-227">227</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-228">228</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-229">229</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-230">230</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-214"><a id="__codelineno-0-214" name="__codelineno-0-214"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">register_generator</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-215"><a id="__codelineno-0-215" name="__codelineno-0-215"></a>    <span style="color: #89DDFF">self,</span> <span style="color: #EFF">format_type</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">generator_instance</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">BaseGenerator</span>
</span><span id="__span-0-216"><a id="__codelineno-0-216" name="__codelineno-0-216"></a><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #C3E88D">&quot;InteropEngine&quot;</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-217"><a id="__codelineno-0-217" name="__codelineno-0-217"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Register a custom generator for a format type. This will replace the default generator for the format type.</span>
</span><span id="__span-0-218"><a id="__codelineno-0-218" name="__codelineno-0-218"></a>
</span><span id="__span-0-219"><a id="__codelineno-0-219" name="__codelineno-0-219"></a><span style="color: #546E7A; font-style: italic">    Args:</span>
</span><span id="__span-0-220"><a id="__codelineno-0-220" name="__codelineno-0-220"></a><span style="color: #546E7A; font-style: italic">        format_type: The format type (CDA, HL7v2, FHIR) to register the generator for</span>
</span><span id="__span-0-221"><a id="__codelineno-0-221" name="__codelineno-0-221"></a><span style="color: #546E7A; font-style: italic">        generator_instance: The generator instance that implements the generation logic</span>
</span><span id="__span-0-222"><a id="__codelineno-0-222" name="__codelineno-0-222"></a>
</span><span id="__span-0-223"><a id="__codelineno-0-223" name="__codelineno-0-223"></a><span style="color: #546E7A; font-style: italic">    Returns:</span>
</span><span id="__span-0-224"><a id="__codelineno-0-224" name="__codelineno-0-224"></a><span style="color: #546E7A; font-style: italic">        InteropEngine: Returns self for method chaining</span>
</span><span id="__span-0-225"><a id="__codelineno-0-225" name="__codelineno-0-225"></a>
</span><span id="__span-0-226"><a id="__codelineno-0-226" name="__codelineno-0-226"></a><span style="color: #546E7A; font-style: italic">    Example:</span>
</span><span id="__span-0-227"><a id="__codelineno-0-227" name="__codelineno-0-227"></a><span style="color: #546E7A; font-style: italic">        engine.register_generator(FormatType.CDA, CustomCDAGenerator())</span>
</span><span id="__span-0-228"><a id="__codelineno-0-228" name="__codelineno-0-228"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-229"><a id="__codelineno-0-229" name="__codelineno-0-229"></a>    <span style="color: #89DDFF">self.</span><span style="color: #EFF">_generators</span><span style="color: #89DDFF">[</span><span style="color: #EFF">format_type</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">generator_instance</span>
</span><span id="__span-0-230"><a id="__codelineno-0-230" name="__codelineno-0-230"></a>    <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.engine.InteropEngine.register_parser" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">register_parser</span><span style="color: #89DDFF">(</span><span style="color: #EFF">format_type</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">parser_instance</span><span style="color: #89DDFF">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Register a custom parser for a format type. This will replace the default parser for the format type.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>format_type</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The format type (CDA, HL7v2) to register the parser for</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="healthchain.interop.types.FormatType">FormatType</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>parser_instance</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The parser instance that implements the parsing logic</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="healthchain.interop.parsers.base.BaseParser">BaseParser</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>InteropEngine</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Returns self for method chaining</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-internal" title="InteropEngine (healthchain.interop.engine.InteropEngine)" href="#healthchain.interop.engine.InteropEngine">InteropEngine</a></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <p>engine.register_parser(FormatType.CDA, CustomCDAParser())</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/engine.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-196">196</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-197">197</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-198">198</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-199">199</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-200">200</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-201">201</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-202">202</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-203">203</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-204">204</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-205">205</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-206">206</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-207">207</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-208">208</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-209">209</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-210">210</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-211">211</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-212">212</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-196"><a id="__codelineno-0-196" name="__codelineno-0-196"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">register_parser</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-197"><a id="__codelineno-0-197" name="__codelineno-0-197"></a>    <span style="color: #89DDFF">self,</span> <span style="color: #EFF">format_type</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">parser_instance</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">BaseParser</span>
</span><span id="__span-0-198"><a id="__codelineno-0-198" name="__codelineno-0-198"></a><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #C3E88D">&quot;InteropEngine&quot;</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-199"><a id="__codelineno-0-199" name="__codelineno-0-199"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Register a custom parser for a format type. This will replace the default parser for the format type.</span>
</span><span id="__span-0-200"><a id="__codelineno-0-200" name="__codelineno-0-200"></a>
</span><span id="__span-0-201"><a id="__codelineno-0-201" name="__codelineno-0-201"></a><span style="color: #546E7A; font-style: italic">    Args:</span>
</span><span id="__span-0-202"><a id="__codelineno-0-202" name="__codelineno-0-202"></a><span style="color: #546E7A; font-style: italic">        format_type: The format type (CDA, HL7v2) to register the parser for</span>
</span><span id="__span-0-203"><a id="__codelineno-0-203" name="__codelineno-0-203"></a><span style="color: #546E7A; font-style: italic">        parser_instance: The parser instance that implements the parsing logic</span>
</span><span id="__span-0-204"><a id="__codelineno-0-204" name="__codelineno-0-204"></a>
</span><span id="__span-0-205"><a id="__codelineno-0-205" name="__codelineno-0-205"></a><span style="color: #546E7A; font-style: italic">    Returns:</span>
</span><span id="__span-0-206"><a id="__codelineno-0-206" name="__codelineno-0-206"></a><span style="color: #546E7A; font-style: italic">        InteropEngine: Returns self for method chaining</span>
</span><span id="__span-0-207"><a id="__codelineno-0-207" name="__codelineno-0-207"></a>
</span><span id="__span-0-208"><a id="__codelineno-0-208" name="__codelineno-0-208"></a><span style="color: #546E7A; font-style: italic">    Example:</span>
</span><span id="__span-0-209"><a id="__codelineno-0-209" name="__codelineno-0-209"></a><span style="color: #546E7A; font-style: italic">        engine.register_parser(FormatType.CDA, CustomCDAParser())</span>
</span><span id="__span-0-210"><a id="__codelineno-0-210" name="__codelineno-0-210"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-211"><a id="__codelineno-0-211" name="__codelineno-0-211"></a>    <span style="color: #89DDFF">self.</span><span style="color: #EFF">_parsers</span><span style="color: #89DDFF">[</span><span style="color: #EFF">format_type</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">parser_instance</span>
</span><span id="__span-0-212"><a id="__codelineno-0-212" name="__codelineno-0-212"></a>    <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.engine.InteropEngine.to_fhir" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">to_fhir</span><span style="color: #89DDFF">(</span><span style="color: #EFF">src_data</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">src_format</span><span style="color: #89DDFF">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Convert source data to FHIR resources</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>src_data</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Input data as string (CDA XML or HL7v2 message)</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>src_format</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Source format type, either as string ("cda", "hl7v2")
         or FormatType enum</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="healthchain.interop.types.FormatType">FormatType</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.List">List</span>[<span title="fhir.resources.resource.Resource">Resource</span>]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List[Resource]: List of FHIR resources generated from the source data</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="ValueError">ValueError</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If src_format is not supported</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <h4 id="healthchain.interop.engine.InteropEngine.to_fhir--convert-cda-xml-to-fhir-resources">Convert CDA XML to FHIR resources</h4>
<p>fhir_resources = engine.to_fhir(cda_xml, src_format="cda")</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/engine.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-275">275</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-276">276</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-277">277</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-278">278</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-279">279</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-280">280</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-281">281</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-282">282</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-283">283</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-284">284</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-285">285</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-286">286</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-287">287</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-288">288</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-289">289</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-290">290</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-291">291</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-292">292</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-293">293</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-294">294</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-295">295</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-296">296</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-297">297</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-298">298</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-299">299</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-300">300</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-301">301</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-302">302</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-275"><a id="__codelineno-0-275" name="__codelineno-0-275"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">to_fhir</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-276"><a id="__codelineno-0-276" name="__codelineno-0-276"></a>    <span style="color: #89DDFF">self,</span> <span style="color: #EFF">src_data</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">src_format</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Union</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-277"><a id="__codelineno-0-277" name="__codelineno-0-277"></a><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Resource</span><span style="color: #89DDFF">]:</span>
</span><span id="__span-0-278"><a id="__codelineno-0-278" name="__codelineno-0-278"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Convert source data to FHIR resources</span>
</span><span id="__span-0-279"><a id="__codelineno-0-279" name="__codelineno-0-279"></a>
</span><span id="__span-0-280"><a id="__codelineno-0-280" name="__codelineno-0-280"></a><span style="color: #546E7A; font-style: italic">    Args:</span>
</span><span id="__span-0-281"><a id="__codelineno-0-281" name="__codelineno-0-281"></a><span style="color: #546E7A; font-style: italic">        src_data: Input data as string (CDA XML or HL7v2 message)</span>
</span><span id="__span-0-282"><a id="__codelineno-0-282" name="__codelineno-0-282"></a><span style="color: #546E7A; font-style: italic">        src_format: Source format type, either as string (&quot;cda&quot;, &quot;hl7v2&quot;)</span>
</span><span id="__span-0-283"><a id="__codelineno-0-283" name="__codelineno-0-283"></a><span style="color: #546E7A; font-style: italic">                     or FormatType enum</span>
</span><span id="__span-0-284"><a id="__codelineno-0-284" name="__codelineno-0-284"></a>
</span><span id="__span-0-285"><a id="__codelineno-0-285" name="__codelineno-0-285"></a><span style="color: #546E7A; font-style: italic">    Returns:</span>
</span><span id="__span-0-286"><a id="__codelineno-0-286" name="__codelineno-0-286"></a><span style="color: #546E7A; font-style: italic">        List[Resource]: List of FHIR resources generated from the source data</span>
</span><span id="__span-0-287"><a id="__codelineno-0-287" name="__codelineno-0-287"></a>
</span><span id="__span-0-288"><a id="__codelineno-0-288" name="__codelineno-0-288"></a><span style="color: #546E7A; font-style: italic">    Raises:</span>
</span><span id="__span-0-289"><a id="__codelineno-0-289" name="__codelineno-0-289"></a><span style="color: #546E7A; font-style: italic">        ValueError: If src_format is not supported</span>
</span><span id="__span-0-290"><a id="__codelineno-0-290" name="__codelineno-0-290"></a>
</span><span id="__span-0-291"><a id="__codelineno-0-291" name="__codelineno-0-291"></a><span style="color: #546E7A; font-style: italic">    Example:</span>
</span><span id="__span-0-292"><a id="__codelineno-0-292" name="__codelineno-0-292"></a><span style="color: #546E7A; font-style: italic">        # Convert CDA XML to FHIR resources</span>
</span><span id="__span-0-293"><a id="__codelineno-0-293" name="__codelineno-0-293"></a><span style="color: #546E7A; font-style: italic">        fhir_resources = engine.to_fhir(cda_xml, src_format=&quot;cda&quot;)</span>
</span><span id="__span-0-294"><a id="__codelineno-0-294" name="__codelineno-0-294"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-295"><a id="__codelineno-0-295" name="__codelineno-0-295"></a>    <span style="color: #EFF">src_format</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">validate_format</span><span style="color: #89DDFF">(</span><span style="color: #EFF">src_format</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-296"><a id="__codelineno-0-296" name="__codelineno-0-296"></a>
</span><span id="__span-0-297"><a id="__codelineno-0-297" name="__codelineno-0-297"></a>    <span style="color: #BB80B3">if</span> <span style="color: #EFF">src_format</span> <span style="color: #89DDFF">==</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">.</span><span style="color: #EFF">CDA</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-298"><a id="__codelineno-0-298" name="__codelineno-0-298"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_cda_to_fhir</span><span style="color: #89DDFF">(</span><span style="color: #EFF">src_data</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-299"><a id="__codelineno-0-299" name="__codelineno-0-299"></a>    <span style="color: #BB80B3">elif</span> <span style="color: #EFF">src_format</span> <span style="color: #89DDFF">==</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">.</span><span style="color: #EFF">HL7V2</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-300"><a id="__codelineno-0-300" name="__codelineno-0-300"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_hl7v2_to_fhir</span><span style="color: #89DDFF">(</span><span style="color: #EFF">src_data</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-301"><a id="__codelineno-0-301" name="__codelineno-0-301"></a>    <span style="color: #BB80B3">else</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-302"><a id="__codelineno-0-302" name="__codelineno-0-302"></a>        <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Unsupported format: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">src_format</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="healthchain.interop.engine.normalize_resource_list" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">normalize_resource_list</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resources</span><span style="color: #89DDFF">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Convert input resources to a normalized list format</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/engine.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-26">26</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-27">27</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-28">28</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-29">29</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-30">30</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-31">31</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-32">32</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-33">33</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-34">34</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-35">35</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">normalize_resource_list</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27"></a>    <span style="color: #EFF">resources</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Union</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Resource</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Resource</span><span style="color: #89DDFF">],</span> <span style="color: #EFF">Bundle</span><span style="color: #89DDFF">],</span>
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28"></a><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Resource</span><span style="color: #89DDFF">]:</span>
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Convert input resources to a normalized list format&quot;&quot;&quot;</span>
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30"></a>    <span style="color: #BB80B3">if</span> <span style="color: #82AAFF">isinstance</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resources</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">Bundle</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">[</span><span style="color: #EFF">entry</span><span style="color: #89DDFF">.</span><span style="color: #EFF">resource</span> <span style="color: #BB80B3">for</span> <span style="color: #EFF">entry</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">resources</span><span style="color: #89DDFF">.</span><span style="color: #EFF">entry</span> <span style="color: #BB80B3">if</span> <span style="color: #EFF">entry</span><span style="color: #89DDFF">.</span><span style="color: #EFF">resource</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32"></a>    <span style="color: #BB80B3">elif</span> <span style="color: #82AAFF">isinstance</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resources</span><span style="color: #89DDFF">,</span> <span style="color: #82AAFF">list</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">resources</span>
</span><span id="__span-0-34"><a id="__codelineno-0-34" name="__codelineno-0-34"></a>    <span style="color: #BB80B3">else</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-35"><a id="__codelineno-0-35" name="__codelineno-0-35"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">[</span><span style="color: #EFF">resources</span><span style="color: #89DDFF">]</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="healthchain.interop.config_manager"></a>
    <div class="doc doc-contents first">

        <p>InteropConfigManager for HealthChain Interoperability Engine</p>
<p>This module provides specialized configuration management for interoperability.</p>










<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="healthchain.interop.config_manager.InteropConfigManager" class="doc doc-heading">
            <code>InteropConfigManager</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="healthchain.config.base.ConfigManager">ConfigManager</span></code></p>



        <p>Specialized configuration manager for the interoperability module</p>
<p>Extends ConfigManager to handle CDA document and section template configurations.
Provides functionality for:</p>
<ul>
<li>Loading and validating interop configurations</li>
<li>Managing document and section templates</li>
<li>Registering custom validation models</li>
</ul>
<p>Configuration structure:
- Document templates (under "document")
- Section templates (under "sections")
- Default values and settings</p>
<p>Validation levels:
- STRICT: Full validation (default)
- WARN: Warning-only
- IGNORE: No validation</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>healthchain/interop/config_manager.py</code></summary>
                <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-24"> 24</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-25"> 25</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-26"> 26</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-27"> 27</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-28"> 28</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-29"> 29</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-30"> 30</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-31"> 31</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-32"> 32</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-33"> 33</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-34"> 34</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-35"> 35</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-36"> 36</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-37"> 37</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-38"> 38</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-39"> 39</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-40"> 40</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-41"> 41</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-42"> 42</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-43"> 43</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-44"> 44</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-45"> 45</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-46"> 46</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-47"> 47</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-48"> 48</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-49"> 49</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-50"> 50</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-51"> 51</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-52"> 52</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-53"> 53</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-54"> 54</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-55"> 55</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-56"> 56</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-57"> 57</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-58"> 58</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-59"> 59</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-60"> 60</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-61"> 61</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-62"> 62</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-63"> 63</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-64"> 64</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-65"> 65</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-66"> 66</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-67"> 67</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-68"> 68</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-69"> 69</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-70"> 70</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-71"> 71</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-72"> 72</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-73"> 73</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-74"> 74</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-75"> 75</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-76"> 76</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-77"> 77</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-78"> 78</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-79"> 79</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-80"> 80</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-81"> 81</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-82"> 82</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-83"> 83</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-84"> 84</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-85"> 85</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-86"> 86</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-87"> 87</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-88"> 88</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-89"> 89</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-90"> 90</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-91"> 91</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-92"> 92</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-93"> 93</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-94"> 94</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-95"> 95</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-96"> 96</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-97"> 97</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-98"> 98</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-99"> 99</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-100">100</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-101">101</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-102">102</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-103">103</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-104">104</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-105">105</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-106">106</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-107">107</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-108">108</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-109">109</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-110">110</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-111">111</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-112">112</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-113">113</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-114">114</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-115">115</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-116">116</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-117">117</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-118">118</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-119">119</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-120">120</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-121">121</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-122">122</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-123">123</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-124">124</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-125">125</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-126">126</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-127">127</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-128">128</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-129">129</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-130">130</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-131">131</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-132">132</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-133">133</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-134">134</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-135">135</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-136">136</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-137">137</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-138">138</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-139">139</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-140">140</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-141">141</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-142">142</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-143">143</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-144">144</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-145">145</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-146">146</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-147">147</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-148">148</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-149">149</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-150">150</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-151">151</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-152">152</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-153">153</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-154">154</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-155">155</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-156">156</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-157">157</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-158">158</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-159">159</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-160">160</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-161">161</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-162">162</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-163">163</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-164">164</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-165">165</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-166">166</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-167">167</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-168">168</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-169">169</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-170">170</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-171">171</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-172">172</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-173">173</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-174">174</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-175">175</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-176">176</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-177">177</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-178">178</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-179">179</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-180">180</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-181">181</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-182">182</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-183">183</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-184">184</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-185">185</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-186">186</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-187">187</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-188">188</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-189">189</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-190">190</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-191">191</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-192">192</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-193">193</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-194">194</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-195">195</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-196">196</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-197">197</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-198">198</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-199">199</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-200">200</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-201">201</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-202">202</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-203">203</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-204">204</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-205">205</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-206">206</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-207">207</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-208">208</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-209">209</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-210">210</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-211">211</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-212">212</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-213">213</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-214">214</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-215">215</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-216">216</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-217">217</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-218">218</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-219">219</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-220">220</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-221">221</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-222">222</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-223">223</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-224">224</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-225">225</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-226">226</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-227">227</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-228">228</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-229">229</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-230">230</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-231">231</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-232">232</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-233">233</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-234">234</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-235">235</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-236">236</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-237">237</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-238">238</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-239">239</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-240">240</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-241">241</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-242">242</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-243">243</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-244">244</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-245">245</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-246">246</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-247">247</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-248">248</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-249">249</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-250">250</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-251">251</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-252">252</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-253">253</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-254">254</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-255">255</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-256">256</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-257">257</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-258">258</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-259">259</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-260">260</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-261">261</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-262">262</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-263">263</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-264">264</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-265">265</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24"></a><span style="color: #BB80B3">class</span><span style="color: #EFF"> </span><span style="color: #FFCB6B">InteropConfigManager</span><span style="color: #89DDFF">(</span><span style="color: #EFF">ConfigManager</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Specialized configuration manager for the interoperability module</span>
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26"></a>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27"></a><span style="color: #546E7A; font-style: italic">    Extends ConfigManager to handle CDA document and section template configurations.</span>
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28"></a><span style="color: #546E7A; font-style: italic">    Provides functionality for:</span>
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29"></a>
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30"></a><span style="color: #546E7A; font-style: italic">    - Loading and validating interop configurations</span>
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31"></a><span style="color: #546E7A; font-style: italic">    - Managing document and section templates</span>
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32"></a><span style="color: #546E7A; font-style: italic">    - Registering custom validation models</span>
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33"></a>
</span><span id="__span-0-34"><a id="__codelineno-0-34" name="__codelineno-0-34"></a><span style="color: #546E7A; font-style: italic">    Configuration structure:</span>
</span><span id="__span-0-35"><a id="__codelineno-0-35" name="__codelineno-0-35"></a><span style="color: #546E7A; font-style: italic">    - Document templates (under &quot;document&quot;)</span>
</span><span id="__span-0-36"><a id="__codelineno-0-36" name="__codelineno-0-36"></a><span style="color: #546E7A; font-style: italic">    - Section templates (under &quot;sections&quot;)</span>
</span><span id="__span-0-37"><a id="__codelineno-0-37" name="__codelineno-0-37"></a><span style="color: #546E7A; font-style: italic">    - Default values and settings</span>
</span><span id="__span-0-38"><a id="__codelineno-0-38" name="__codelineno-0-38"></a>
</span><span id="__span-0-39"><a id="__codelineno-0-39" name="__codelineno-0-39"></a><span style="color: #546E7A; font-style: italic">    Validation levels:</span>
</span><span id="__span-0-40"><a id="__codelineno-0-40" name="__codelineno-0-40"></a><span style="color: #546E7A; font-style: italic">    - STRICT: Full validation (default)</span>
</span><span id="__span-0-41"><a id="__codelineno-0-41" name="__codelineno-0-41"></a><span style="color: #546E7A; font-style: italic">    - WARN: Warning-only</span>
</span><span id="__span-0-42"><a id="__codelineno-0-42" name="__codelineno-0-42"></a><span style="color: #546E7A; font-style: italic">    - IGNORE: No validation</span>
</span><span id="__span-0-43"><a id="__codelineno-0-43" name="__codelineno-0-43"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-44"><a id="__codelineno-0-44" name="__codelineno-0-44"></a>
</span><span id="__span-0-45"><a id="__codelineno-0-45" name="__codelineno-0-45"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">__init__</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-46"><a id="__codelineno-0-46" name="__codelineno-0-46"></a>        <span style="color: #89DDFF">self,</span>
</span><span id="__span-0-47"><a id="__codelineno-0-47" name="__codelineno-0-47"></a>        <span style="color: #EFF">config_dir</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Path</span><span style="color: #89DDFF">,</span>
</span><span id="__span-0-48"><a id="__codelineno-0-48" name="__codelineno-0-48"></a>        <span style="color: #EFF">validation_level</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">ValidationLevel</span><span style="color: #89DDFF">.</span><span style="color: #EFF">STRICT</span><span style="color: #89DDFF">,</span>
</span><span id="__span-0-49"><a id="__codelineno-0-49" name="__codelineno-0-49"></a>        <span style="color: #EFF">environment</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None,</span>
</span><span id="__span-0-50"><a id="__codelineno-0-50" name="__codelineno-0-50"></a>    <span style="color: #89DDFF">):</span>
</span><span id="__span-0-51"><a id="__codelineno-0-51" name="__codelineno-0-51"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Initialize the InteropConfigManager.</span>
</span><span id="__span-0-52"><a id="__codelineno-0-52" name="__codelineno-0-52"></a>
</span><span id="__span-0-53"><a id="__codelineno-0-53" name="__codelineno-0-53"></a><span style="color: #546E7A; font-style: italic">        Initializes the configuration manager with the interop module and validates</span>
</span><span id="__span-0-54"><a id="__codelineno-0-54" name="__codelineno-0-54"></a><span style="color: #546E7A; font-style: italic">        the configuration. The interop module configuration must exist in the</span>
</span><span id="__span-0-55"><a id="__codelineno-0-55" name="__codelineno-0-55"></a><span style="color: #546E7A; font-style: italic">        specified config directory.</span>
</span><span id="__span-0-56"><a id="__codelineno-0-56" name="__codelineno-0-56"></a>
</span><span id="__span-0-57"><a id="__codelineno-0-57" name="__codelineno-0-57"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-58"><a id="__codelineno-0-58" name="__codelineno-0-58"></a><span style="color: #546E7A; font-style: italic">            config_dir: Base directory containing configuration files</span>
</span><span id="__span-0-59"><a id="__codelineno-0-59" name="__codelineno-0-59"></a><span style="color: #546E7A; font-style: italic">            validation_level: Level of validation to perform. Default is STRICT.</span>
</span><span id="__span-0-60"><a id="__codelineno-0-60" name="__codelineno-0-60"></a><span style="color: #546E7A; font-style: italic">                Can be STRICT, WARN, or IGNORE.</span>
</span><span id="__span-0-61"><a id="__codelineno-0-61" name="__codelineno-0-61"></a><span style="color: #546E7A; font-style: italic">            environment: Optional environment name to load environment-specific configs.</span>
</span><span id="__span-0-62"><a id="__codelineno-0-62" name="__codelineno-0-62"></a><span style="color: #546E7A; font-style: italic">                If provided, will load and merge environment-specific configuration.</span>
</span><span id="__span-0-63"><a id="__codelineno-0-63" name="__codelineno-0-63"></a>
</span><span id="__span-0-64"><a id="__codelineno-0-64" name="__codelineno-0-64"></a><span style="color: #546E7A; font-style: italic">        Raises:</span>
</span><span id="__span-0-65"><a id="__codelineno-0-65" name="__codelineno-0-65"></a><span style="color: #546E7A; font-style: italic">            ValueError: If the interop module configuration is not found in config_dir.</span>
</span><span id="__span-0-66"><a id="__codelineno-0-66" name="__codelineno-0-66"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-67"><a id="__codelineno-0-67" name="__codelineno-0-67"></a>        <span style="color: #546E7A; font-style: italic"># Initialize with &quot;interop&quot; as the fixed module</span>
</span><span id="__span-0-68"><a id="__codelineno-0-68" name="__codelineno-0-68"></a>        <span style="color: #82AAFF">super</span><span style="color: #89DDFF">().</span><span style="color: #82AAFF">__init__</span><span style="color: #89DDFF">(</span><span style="color: #EFF">config_dir</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">validation_level</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">module</span><span style="color: #89DDFF">=</span><span style="color: #C3E88D">&quot;interop&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-69"><a id="__codelineno-0-69" name="__codelineno-0-69"></a>        <span style="color: #89DDFF">self.</span><span style="color: #EFF">load</span><span style="color: #89DDFF">(</span><span style="color: #EFF">environment</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">skip_validation</span><span style="color: #89DDFF">=True)</span>
</span><span id="__span-0-70"><a id="__codelineno-0-70" name="__codelineno-0-70"></a>
</span><span id="__span-0-71"><a id="__codelineno-0-71" name="__codelineno-0-71"></a>        <span style="color: #BB80B3">if</span> <span style="color: #C3E88D">&quot;interop&quot;</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_module_configs</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-72"><a id="__codelineno-0-72" name="__codelineno-0-72"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-73"><a id="__codelineno-0-73" name="__codelineno-0-73"></a>                <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Interop module not found in configuration directory </span><span style="color: #89DDFF">{</span><span style="color: #EFF">config_dir</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-74"><a id="__codelineno-0-74" name="__codelineno-0-74"></a>            <span style="color: #89DDFF">)</span>
</span><span id="__span-0-75"><a id="__codelineno-0-75" name="__codelineno-0-75"></a>
</span><span id="__span-0-76"><a id="__codelineno-0-76" name="__codelineno-0-76"></a>        <span style="color: #89DDFF">self.</span><span style="color: #EFF">validate</span><span style="color: #89DDFF">()</span>
</span><span id="__span-0-77"><a id="__codelineno-0-77" name="__codelineno-0-77"></a>
</span><span id="__span-0-78"><a id="__codelineno-0-78" name="__codelineno-0-78"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">_find_cda_document_types</span><span style="color: #89DDFF">(self)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">]:</span>
</span><span id="__span-0-79"><a id="__codelineno-0-79" name="__codelineno-0-79"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Find available CDA document types in the configs</span>
</span><span id="__span-0-80"><a id="__codelineno-0-80" name="__codelineno-0-80"></a>
</span><span id="__span-0-81"><a id="__codelineno-0-81" name="__codelineno-0-81"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-82"><a id="__codelineno-0-82" name="__codelineno-0-82"></a><span style="color: #546E7A; font-style: italic">            List of CDA document type strings</span>
</span><span id="__span-0-83"><a id="__codelineno-0-83" name="__codelineno-0-83"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-84"><a id="__codelineno-0-84" name="__codelineno-0-84"></a>        <span style="color: #546E7A; font-style: italic"># Get document types from cda/document path</span>
</span><span id="__span-0-85"><a id="__codelineno-0-85" name="__codelineno-0-85"></a>        <span style="color: #EFF">doc_section</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_find_config_section</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-86"><a id="__codelineno-0-86" name="__codelineno-0-86"></a>            <span style="color: #EFF">module_name</span><span style="color: #89DDFF">=</span><span style="color: #C3E88D">&quot;interop&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">section_path</span><span style="color: #89DDFF">=</span><span style="color: #C3E88D">&quot;cda/document&quot;</span>
</span><span id="__span-0-87"><a id="__codelineno-0-87" name="__codelineno-0-87"></a>        <span style="color: #89DDFF">)</span>
</span><span id="__span-0-88"><a id="__codelineno-0-88" name="__codelineno-0-88"></a>
</span><span id="__span-0-89"><a id="__codelineno-0-89" name="__codelineno-0-89"></a>        <span style="color: #546E7A; font-style: italic"># If no document section exists, return empty list</span>
</span><span id="__span-0-90"><a id="__codelineno-0-90" name="__codelineno-0-90"></a>        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">doc_section</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-91"><a id="__codelineno-0-91" name="__codelineno-0-91"></a>            <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">[]</span>
</span><span id="__span-0-92"><a id="__codelineno-0-92" name="__codelineno-0-92"></a>
</span><span id="__span-0-93"><a id="__codelineno-0-93" name="__codelineno-0-93"></a>        <span style="color: #546E7A; font-style: italic"># Return the keys from the document section</span>
</span><span id="__span-0-94"><a id="__codelineno-0-94" name="__codelineno-0-94"></a>        <span style="color: #BB80B3">return</span> <span style="color: #82AAFF">list</span><span style="color: #89DDFF">(</span><span style="color: #EFF">doc_section</span><span style="color: #89DDFF">.</span><span style="color: #EFF">keys</span><span style="color: #89DDFF">())</span>
</span><span id="__span-0-95"><a id="__codelineno-0-95" name="__codelineno-0-95"></a>
</span><span id="__span-0-96"><a id="__codelineno-0-96" name="__codelineno-0-96"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">get_cda_section_configs</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">section_key</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">Dict</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-97"><a id="__codelineno-0-97" name="__codelineno-0-97"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Get CDA section configuration(s).</span>
</span><span id="__span-0-98"><a id="__codelineno-0-98" name="__codelineno-0-98"></a>
</span><span id="__span-0-99"><a id="__codelineno-0-99" name="__codelineno-0-99"></a><span style="color: #546E7A; font-style: italic">        Retrieves section configurations from the loaded configs. When section_key is provided,</span>
</span><span id="__span-0-100"><a id="__codelineno-0-100" name="__codelineno-0-100"></a><span style="color: #546E7A; font-style: italic">        retrieves configuration for a specific section; otherwise, returns all section configurations.</span>
</span><span id="__span-0-101"><a id="__codelineno-0-101" name="__codelineno-0-101"></a><span style="color: #546E7A; font-style: italic">        Section configurations define how different CDA sections should be processed and mapped to</span>
</span><span id="__span-0-102"><a id="__codelineno-0-102" name="__codelineno-0-102"></a><span style="color: #546E7A; font-style: italic">        FHIR resources.</span>
</span><span id="__span-0-103"><a id="__codelineno-0-103" name="__codelineno-0-103"></a>
</span><span id="__span-0-104"><a id="__codelineno-0-104" name="__codelineno-0-104"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-105"><a id="__codelineno-0-105" name="__codelineno-0-105"></a><span style="color: #546E7A; font-style: italic">            section_key: Optional section identifier (e.g., &quot;problems&quot;, &quot;medications&quot;).</span>
</span><span id="__span-0-106"><a id="__codelineno-0-106" name="__codelineno-0-106"></a><span style="color: #546E7A; font-style: italic">                         If provided, returns only that specific section&#39;s configuration.</span>
</span><span id="__span-0-107"><a id="__codelineno-0-107" name="__codelineno-0-107"></a>
</span><span id="__span-0-108"><a id="__codelineno-0-108" name="__codelineno-0-108"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-109"><a id="__codelineno-0-109" name="__codelineno-0-109"></a><span style="color: #546E7A; font-style: italic">            Dict: Dictionary mapping section keys to their configurations if section_key is None.</span>
</span><span id="__span-0-110"><a id="__codelineno-0-110" name="__codelineno-0-110"></a><span style="color: #546E7A; font-style: italic">                  Single section configuration dict if section_key is provided.</span>
</span><span id="__span-0-111"><a id="__codelineno-0-111" name="__codelineno-0-111"></a>
</span><span id="__span-0-112"><a id="__codelineno-0-112" name="__codelineno-0-112"></a><span style="color: #546E7A; font-style: italic">        Raises:</span>
</span><span id="__span-0-113"><a id="__codelineno-0-113" name="__codelineno-0-113"></a><span style="color: #546E7A; font-style: italic">            ValueError: If section_key is provided but not found in configurations</span>
</span><span id="__span-0-114"><a id="__codelineno-0-114" name="__codelineno-0-114"></a><span style="color: #546E7A; font-style: italic">                       or if no sections are configured</span>
</span><span id="__span-0-115"><a id="__codelineno-0-115" name="__codelineno-0-115"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-116"><a id="__codelineno-0-116" name="__codelineno-0-116"></a>        <span style="color: #546E7A; font-style: italic"># Get all sections</span>
</span><span id="__span-0-117"><a id="__codelineno-0-117" name="__codelineno-0-117"></a>        <span style="color: #EFF">sections</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_find_config_section</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-118"><a id="__codelineno-0-118" name="__codelineno-0-118"></a>            <span style="color: #EFF">module_name</span><span style="color: #89DDFF">=</span><span style="color: #C3E88D">&quot;interop&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">section_path</span><span style="color: #89DDFF">=</span><span style="color: #C3E88D">&quot;cda/sections&quot;</span>
</span><span id="__span-0-119"><a id="__codelineno-0-119" name="__codelineno-0-119"></a>        <span style="color: #89DDFF">)</span>
</span><span id="__span-0-120"><a id="__codelineno-0-120" name="__codelineno-0-120"></a>
</span><span id="__span-0-121"><a id="__codelineno-0-121" name="__codelineno-0-121"></a>        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">sections</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-122"><a id="__codelineno-0-122" name="__codelineno-0-122"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;No CDA section configurations found&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-123"><a id="__codelineno-0-123" name="__codelineno-0-123"></a>
</span><span id="__span-0-124"><a id="__codelineno-0-124" name="__codelineno-0-124"></a>        <span style="color: #546E7A; font-style: italic"># If section_key is provided, return just that section</span>
</span><span id="__span-0-125"><a id="__codelineno-0-125" name="__codelineno-0-125"></a>        <span style="color: #BB80B3">if</span> <span style="color: #EFF">section_key</span> <span style="color: #89DDFF; font-style: italic">is</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF">None:</span>
</span><span id="__span-0-126"><a id="__codelineno-0-126" name="__codelineno-0-126"></a>            <span style="color: #BB80B3">if</span> <span style="color: #EFF">section_key</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">sections</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-127"><a id="__codelineno-0-127" name="__codelineno-0-127"></a>                <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Section configuration not found: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-128"><a id="__codelineno-0-128" name="__codelineno-0-128"></a>
</span><span id="__span-0-129"><a id="__codelineno-0-129" name="__codelineno-0-129"></a>            <span style="color: #546E7A; font-style: italic"># Basic validation that required fields exist</span>
</span><span id="__span-0-130"><a id="__codelineno-0-130" name="__codelineno-0-130"></a>            <span style="color: #EFF">section_config</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">sections</span><span style="color: #89DDFF">[</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-131"><a id="__codelineno-0-131" name="__codelineno-0-131"></a>            <span style="color: #BB80B3">if</span> <span style="color: #C3E88D">&quot;resource&quot;</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">section_config</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-132"><a id="__codelineno-0-132" name="__codelineno-0-132"></a>                <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-133"><a id="__codelineno-0-133" name="__codelineno-0-133"></a>                    <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Invalid section configuration for </span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">: missing &#39;resource&#39; field&quot;</span>
</span><span id="__span-0-134"><a id="__codelineno-0-134" name="__codelineno-0-134"></a>                <span style="color: #89DDFF">)</span>
</span><span id="__span-0-135"><a id="__codelineno-0-135" name="__codelineno-0-135"></a>
</span><span id="__span-0-136"><a id="__codelineno-0-136" name="__codelineno-0-136"></a>            <span style="color: #BB80B3">return</span> <span style="color: #EFF">section_config</span>
</span><span id="__span-0-137"><a id="__codelineno-0-137" name="__codelineno-0-137"></a>
</span><span id="__span-0-138"><a id="__codelineno-0-138" name="__codelineno-0-138"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">sections</span>
</span><span id="__span-0-139"><a id="__codelineno-0-139" name="__codelineno-0-139"></a>
</span><span id="__span-0-140"><a id="__codelineno-0-140" name="__codelineno-0-140"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">get_cda_document_config</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">document_type</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">Dict</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-141"><a id="__codelineno-0-141" name="__codelineno-0-141"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Get CDA document configuration for a specific document type.</span>
</span><span id="__span-0-142"><a id="__codelineno-0-142" name="__codelineno-0-142"></a>
</span><span id="__span-0-143"><a id="__codelineno-0-143" name="__codelineno-0-143"></a><span style="color: #546E7A; font-style: italic">        Retrieves the configuration for a CDA document type from the loaded configs.</span>
</span><span id="__span-0-144"><a id="__codelineno-0-144" name="__codelineno-0-144"></a><span style="color: #546E7A; font-style: italic">        The configuration contains template settings and other document-specific parameters.</span>
</span><span id="__span-0-145"><a id="__codelineno-0-145" name="__codelineno-0-145"></a>
</span><span id="__span-0-146"><a id="__codelineno-0-146" name="__codelineno-0-146"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-147"><a id="__codelineno-0-147" name="__codelineno-0-147"></a><span style="color: #546E7A; font-style: italic">            document_type: Type of document (e.g., &quot;ccd&quot;, &quot;discharge&quot;) to get config for</span>
</span><span id="__span-0-148"><a id="__codelineno-0-148" name="__codelineno-0-148"></a>
</span><span id="__span-0-149"><a id="__codelineno-0-149" name="__codelineno-0-149"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-150"><a id="__codelineno-0-150" name="__codelineno-0-150"></a><span style="color: #546E7A; font-style: italic">            Dict containing the document configuration</span>
</span><span id="__span-0-151"><a id="__codelineno-0-151" name="__codelineno-0-151"></a>
</span><span id="__span-0-152"><a id="__codelineno-0-152" name="__codelineno-0-152"></a><span style="color: #546E7A; font-style: italic">        Raises:</span>
</span><span id="__span-0-153"><a id="__codelineno-0-153" name="__codelineno-0-153"></a><span style="color: #546E7A; font-style: italic">            ValueError: If document_type is not found or the configuration is invalid</span>
</span><span id="__span-0-154"><a id="__codelineno-0-154" name="__codelineno-0-154"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-155"><a id="__codelineno-0-155" name="__codelineno-0-155"></a>        <span style="color: #EFF">document_config</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_find_config_section</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-156"><a id="__codelineno-0-156" name="__codelineno-0-156"></a>            <span style="color: #EFF">module_name</span><span style="color: #89DDFF">=</span><span style="color: #C3E88D">&quot;interop&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">section_path</span><span style="color: #89DDFF">=</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;cda/document/</span><span style="color: #89DDFF">{</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-157"><a id="__codelineno-0-157" name="__codelineno-0-157"></a>        <span style="color: #89DDFF">)</span>
</span><span id="__span-0-158"><a id="__codelineno-0-158" name="__codelineno-0-158"></a>
</span><span id="__span-0-159"><a id="__codelineno-0-159" name="__codelineno-0-159"></a>        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">document_config</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-160"><a id="__codelineno-0-160" name="__codelineno-0-160"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-161"><a id="__codelineno-0-161" name="__codelineno-0-161"></a>                <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Document configuration not found for type: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-162"><a id="__codelineno-0-162" name="__codelineno-0-162"></a>            <span style="color: #89DDFF">)</span>
</span><span id="__span-0-163"><a id="__codelineno-0-163" name="__codelineno-0-163"></a>
</span><span id="__span-0-164"><a id="__codelineno-0-164" name="__codelineno-0-164"></a>        <span style="color: #546E7A; font-style: italic"># Basic validation that required sections exist</span>
</span><span id="__span-0-165"><a id="__codelineno-0-165" name="__codelineno-0-165"></a>        <span style="color: #BB80B3">if</span> <span style="color: #C3E88D">&quot;templates&quot;</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">document_config</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-166"><a id="__codelineno-0-166" name="__codelineno-0-166"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-167"><a id="__codelineno-0-167" name="__codelineno-0-167"></a>                <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Invalid document configuration for </span><span style="color: #89DDFF">{</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">: missing &#39;templates&#39; section&quot;</span>
</span><span id="__span-0-168"><a id="__codelineno-0-168" name="__codelineno-0-168"></a>            <span style="color: #89DDFF">)</span>
</span><span id="__span-0-169"><a id="__codelineno-0-169" name="__codelineno-0-169"></a>
</span><span id="__span-0-170"><a id="__codelineno-0-170" name="__codelineno-0-170"></a>        <span style="color: #546E7A; font-style: italic"># Return the validated config</span>
</span><span id="__span-0-171"><a id="__codelineno-0-171" name="__codelineno-0-171"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">document_config</span>
</span><span id="__span-0-172"><a id="__codelineno-0-172" name="__codelineno-0-172"></a>
</span><span id="__span-0-173"><a id="__codelineno-0-173" name="__codelineno-0-173"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">validate</span><span style="color: #89DDFF">(self)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #82AAFF">bool</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-174"><a id="__codelineno-0-174" name="__codelineno-0-174"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Validate that all required configurations are present for the interop module.</span>
</span><span id="__span-0-175"><a id="__codelineno-0-175" name="__codelineno-0-175"></a>
</span><span id="__span-0-176"><a id="__codelineno-0-176" name="__codelineno-0-176"></a><span style="color: #546E7A; font-style: italic">        Validates both section and document configurations according to their registered</span>
</span><span id="__span-0-177"><a id="__codelineno-0-177" name="__codelineno-0-177"></a><span style="color: #546E7A; font-style: italic">        validation models. Section configs are required and will cause validation to fail</span>
</span><span id="__span-0-178"><a id="__codelineno-0-178" name="__codelineno-0-178"></a><span style="color: #546E7A; font-style: italic">        if missing or invalid. Document configs are optional but will be validated if present.</span>
</span><span id="__span-0-179"><a id="__codelineno-0-179" name="__codelineno-0-179"></a>
</span><span id="__span-0-180"><a id="__codelineno-0-180" name="__codelineno-0-180"></a><span style="color: #546E7A; font-style: italic">        The validation behavior depends on the validation_level setting:</span>
</span><span id="__span-0-181"><a id="__codelineno-0-181" name="__codelineno-0-181"></a><span style="color: #546E7A; font-style: italic">        - IGNORE: Always returns True without validating</span>
</span><span id="__span-0-182"><a id="__codelineno-0-182" name="__codelineno-0-182"></a><span style="color: #546E7A; font-style: italic">        - WARN: Logs warnings for validation failures but returns True</span>
</span><span id="__span-0-183"><a id="__codelineno-0-183" name="__codelineno-0-183"></a><span style="color: #546E7A; font-style: italic">        - ERROR: Returns False if any validation fails</span>
</span><span id="__span-0-184"><a id="__codelineno-0-184" name="__codelineno-0-184"></a>
</span><span id="__span-0-185"><a id="__codelineno-0-185" name="__codelineno-0-185"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-186"><a id="__codelineno-0-186" name="__codelineno-0-186"></a><span style="color: #546E7A; font-style: italic">            bool: True if validation passes or is ignored, False if validation fails</span>
</span><span id="__span-0-187"><a id="__codelineno-0-187" name="__codelineno-0-187"></a><span style="color: #546E7A; font-style: italic">                 when validation_level is ERROR</span>
</span><span id="__span-0-188"><a id="__codelineno-0-188" name="__codelineno-0-188"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-189"><a id="__codelineno-0-189" name="__codelineno-0-189"></a>        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_validation_level</span> <span style="color: #89DDFF">==</span> <span style="color: #EFF">ValidationLevel</span><span style="color: #89DDFF">.</span><span style="color: #EFF">IGNORE</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-190"><a id="__codelineno-0-190" name="__codelineno-0-190"></a>            <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">True</span>
</span><span id="__span-0-191"><a id="__codelineno-0-191" name="__codelineno-0-191"></a>
</span><span id="__span-0-192"><a id="__codelineno-0-192" name="__codelineno-0-192"></a>        <span style="color: #EFF">is_valid</span> <span style="color: #89DDFF">=</span> <span style="color: #82AAFF">super</span><span style="color: #89DDFF">().</span><span style="color: #EFF">validate</span><span style="color: #89DDFF">()</span>
</span><span id="__span-0-193"><a id="__codelineno-0-193" name="__codelineno-0-193"></a>
</span><span id="__span-0-194"><a id="__codelineno-0-194" name="__codelineno-0-194"></a>        <span style="color: #546E7A; font-style: italic"># Validate section configs</span>
</span><span id="__span-0-195"><a id="__codelineno-0-195" name="__codelineno-0-195"></a>        <span style="color: #BB80B3">try</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-196"><a id="__codelineno-0-196" name="__codelineno-0-196"></a>            <span style="color: #EFF">section_configs</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_find_config_section</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-197"><a id="__codelineno-0-197" name="__codelineno-0-197"></a>                <span style="color: #EFF">module_name</span><span style="color: #89DDFF">=</span><span style="color: #C3E88D">&quot;interop&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">section_path</span><span style="color: #89DDFF">=</span><span style="color: #C3E88D">&quot;cda/sections&quot;</span>
</span><span id="__span-0-198"><a id="__codelineno-0-198" name="__codelineno-0-198"></a>            <span style="color: #89DDFF">)</span>
</span><span id="__span-0-199"><a id="__codelineno-0-199" name="__codelineno-0-199"></a>            <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">section_configs</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-200"><a id="__codelineno-0-200" name="__codelineno-0-200"></a>                <span style="color: #EFF">is_valid</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_handle_validation_error</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;No section configs found&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-201"><a id="__codelineno-0-201" name="__codelineno-0-201"></a>            <span style="color: #BB80B3">else</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-202"><a id="__codelineno-0-202" name="__codelineno-0-202"></a>                <span style="color: #546E7A; font-style: italic"># Validate each section config</span>
</span><span id="__span-0-203"><a id="__codelineno-0-203" name="__codelineno-0-203"></a>                <span style="color: #BB80B3">for</span> <span style="color: #EFF">section_key</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">section_config</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">section_configs</span><span style="color: #89DDFF">.</span><span style="color: #EFF">items</span><span style="color: #89DDFF">():</span>
</span><span id="__span-0-204"><a id="__codelineno-0-204" name="__codelineno-0-204"></a>                    <span style="color: #EFF">result</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">validate_cda_section_config_model</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-205"><a id="__codelineno-0-205" name="__codelineno-0-205"></a>                        <span style="color: #EFF">section_key</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">section_config</span>
</span><span id="__span-0-206"><a id="__codelineno-0-206" name="__codelineno-0-206"></a>                    <span style="color: #89DDFF">)</span>
</span><span id="__span-0-207"><a id="__codelineno-0-207" name="__codelineno-0-207"></a>                    <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">result</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-208"><a id="__codelineno-0-208" name="__codelineno-0-208"></a>                        <span style="color: #EFF">is_valid</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_handle_validation_error</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-209"><a id="__codelineno-0-209" name="__codelineno-0-209"></a>                            <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Section config validation failed for key: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-210"><a id="__codelineno-0-210" name="__codelineno-0-210"></a>                        <span style="color: #89DDFF">)</span>
</span><span id="__span-0-211"><a id="__codelineno-0-211" name="__codelineno-0-211"></a>        <span style="color: #BB80B3">except</span> <span style="color: #FFCB6B">Exception</span> <span style="color: #BB80B3">as</span> <span style="color: #EFF">e</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-212"><a id="__codelineno-0-212" name="__codelineno-0-212"></a>            <span style="color: #EFF">is_valid</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_handle_validation_error</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-213"><a id="__codelineno-0-213" name="__codelineno-0-213"></a>                <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Error validating section configs: </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">e</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-214"><a id="__codelineno-0-214" name="__codelineno-0-214"></a>            <span style="color: #89DDFF">)</span>
</span><span id="__span-0-215"><a id="__codelineno-0-215" name="__codelineno-0-215"></a>
</span><span id="__span-0-216"><a id="__codelineno-0-216" name="__codelineno-0-216"></a>        <span style="color: #546E7A; font-style: italic"># Validate document configs - but don&#39;t fail if no documents are configured</span>
</span><span id="__span-0-217"><a id="__codelineno-0-217" name="__codelineno-0-217"></a>        <span style="color: #546E7A; font-style: italic"># since some use cases might not require documents</span>
</span><span id="__span-0-218"><a id="__codelineno-0-218" name="__codelineno-0-218"></a>        <span style="color: #EFF">document_types</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_find_cda_document_types</span><span style="color: #89DDFF">()</span>
</span><span id="__span-0-219"><a id="__codelineno-0-219" name="__codelineno-0-219"></a>        <span style="color: #BB80B3">for</span> <span style="color: #EFF">doc_type</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">document_types</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-220"><a id="__codelineno-0-220" name="__codelineno-0-220"></a>            <span style="color: #BB80B3">try</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-221"><a id="__codelineno-0-221" name="__codelineno-0-221"></a>                <span style="color: #EFF">doc_config</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_find_config_section</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-222"><a id="__codelineno-0-222" name="__codelineno-0-222"></a>                    <span style="color: #EFF">module_name</span><span style="color: #89DDFF">=</span><span style="color: #C3E88D">&quot;interop&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">section_path</span><span style="color: #89DDFF">=</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;cda/document/</span><span style="color: #89DDFF">{</span><span style="color: #EFF">doc_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-223"><a id="__codelineno-0-223" name="__codelineno-0-223"></a>                <span style="color: #89DDFF">)</span>
</span><span id="__span-0-224"><a id="__codelineno-0-224" name="__codelineno-0-224"></a>                <span style="color: #BB80B3">if</span> <span style="color: #EFF">doc_config</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-225"><a id="__codelineno-0-225" name="__codelineno-0-225"></a>                    <span style="color: #EFF">result</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">validate_cda_document_config_model</span><span style="color: #89DDFF">(</span><span style="color: #EFF">doc_type</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">doc_config</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-226"><a id="__codelineno-0-226" name="__codelineno-0-226"></a>                    <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">result</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-227"><a id="__codelineno-0-227" name="__codelineno-0-227"></a>                        <span style="color: #EFF">is_valid</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_handle_validation_error</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-228"><a id="__codelineno-0-228" name="__codelineno-0-228"></a>                            <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Document config validation failed for type: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">doc_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-229"><a id="__codelineno-0-229" name="__codelineno-0-229"></a>                        <span style="color: #89DDFF">)</span>
</span><span id="__span-0-230"><a id="__codelineno-0-230" name="__codelineno-0-230"></a>            <span style="color: #BB80B3">except</span> <span style="color: #FFCB6B">Exception</span> <span style="color: #BB80B3">as</span> <span style="color: #EFF">e</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-231"><a id="__codelineno-0-231" name="__codelineno-0-231"></a>                <span style="color: #EFF">is_valid</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_handle_validation_error</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-232"><a id="__codelineno-0-232" name="__codelineno-0-232"></a>                    <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Error validating document config for </span><span style="color: #89DDFF">{</span><span style="color: #EFF">doc_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">: </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">e</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-233"><a id="__codelineno-0-233" name="__codelineno-0-233"></a>                <span style="color: #89DDFF">)</span>
</span><span id="__span-0-234"><a id="__codelineno-0-234" name="__codelineno-0-234"></a>
</span><span id="__span-0-235"><a id="__codelineno-0-235" name="__codelineno-0-235"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">is_valid</span>
</span><span id="__span-0-236"><a id="__codelineno-0-236" name="__codelineno-0-236"></a>
</span><span id="__span-0-237"><a id="__codelineno-0-237" name="__codelineno-0-237"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">register_cda_section_config</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-238"><a id="__codelineno-0-238" name="__codelineno-0-238"></a>        <span style="color: #89DDFF">self,</span> <span style="color: #EFF">resource_type</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">config_model</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Type</span><span style="color: #89DDFF">[</span><span style="color: #EFF">BaseModel</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-239"><a id="__codelineno-0-239" name="__codelineno-0-239"></a>    <span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #89DDFF">None:</span>
</span><span id="__span-0-240"><a id="__codelineno-0-240" name="__codelineno-0-240"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Register a validation model for a CDA section configuration.</span>
</span><span id="__span-0-241"><a id="__codelineno-0-241" name="__codelineno-0-241"></a>
</span><span id="__span-0-242"><a id="__codelineno-0-242" name="__codelineno-0-242"></a><span style="color: #546E7A; font-style: italic">        Registers a Pydantic model that will be used to validate configuration for a CDA section</span>
</span><span id="__span-0-243"><a id="__codelineno-0-243" name="__codelineno-0-243"></a><span style="color: #546E7A; font-style: italic">        that maps to a specific FHIR resource type. The model defines the required and optional</span>
</span><span id="__span-0-244"><a id="__codelineno-0-244" name="__codelineno-0-244"></a><span style="color: #546E7A; font-style: italic">        fields that should be present in the section configuration.</span>
</span><span id="__span-0-245"><a id="__codelineno-0-245" name="__codelineno-0-245"></a>
</span><span id="__span-0-246"><a id="__codelineno-0-246" name="__codelineno-0-246"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-247"><a id="__codelineno-0-247" name="__codelineno-0-247"></a><span style="color: #546E7A; font-style: italic">            resource_type: FHIR resource type that the section maps to (e.g. &quot;Condition&quot;)</span>
</span><span id="__span-0-248"><a id="__codelineno-0-248" name="__codelineno-0-248"></a><span style="color: #546E7A; font-style: italic">            config_model: Pydantic model class that defines the validation schema for the section config</span>
</span><span id="__span-0-249"><a id="__codelineno-0-249" name="__codelineno-0-249"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-250"><a id="__codelineno-0-250" name="__codelineno-0-250"></a>        <span style="color: #EFF">register_cda_section_template_config_model</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resource_type</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">config_model</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-251"><a id="__codelineno-0-251" name="__codelineno-0-251"></a>
</span><span id="__span-0-252"><a id="__codelineno-0-252" name="__codelineno-0-252"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">register_cda_document_config</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-253"><a id="__codelineno-0-253" name="__codelineno-0-253"></a>        <span style="color: #89DDFF">self,</span> <span style="color: #EFF">document_type</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">config_model</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Type</span><span style="color: #89DDFF">[</span><span style="color: #EFF">BaseModel</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-254"><a id="__codelineno-0-254" name="__codelineno-0-254"></a>    <span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #89DDFF">None:</span>
</span><span id="__span-0-255"><a id="__codelineno-0-255" name="__codelineno-0-255"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Register a validation model for a CDA document configuration.</span>
</span><span id="__span-0-256"><a id="__codelineno-0-256" name="__codelineno-0-256"></a>
</span><span id="__span-0-257"><a id="__codelineno-0-257" name="__codelineno-0-257"></a><span style="color: #546E7A; font-style: italic">        Registers a Pydantic model that will be used to validate configuration for a CDA document</span>
</span><span id="__span-0-258"><a id="__codelineno-0-258" name="__codelineno-0-258"></a><span style="color: #546E7A; font-style: italic">        type. The model defines the required and optional fields that should be present in the</span>
</span><span id="__span-0-259"><a id="__codelineno-0-259" name="__codelineno-0-259"></a><span style="color: #546E7A; font-style: italic">        document configuration.</span>
</span><span id="__span-0-260"><a id="__codelineno-0-260" name="__codelineno-0-260"></a>
</span><span id="__span-0-261"><a id="__codelineno-0-261" name="__codelineno-0-261"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-262"><a id="__codelineno-0-262" name="__codelineno-0-262"></a><span style="color: #546E7A; font-style: italic">            document_type: Document type identifier (e.g., &quot;ccd&quot;, &quot;discharge&quot;)</span>
</span><span id="__span-0-263"><a id="__codelineno-0-263" name="__codelineno-0-263"></a><span style="color: #546E7A; font-style: italic">            config_model: Pydantic model class that defines the validation schema for the document config</span>
</span><span id="__span-0-264"><a id="__codelineno-0-264" name="__codelineno-0-264"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-265"><a id="__codelineno-0-265" name="__codelineno-0-265"></a>        <span style="color: #EFF">register_cda_document_template_config_model</span><span style="color: #89DDFF">(</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">config_model</span><span style="color: #89DDFF">)</span>
</span></code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.config_manager.InteropConfigManager.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #82AAFF">__init__</span><span style="color: #89DDFF">(</span><span style="color: #EFF">config_dir</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">validation_level</span><span style="color: #89DDFF">=</span><span style="color: #EFF">ValidationLevel</span><span style="color: #89DDFF">.</span><span style="color: #EFF">STRICT</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">environment</span><span style="color: #89DDFF">=None)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initialize the InteropConfigManager.</p>
<p>Initializes the configuration manager with the interop module and validates
the configuration. The interop module configuration must exist in the
specified config directory.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>config_dir</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Base directory containing configuration files</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="pathlib.Path">Path</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>validation_level</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Level of validation to perform. Default is STRICT.
Can be STRICT, WARN, or IGNORE.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code><span title="healthchain.config.base.ValidationLevel.STRICT">STRICT</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>environment</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Optional environment name to load environment-specific configs.
If provided, will load and merge environment-specific configuration.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="ValueError">ValueError</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If the interop module configuration is not found in config_dir.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/config_manager.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-45">45</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-46">46</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-47">47</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-48">48</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-49">49</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-50">50</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-51">51</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-52">52</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-53">53</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-54">54</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-55">55</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-56">56</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-57">57</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-58">58</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-59">59</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-60">60</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-61">61</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-62">62</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-63">63</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-64">64</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-65">65</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-66">66</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-67">67</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-68">68</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-69">69</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-70">70</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-71">71</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-72">72</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-73">73</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-74">74</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-75">75</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-76">76</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-45"><a id="__codelineno-0-45" name="__codelineno-0-45"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">__init__</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-46"><a id="__codelineno-0-46" name="__codelineno-0-46"></a>    <span style="color: #89DDFF">self,</span>
</span><span id="__span-0-47"><a id="__codelineno-0-47" name="__codelineno-0-47"></a>    <span style="color: #EFF">config_dir</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Path</span><span style="color: #89DDFF">,</span>
</span><span id="__span-0-48"><a id="__codelineno-0-48" name="__codelineno-0-48"></a>    <span style="color: #EFF">validation_level</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">ValidationLevel</span><span style="color: #89DDFF">.</span><span style="color: #EFF">STRICT</span><span style="color: #89DDFF">,</span>
</span><span id="__span-0-49"><a id="__codelineno-0-49" name="__codelineno-0-49"></a>    <span style="color: #EFF">environment</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None,</span>
</span><span id="__span-0-50"><a id="__codelineno-0-50" name="__codelineno-0-50"></a><span style="color: #89DDFF">):</span>
</span><span id="__span-0-51"><a id="__codelineno-0-51" name="__codelineno-0-51"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Initialize the InteropConfigManager.</span>
</span><span id="__span-0-52"><a id="__codelineno-0-52" name="__codelineno-0-52"></a>
</span><span id="__span-0-53"><a id="__codelineno-0-53" name="__codelineno-0-53"></a><span style="color: #546E7A; font-style: italic">    Initializes the configuration manager with the interop module and validates</span>
</span><span id="__span-0-54"><a id="__codelineno-0-54" name="__codelineno-0-54"></a><span style="color: #546E7A; font-style: italic">    the configuration. The interop module configuration must exist in the</span>
</span><span id="__span-0-55"><a id="__codelineno-0-55" name="__codelineno-0-55"></a><span style="color: #546E7A; font-style: italic">    specified config directory.</span>
</span><span id="__span-0-56"><a id="__codelineno-0-56" name="__codelineno-0-56"></a>
</span><span id="__span-0-57"><a id="__codelineno-0-57" name="__codelineno-0-57"></a><span style="color: #546E7A; font-style: italic">    Args:</span>
</span><span id="__span-0-58"><a id="__codelineno-0-58" name="__codelineno-0-58"></a><span style="color: #546E7A; font-style: italic">        config_dir: Base directory containing configuration files</span>
</span><span id="__span-0-59"><a id="__codelineno-0-59" name="__codelineno-0-59"></a><span style="color: #546E7A; font-style: italic">        validation_level: Level of validation to perform. Default is STRICT.</span>
</span><span id="__span-0-60"><a id="__codelineno-0-60" name="__codelineno-0-60"></a><span style="color: #546E7A; font-style: italic">            Can be STRICT, WARN, or IGNORE.</span>
</span><span id="__span-0-61"><a id="__codelineno-0-61" name="__codelineno-0-61"></a><span style="color: #546E7A; font-style: italic">        environment: Optional environment name to load environment-specific configs.</span>
</span><span id="__span-0-62"><a id="__codelineno-0-62" name="__codelineno-0-62"></a><span style="color: #546E7A; font-style: italic">            If provided, will load and merge environment-specific configuration.</span>
</span><span id="__span-0-63"><a id="__codelineno-0-63" name="__codelineno-0-63"></a>
</span><span id="__span-0-64"><a id="__codelineno-0-64" name="__codelineno-0-64"></a><span style="color: #546E7A; font-style: italic">    Raises:</span>
</span><span id="__span-0-65"><a id="__codelineno-0-65" name="__codelineno-0-65"></a><span style="color: #546E7A; font-style: italic">        ValueError: If the interop module configuration is not found in config_dir.</span>
</span><span id="__span-0-66"><a id="__codelineno-0-66" name="__codelineno-0-66"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-67"><a id="__codelineno-0-67" name="__codelineno-0-67"></a>    <span style="color: #546E7A; font-style: italic"># Initialize with &quot;interop&quot; as the fixed module</span>
</span><span id="__span-0-68"><a id="__codelineno-0-68" name="__codelineno-0-68"></a>    <span style="color: #82AAFF">super</span><span style="color: #89DDFF">().</span><span style="color: #82AAFF">__init__</span><span style="color: #89DDFF">(</span><span style="color: #EFF">config_dir</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">validation_level</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">module</span><span style="color: #89DDFF">=</span><span style="color: #C3E88D">&quot;interop&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-69"><a id="__codelineno-0-69" name="__codelineno-0-69"></a>    <span style="color: #89DDFF">self.</span><span style="color: #EFF">load</span><span style="color: #89DDFF">(</span><span style="color: #EFF">environment</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">skip_validation</span><span style="color: #89DDFF">=True)</span>
</span><span id="__span-0-70"><a id="__codelineno-0-70" name="__codelineno-0-70"></a>
</span><span id="__span-0-71"><a id="__codelineno-0-71" name="__codelineno-0-71"></a>    <span style="color: #BB80B3">if</span> <span style="color: #C3E88D">&quot;interop&quot;</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_module_configs</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-72"><a id="__codelineno-0-72" name="__codelineno-0-72"></a>        <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-73"><a id="__codelineno-0-73" name="__codelineno-0-73"></a>            <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Interop module not found in configuration directory </span><span style="color: #89DDFF">{</span><span style="color: #EFF">config_dir</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-74"><a id="__codelineno-0-74" name="__codelineno-0-74"></a>        <span style="color: #89DDFF">)</span>
</span><span id="__span-0-75"><a id="__codelineno-0-75" name="__codelineno-0-75"></a>
</span><span id="__span-0-76"><a id="__codelineno-0-76" name="__codelineno-0-76"></a>    <span style="color: #89DDFF">self.</span><span style="color: #EFF">validate</span><span style="color: #89DDFF">()</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.config_manager.InteropConfigManager.get_cda_document_config" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">get_cda_document_config</span><span style="color: #89DDFF">(</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get CDA document configuration for a specific document type.</p>
<p>Retrieves the configuration for a CDA document type from the loaded configs.
The configuration contains template settings and other document-specific parameters.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>document_type</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Type of document (e.g., "ccd", "discharge") to get config for</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.Dict">Dict</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Dict containing the document configuration</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="ValueError">ValueError</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If document_type is not found or the configuration is invalid</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/config_manager.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-140">140</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-141">141</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-142">142</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-143">143</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-144">144</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-145">145</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-146">146</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-147">147</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-148">148</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-149">149</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-150">150</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-151">151</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-152">152</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-153">153</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-154">154</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-155">155</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-156">156</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-157">157</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-158">158</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-159">159</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-160">160</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-161">161</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-162">162</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-163">163</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-164">164</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-165">165</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-166">166</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-167">167</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-168">168</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-169">169</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-170">170</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-171">171</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-140"><a id="__codelineno-0-140" name="__codelineno-0-140"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">get_cda_document_config</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">document_type</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">Dict</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-141"><a id="__codelineno-0-141" name="__codelineno-0-141"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Get CDA document configuration for a specific document type.</span>
</span><span id="__span-0-142"><a id="__codelineno-0-142" name="__codelineno-0-142"></a>
</span><span id="__span-0-143"><a id="__codelineno-0-143" name="__codelineno-0-143"></a><span style="color: #546E7A; font-style: italic">    Retrieves the configuration for a CDA document type from the loaded configs.</span>
</span><span id="__span-0-144"><a id="__codelineno-0-144" name="__codelineno-0-144"></a><span style="color: #546E7A; font-style: italic">    The configuration contains template settings and other document-specific parameters.</span>
</span><span id="__span-0-145"><a id="__codelineno-0-145" name="__codelineno-0-145"></a>
</span><span id="__span-0-146"><a id="__codelineno-0-146" name="__codelineno-0-146"></a><span style="color: #546E7A; font-style: italic">    Args:</span>
</span><span id="__span-0-147"><a id="__codelineno-0-147" name="__codelineno-0-147"></a><span style="color: #546E7A; font-style: italic">        document_type: Type of document (e.g., &quot;ccd&quot;, &quot;discharge&quot;) to get config for</span>
</span><span id="__span-0-148"><a id="__codelineno-0-148" name="__codelineno-0-148"></a>
</span><span id="__span-0-149"><a id="__codelineno-0-149" name="__codelineno-0-149"></a><span style="color: #546E7A; font-style: italic">    Returns:</span>
</span><span id="__span-0-150"><a id="__codelineno-0-150" name="__codelineno-0-150"></a><span style="color: #546E7A; font-style: italic">        Dict containing the document configuration</span>
</span><span id="__span-0-151"><a id="__codelineno-0-151" name="__codelineno-0-151"></a>
</span><span id="__span-0-152"><a id="__codelineno-0-152" name="__codelineno-0-152"></a><span style="color: #546E7A; font-style: italic">    Raises:</span>
</span><span id="__span-0-153"><a id="__codelineno-0-153" name="__codelineno-0-153"></a><span style="color: #546E7A; font-style: italic">        ValueError: If document_type is not found or the configuration is invalid</span>
</span><span id="__span-0-154"><a id="__codelineno-0-154" name="__codelineno-0-154"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-155"><a id="__codelineno-0-155" name="__codelineno-0-155"></a>    <span style="color: #EFF">document_config</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_find_config_section</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-156"><a id="__codelineno-0-156" name="__codelineno-0-156"></a>        <span style="color: #EFF">module_name</span><span style="color: #89DDFF">=</span><span style="color: #C3E88D">&quot;interop&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">section_path</span><span style="color: #89DDFF">=</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;cda/document/</span><span style="color: #89DDFF">{</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-157"><a id="__codelineno-0-157" name="__codelineno-0-157"></a>    <span style="color: #89DDFF">)</span>
</span><span id="__span-0-158"><a id="__codelineno-0-158" name="__codelineno-0-158"></a>
</span><span id="__span-0-159"><a id="__codelineno-0-159" name="__codelineno-0-159"></a>    <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">document_config</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-160"><a id="__codelineno-0-160" name="__codelineno-0-160"></a>        <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-161"><a id="__codelineno-0-161" name="__codelineno-0-161"></a>            <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Document configuration not found for type: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-162"><a id="__codelineno-0-162" name="__codelineno-0-162"></a>        <span style="color: #89DDFF">)</span>
</span><span id="__span-0-163"><a id="__codelineno-0-163" name="__codelineno-0-163"></a>
</span><span id="__span-0-164"><a id="__codelineno-0-164" name="__codelineno-0-164"></a>    <span style="color: #546E7A; font-style: italic"># Basic validation that required sections exist</span>
</span><span id="__span-0-165"><a id="__codelineno-0-165" name="__codelineno-0-165"></a>    <span style="color: #BB80B3">if</span> <span style="color: #C3E88D">&quot;templates&quot;</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">document_config</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-166"><a id="__codelineno-0-166" name="__codelineno-0-166"></a>        <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-167"><a id="__codelineno-0-167" name="__codelineno-0-167"></a>            <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Invalid document configuration for </span><span style="color: #89DDFF">{</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">: missing &#39;templates&#39; section&quot;</span>
</span><span id="__span-0-168"><a id="__codelineno-0-168" name="__codelineno-0-168"></a>        <span style="color: #89DDFF">)</span>
</span><span id="__span-0-169"><a id="__codelineno-0-169" name="__codelineno-0-169"></a>
</span><span id="__span-0-170"><a id="__codelineno-0-170" name="__codelineno-0-170"></a>    <span style="color: #546E7A; font-style: italic"># Return the validated config</span>
</span><span id="__span-0-171"><a id="__codelineno-0-171" name="__codelineno-0-171"></a>    <span style="color: #BB80B3">return</span> <span style="color: #EFF">document_config</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.config_manager.InteropConfigManager.get_cda_section_configs" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">get_cda_section_configs</span><span style="color: #89DDFF">(</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">=None)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get CDA section configuration(s).</p>
<p>Retrieves section configurations from the loaded configs. When section_key is provided,
retrieves configuration for a specific section; otherwise, returns all section configurations.
Section configurations define how different CDA sections should be processed and mapped to
FHIR resources.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>section_key</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Optional section identifier (e.g., "problems", "medications").
         If provided, returns only that specific section's configuration.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>Dict</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Dictionary mapping section keys to their configurations if section_key is None.
  Single section configuration dict if section_key is provided.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Dict">Dict</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="ValueError">ValueError</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If section_key is provided but not found in configurations
       or if no sections are configured</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/config_manager.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-96"> 96</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-97"> 97</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-98"> 98</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-99"> 99</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-100">100</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-101">101</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-102">102</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-103">103</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-104">104</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-105">105</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-106">106</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-107">107</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-108">108</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-109">109</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-110">110</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-111">111</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-112">112</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-113">113</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-114">114</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-115">115</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-116">116</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-117">117</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-118">118</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-119">119</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-120">120</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-121">121</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-122">122</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-123">123</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-124">124</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-125">125</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-126">126</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-127">127</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-128">128</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-129">129</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-130">130</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-131">131</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-132">132</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-133">133</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-134">134</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-135">135</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-136">136</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-137">137</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-138">138</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-96"><a id="__codelineno-0-96" name="__codelineno-0-96"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">get_cda_section_configs</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">section_key</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">Dict</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-97"><a id="__codelineno-0-97" name="__codelineno-0-97"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Get CDA section configuration(s).</span>
</span><span id="__span-0-98"><a id="__codelineno-0-98" name="__codelineno-0-98"></a>
</span><span id="__span-0-99"><a id="__codelineno-0-99" name="__codelineno-0-99"></a><span style="color: #546E7A; font-style: italic">    Retrieves section configurations from the loaded configs. When section_key is provided,</span>
</span><span id="__span-0-100"><a id="__codelineno-0-100" name="__codelineno-0-100"></a><span style="color: #546E7A; font-style: italic">    retrieves configuration for a specific section; otherwise, returns all section configurations.</span>
</span><span id="__span-0-101"><a id="__codelineno-0-101" name="__codelineno-0-101"></a><span style="color: #546E7A; font-style: italic">    Section configurations define how different CDA sections should be processed and mapped to</span>
</span><span id="__span-0-102"><a id="__codelineno-0-102" name="__codelineno-0-102"></a><span style="color: #546E7A; font-style: italic">    FHIR resources.</span>
</span><span id="__span-0-103"><a id="__codelineno-0-103" name="__codelineno-0-103"></a>
</span><span id="__span-0-104"><a id="__codelineno-0-104" name="__codelineno-0-104"></a><span style="color: #546E7A; font-style: italic">    Args:</span>
</span><span id="__span-0-105"><a id="__codelineno-0-105" name="__codelineno-0-105"></a><span style="color: #546E7A; font-style: italic">        section_key: Optional section identifier (e.g., &quot;problems&quot;, &quot;medications&quot;).</span>
</span><span id="__span-0-106"><a id="__codelineno-0-106" name="__codelineno-0-106"></a><span style="color: #546E7A; font-style: italic">                     If provided, returns only that specific section&#39;s configuration.</span>
</span><span id="__span-0-107"><a id="__codelineno-0-107" name="__codelineno-0-107"></a>
</span><span id="__span-0-108"><a id="__codelineno-0-108" name="__codelineno-0-108"></a><span style="color: #546E7A; font-style: italic">    Returns:</span>
</span><span id="__span-0-109"><a id="__codelineno-0-109" name="__codelineno-0-109"></a><span style="color: #546E7A; font-style: italic">        Dict: Dictionary mapping section keys to their configurations if section_key is None.</span>
</span><span id="__span-0-110"><a id="__codelineno-0-110" name="__codelineno-0-110"></a><span style="color: #546E7A; font-style: italic">              Single section configuration dict if section_key is provided.</span>
</span><span id="__span-0-111"><a id="__codelineno-0-111" name="__codelineno-0-111"></a>
</span><span id="__span-0-112"><a id="__codelineno-0-112" name="__codelineno-0-112"></a><span style="color: #546E7A; font-style: italic">    Raises:</span>
</span><span id="__span-0-113"><a id="__codelineno-0-113" name="__codelineno-0-113"></a><span style="color: #546E7A; font-style: italic">        ValueError: If section_key is provided but not found in configurations</span>
</span><span id="__span-0-114"><a id="__codelineno-0-114" name="__codelineno-0-114"></a><span style="color: #546E7A; font-style: italic">                   or if no sections are configured</span>
</span><span id="__span-0-115"><a id="__codelineno-0-115" name="__codelineno-0-115"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-116"><a id="__codelineno-0-116" name="__codelineno-0-116"></a>    <span style="color: #546E7A; font-style: italic"># Get all sections</span>
</span><span id="__span-0-117"><a id="__codelineno-0-117" name="__codelineno-0-117"></a>    <span style="color: #EFF">sections</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_find_config_section</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-118"><a id="__codelineno-0-118" name="__codelineno-0-118"></a>        <span style="color: #EFF">module_name</span><span style="color: #89DDFF">=</span><span style="color: #C3E88D">&quot;interop&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">section_path</span><span style="color: #89DDFF">=</span><span style="color: #C3E88D">&quot;cda/sections&quot;</span>
</span><span id="__span-0-119"><a id="__codelineno-0-119" name="__codelineno-0-119"></a>    <span style="color: #89DDFF">)</span>
</span><span id="__span-0-120"><a id="__codelineno-0-120" name="__codelineno-0-120"></a>
</span><span id="__span-0-121"><a id="__codelineno-0-121" name="__codelineno-0-121"></a>    <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">sections</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-122"><a id="__codelineno-0-122" name="__codelineno-0-122"></a>        <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;No CDA section configurations found&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-123"><a id="__codelineno-0-123" name="__codelineno-0-123"></a>
</span><span id="__span-0-124"><a id="__codelineno-0-124" name="__codelineno-0-124"></a>    <span style="color: #546E7A; font-style: italic"># If section_key is provided, return just that section</span>
</span><span id="__span-0-125"><a id="__codelineno-0-125" name="__codelineno-0-125"></a>    <span style="color: #BB80B3">if</span> <span style="color: #EFF">section_key</span> <span style="color: #89DDFF; font-style: italic">is</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF">None:</span>
</span><span id="__span-0-126"><a id="__codelineno-0-126" name="__codelineno-0-126"></a>        <span style="color: #BB80B3">if</span> <span style="color: #EFF">section_key</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">sections</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-127"><a id="__codelineno-0-127" name="__codelineno-0-127"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Section configuration not found: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-128"><a id="__codelineno-0-128" name="__codelineno-0-128"></a>
</span><span id="__span-0-129"><a id="__codelineno-0-129" name="__codelineno-0-129"></a>        <span style="color: #546E7A; font-style: italic"># Basic validation that required fields exist</span>
</span><span id="__span-0-130"><a id="__codelineno-0-130" name="__codelineno-0-130"></a>        <span style="color: #EFF">section_config</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">sections</span><span style="color: #89DDFF">[</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-131"><a id="__codelineno-0-131" name="__codelineno-0-131"></a>        <span style="color: #BB80B3">if</span> <span style="color: #C3E88D">&quot;resource&quot;</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">section_config</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-132"><a id="__codelineno-0-132" name="__codelineno-0-132"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-133"><a id="__codelineno-0-133" name="__codelineno-0-133"></a>                <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Invalid section configuration for </span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">: missing &#39;resource&#39; field&quot;</span>
</span><span id="__span-0-134"><a id="__codelineno-0-134" name="__codelineno-0-134"></a>            <span style="color: #89DDFF">)</span>
</span><span id="__span-0-135"><a id="__codelineno-0-135" name="__codelineno-0-135"></a>
</span><span id="__span-0-136"><a id="__codelineno-0-136" name="__codelineno-0-136"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">section_config</span>
</span><span id="__span-0-137"><a id="__codelineno-0-137" name="__codelineno-0-137"></a>
</span><span id="__span-0-138"><a id="__codelineno-0-138" name="__codelineno-0-138"></a>    <span style="color: #BB80B3">return</span> <span style="color: #EFF">sections</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.config_manager.InteropConfigManager.register_cda_document_config" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">register_cda_document_config</span><span style="color: #89DDFF">(</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">config_model</span><span style="color: #89DDFF">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Register a validation model for a CDA document configuration.</p>
<p>Registers a Pydantic model that will be used to validate configuration for a CDA document
type. The model defines the required and optional fields that should be present in the
document configuration.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>document_type</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Document type identifier (e.g., "ccd", "discharge")</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>config_model</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Pydantic model class that defines the validation schema for the document config</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Type">Type</span>[<span title="pydantic.BaseModel">BaseModel</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/config_manager.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-252">252</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-253">253</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-254">254</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-255">255</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-256">256</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-257">257</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-258">258</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-259">259</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-260">260</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-261">261</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-262">262</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-263">263</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-264">264</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-265">265</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-252"><a id="__codelineno-0-252" name="__codelineno-0-252"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">register_cda_document_config</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-253"><a id="__codelineno-0-253" name="__codelineno-0-253"></a>    <span style="color: #89DDFF">self,</span> <span style="color: #EFF">document_type</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">config_model</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Type</span><span style="color: #89DDFF">[</span><span style="color: #EFF">BaseModel</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-254"><a id="__codelineno-0-254" name="__codelineno-0-254"></a><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #89DDFF">None:</span>
</span><span id="__span-0-255"><a id="__codelineno-0-255" name="__codelineno-0-255"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Register a validation model for a CDA document configuration.</span>
</span><span id="__span-0-256"><a id="__codelineno-0-256" name="__codelineno-0-256"></a>
</span><span id="__span-0-257"><a id="__codelineno-0-257" name="__codelineno-0-257"></a><span style="color: #546E7A; font-style: italic">    Registers a Pydantic model that will be used to validate configuration for a CDA document</span>
</span><span id="__span-0-258"><a id="__codelineno-0-258" name="__codelineno-0-258"></a><span style="color: #546E7A; font-style: italic">    type. The model defines the required and optional fields that should be present in the</span>
</span><span id="__span-0-259"><a id="__codelineno-0-259" name="__codelineno-0-259"></a><span style="color: #546E7A; font-style: italic">    document configuration.</span>
</span><span id="__span-0-260"><a id="__codelineno-0-260" name="__codelineno-0-260"></a>
</span><span id="__span-0-261"><a id="__codelineno-0-261" name="__codelineno-0-261"></a><span style="color: #546E7A; font-style: italic">    Args:</span>
</span><span id="__span-0-262"><a id="__codelineno-0-262" name="__codelineno-0-262"></a><span style="color: #546E7A; font-style: italic">        document_type: Document type identifier (e.g., &quot;ccd&quot;, &quot;discharge&quot;)</span>
</span><span id="__span-0-263"><a id="__codelineno-0-263" name="__codelineno-0-263"></a><span style="color: #546E7A; font-style: italic">        config_model: Pydantic model class that defines the validation schema for the document config</span>
</span><span id="__span-0-264"><a id="__codelineno-0-264" name="__codelineno-0-264"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-265"><a id="__codelineno-0-265" name="__codelineno-0-265"></a>    <span style="color: #EFF">register_cda_document_template_config_model</span><span style="color: #89DDFF">(</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">config_model</span><span style="color: #89DDFF">)</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.config_manager.InteropConfigManager.register_cda_section_config" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">register_cda_section_config</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resource_type</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">config_model</span><span style="color: #89DDFF">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Register a validation model for a CDA section configuration.</p>
<p>Registers a Pydantic model that will be used to validate configuration for a CDA section
that maps to a specific FHIR resource type. The model defines the required and optional
fields that should be present in the section configuration.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>resource_type</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>FHIR resource type that the section maps to (e.g. "Condition")</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>config_model</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Pydantic model class that defines the validation schema for the section config</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Type">Type</span>[<span title="pydantic.BaseModel">BaseModel</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/config_manager.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-237">237</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-238">238</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-239">239</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-240">240</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-241">241</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-242">242</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-243">243</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-244">244</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-245">245</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-246">246</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-247">247</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-248">248</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-249">249</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-250">250</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-237"><a id="__codelineno-0-237" name="__codelineno-0-237"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">register_cda_section_config</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-238"><a id="__codelineno-0-238" name="__codelineno-0-238"></a>    <span style="color: #89DDFF">self,</span> <span style="color: #EFF">resource_type</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">config_model</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Type</span><span style="color: #89DDFF">[</span><span style="color: #EFF">BaseModel</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-239"><a id="__codelineno-0-239" name="__codelineno-0-239"></a><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #89DDFF">None:</span>
</span><span id="__span-0-240"><a id="__codelineno-0-240" name="__codelineno-0-240"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Register a validation model for a CDA section configuration.</span>
</span><span id="__span-0-241"><a id="__codelineno-0-241" name="__codelineno-0-241"></a>
</span><span id="__span-0-242"><a id="__codelineno-0-242" name="__codelineno-0-242"></a><span style="color: #546E7A; font-style: italic">    Registers a Pydantic model that will be used to validate configuration for a CDA section</span>
</span><span id="__span-0-243"><a id="__codelineno-0-243" name="__codelineno-0-243"></a><span style="color: #546E7A; font-style: italic">    that maps to a specific FHIR resource type. The model defines the required and optional</span>
</span><span id="__span-0-244"><a id="__codelineno-0-244" name="__codelineno-0-244"></a><span style="color: #546E7A; font-style: italic">    fields that should be present in the section configuration.</span>
</span><span id="__span-0-245"><a id="__codelineno-0-245" name="__codelineno-0-245"></a>
</span><span id="__span-0-246"><a id="__codelineno-0-246" name="__codelineno-0-246"></a><span style="color: #546E7A; font-style: italic">    Args:</span>
</span><span id="__span-0-247"><a id="__codelineno-0-247" name="__codelineno-0-247"></a><span style="color: #546E7A; font-style: italic">        resource_type: FHIR resource type that the section maps to (e.g. &quot;Condition&quot;)</span>
</span><span id="__span-0-248"><a id="__codelineno-0-248" name="__codelineno-0-248"></a><span style="color: #546E7A; font-style: italic">        config_model: Pydantic model class that defines the validation schema for the section config</span>
</span><span id="__span-0-249"><a id="__codelineno-0-249" name="__codelineno-0-249"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-250"><a id="__codelineno-0-250" name="__codelineno-0-250"></a>    <span style="color: #EFF">register_cda_section_template_config_model</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resource_type</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">config_model</span><span style="color: #89DDFF">)</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.config_manager.InteropConfigManager.validate" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">validate</span><span style="color: #89DDFF">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Validate that all required configurations are present for the interop module.</p>
<p>Validates both section and document configurations according to their registered
validation models. Section configs are required and will cause validation to fail
if missing or invalid. Document configs are optional but will be validated if present.</p>
<p>The validation behavior depends on the validation_level setting:
- IGNORE: Always returns True without validating
- WARN: Logs warnings for validation failures but returns True
- ERROR: Returns False if any validation fails</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>bool</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>True if validation passes or is ignored, False if validation fails
 when validation_level is ERROR</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/config_manager.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-173">173</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-174">174</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-175">175</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-176">176</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-177">177</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-178">178</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-179">179</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-180">180</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-181">181</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-182">182</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-183">183</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-184">184</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-185">185</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-186">186</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-187">187</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-188">188</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-189">189</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-190">190</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-191">191</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-192">192</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-193">193</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-194">194</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-195">195</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-196">196</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-197">197</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-198">198</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-199">199</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-200">200</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-201">201</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-202">202</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-203">203</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-204">204</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-205">205</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-206">206</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-207">207</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-208">208</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-209">209</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-210">210</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-211">211</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-212">212</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-213">213</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-214">214</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-215">215</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-216">216</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-217">217</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-218">218</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-219">219</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-220">220</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-221">221</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-222">222</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-223">223</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-224">224</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-225">225</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-226">226</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-227">227</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-228">228</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-229">229</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-230">230</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-231">231</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-232">232</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-233">233</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-234">234</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-235">235</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-173"><a id="__codelineno-0-173" name="__codelineno-0-173"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">validate</span><span style="color: #89DDFF">(self)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #82AAFF">bool</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-174"><a id="__codelineno-0-174" name="__codelineno-0-174"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Validate that all required configurations are present for the interop module.</span>
</span><span id="__span-0-175"><a id="__codelineno-0-175" name="__codelineno-0-175"></a>
</span><span id="__span-0-176"><a id="__codelineno-0-176" name="__codelineno-0-176"></a><span style="color: #546E7A; font-style: italic">    Validates both section and document configurations according to their registered</span>
</span><span id="__span-0-177"><a id="__codelineno-0-177" name="__codelineno-0-177"></a><span style="color: #546E7A; font-style: italic">    validation models. Section configs are required and will cause validation to fail</span>
</span><span id="__span-0-178"><a id="__codelineno-0-178" name="__codelineno-0-178"></a><span style="color: #546E7A; font-style: italic">    if missing or invalid. Document configs are optional but will be validated if present.</span>
</span><span id="__span-0-179"><a id="__codelineno-0-179" name="__codelineno-0-179"></a>
</span><span id="__span-0-180"><a id="__codelineno-0-180" name="__codelineno-0-180"></a><span style="color: #546E7A; font-style: italic">    The validation behavior depends on the validation_level setting:</span>
</span><span id="__span-0-181"><a id="__codelineno-0-181" name="__codelineno-0-181"></a><span style="color: #546E7A; font-style: italic">    - IGNORE: Always returns True without validating</span>
</span><span id="__span-0-182"><a id="__codelineno-0-182" name="__codelineno-0-182"></a><span style="color: #546E7A; font-style: italic">    - WARN: Logs warnings for validation failures but returns True</span>
</span><span id="__span-0-183"><a id="__codelineno-0-183" name="__codelineno-0-183"></a><span style="color: #546E7A; font-style: italic">    - ERROR: Returns False if any validation fails</span>
</span><span id="__span-0-184"><a id="__codelineno-0-184" name="__codelineno-0-184"></a>
</span><span id="__span-0-185"><a id="__codelineno-0-185" name="__codelineno-0-185"></a><span style="color: #546E7A; font-style: italic">    Returns:</span>
</span><span id="__span-0-186"><a id="__codelineno-0-186" name="__codelineno-0-186"></a><span style="color: #546E7A; font-style: italic">        bool: True if validation passes or is ignored, False if validation fails</span>
</span><span id="__span-0-187"><a id="__codelineno-0-187" name="__codelineno-0-187"></a><span style="color: #546E7A; font-style: italic">             when validation_level is ERROR</span>
</span><span id="__span-0-188"><a id="__codelineno-0-188" name="__codelineno-0-188"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-189"><a id="__codelineno-0-189" name="__codelineno-0-189"></a>    <span style="color: #BB80B3">if</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_validation_level</span> <span style="color: #89DDFF">==</span> <span style="color: #EFF">ValidationLevel</span><span style="color: #89DDFF">.</span><span style="color: #EFF">IGNORE</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-190"><a id="__codelineno-0-190" name="__codelineno-0-190"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">True</span>
</span><span id="__span-0-191"><a id="__codelineno-0-191" name="__codelineno-0-191"></a>
</span><span id="__span-0-192"><a id="__codelineno-0-192" name="__codelineno-0-192"></a>    <span style="color: #EFF">is_valid</span> <span style="color: #89DDFF">=</span> <span style="color: #82AAFF">super</span><span style="color: #89DDFF">().</span><span style="color: #EFF">validate</span><span style="color: #89DDFF">()</span>
</span><span id="__span-0-193"><a id="__codelineno-0-193" name="__codelineno-0-193"></a>
</span><span id="__span-0-194"><a id="__codelineno-0-194" name="__codelineno-0-194"></a>    <span style="color: #546E7A; font-style: italic"># Validate section configs</span>
</span><span id="__span-0-195"><a id="__codelineno-0-195" name="__codelineno-0-195"></a>    <span style="color: #BB80B3">try</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-196"><a id="__codelineno-0-196" name="__codelineno-0-196"></a>        <span style="color: #EFF">section_configs</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_find_config_section</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-197"><a id="__codelineno-0-197" name="__codelineno-0-197"></a>            <span style="color: #EFF">module_name</span><span style="color: #89DDFF">=</span><span style="color: #C3E88D">&quot;interop&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">section_path</span><span style="color: #89DDFF">=</span><span style="color: #C3E88D">&quot;cda/sections&quot;</span>
</span><span id="__span-0-198"><a id="__codelineno-0-198" name="__codelineno-0-198"></a>        <span style="color: #89DDFF">)</span>
</span><span id="__span-0-199"><a id="__codelineno-0-199" name="__codelineno-0-199"></a>        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">section_configs</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-200"><a id="__codelineno-0-200" name="__codelineno-0-200"></a>            <span style="color: #EFF">is_valid</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_handle_validation_error</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;No section configs found&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-201"><a id="__codelineno-0-201" name="__codelineno-0-201"></a>        <span style="color: #BB80B3">else</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-202"><a id="__codelineno-0-202" name="__codelineno-0-202"></a>            <span style="color: #546E7A; font-style: italic"># Validate each section config</span>
</span><span id="__span-0-203"><a id="__codelineno-0-203" name="__codelineno-0-203"></a>            <span style="color: #BB80B3">for</span> <span style="color: #EFF">section_key</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">section_config</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">section_configs</span><span style="color: #89DDFF">.</span><span style="color: #EFF">items</span><span style="color: #89DDFF">():</span>
</span><span id="__span-0-204"><a id="__codelineno-0-204" name="__codelineno-0-204"></a>                <span style="color: #EFF">result</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">validate_cda_section_config_model</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-205"><a id="__codelineno-0-205" name="__codelineno-0-205"></a>                    <span style="color: #EFF">section_key</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">section_config</span>
</span><span id="__span-0-206"><a id="__codelineno-0-206" name="__codelineno-0-206"></a>                <span style="color: #89DDFF">)</span>
</span><span id="__span-0-207"><a id="__codelineno-0-207" name="__codelineno-0-207"></a>                <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">result</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-208"><a id="__codelineno-0-208" name="__codelineno-0-208"></a>                    <span style="color: #EFF">is_valid</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_handle_validation_error</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-209"><a id="__codelineno-0-209" name="__codelineno-0-209"></a>                        <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Section config validation failed for key: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-210"><a id="__codelineno-0-210" name="__codelineno-0-210"></a>                    <span style="color: #89DDFF">)</span>
</span><span id="__span-0-211"><a id="__codelineno-0-211" name="__codelineno-0-211"></a>    <span style="color: #BB80B3">except</span> <span style="color: #FFCB6B">Exception</span> <span style="color: #BB80B3">as</span> <span style="color: #EFF">e</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-212"><a id="__codelineno-0-212" name="__codelineno-0-212"></a>        <span style="color: #EFF">is_valid</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_handle_validation_error</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-213"><a id="__codelineno-0-213" name="__codelineno-0-213"></a>            <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Error validating section configs: </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">e</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-214"><a id="__codelineno-0-214" name="__codelineno-0-214"></a>        <span style="color: #89DDFF">)</span>
</span><span id="__span-0-215"><a id="__codelineno-0-215" name="__codelineno-0-215"></a>
</span><span id="__span-0-216"><a id="__codelineno-0-216" name="__codelineno-0-216"></a>    <span style="color: #546E7A; font-style: italic"># Validate document configs - but don&#39;t fail if no documents are configured</span>
</span><span id="__span-0-217"><a id="__codelineno-0-217" name="__codelineno-0-217"></a>    <span style="color: #546E7A; font-style: italic"># since some use cases might not require documents</span>
</span><span id="__span-0-218"><a id="__codelineno-0-218" name="__codelineno-0-218"></a>    <span style="color: #EFF">document_types</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_find_cda_document_types</span><span style="color: #89DDFF">()</span>
</span><span id="__span-0-219"><a id="__codelineno-0-219" name="__codelineno-0-219"></a>    <span style="color: #BB80B3">for</span> <span style="color: #EFF">doc_type</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">document_types</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-220"><a id="__codelineno-0-220" name="__codelineno-0-220"></a>        <span style="color: #BB80B3">try</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-221"><a id="__codelineno-0-221" name="__codelineno-0-221"></a>            <span style="color: #EFF">doc_config</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_find_config_section</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-222"><a id="__codelineno-0-222" name="__codelineno-0-222"></a>                <span style="color: #EFF">module_name</span><span style="color: #89DDFF">=</span><span style="color: #C3E88D">&quot;interop&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">section_path</span><span style="color: #89DDFF">=</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;cda/document/</span><span style="color: #89DDFF">{</span><span style="color: #EFF">doc_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-223"><a id="__codelineno-0-223" name="__codelineno-0-223"></a>            <span style="color: #89DDFF">)</span>
</span><span id="__span-0-224"><a id="__codelineno-0-224" name="__codelineno-0-224"></a>            <span style="color: #BB80B3">if</span> <span style="color: #EFF">doc_config</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-225"><a id="__codelineno-0-225" name="__codelineno-0-225"></a>                <span style="color: #EFF">result</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">validate_cda_document_config_model</span><span style="color: #89DDFF">(</span><span style="color: #EFF">doc_type</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">doc_config</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-226"><a id="__codelineno-0-226" name="__codelineno-0-226"></a>                <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">result</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-227"><a id="__codelineno-0-227" name="__codelineno-0-227"></a>                    <span style="color: #EFF">is_valid</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_handle_validation_error</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-228"><a id="__codelineno-0-228" name="__codelineno-0-228"></a>                        <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Document config validation failed for type: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">doc_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-229"><a id="__codelineno-0-229" name="__codelineno-0-229"></a>                    <span style="color: #89DDFF">)</span>
</span><span id="__span-0-230"><a id="__codelineno-0-230" name="__codelineno-0-230"></a>        <span style="color: #BB80B3">except</span> <span style="color: #FFCB6B">Exception</span> <span style="color: #BB80B3">as</span> <span style="color: #EFF">e</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-231"><a id="__codelineno-0-231" name="__codelineno-0-231"></a>            <span style="color: #EFF">is_valid</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_handle_validation_error</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-232"><a id="__codelineno-0-232" name="__codelineno-0-232"></a>                <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Error validating document config for </span><span style="color: #89DDFF">{</span><span style="color: #EFF">doc_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">: </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">e</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-233"><a id="__codelineno-0-233" name="__codelineno-0-233"></a>            <span style="color: #89DDFF">)</span>
</span><span id="__span-0-234"><a id="__codelineno-0-234" name="__codelineno-0-234"></a>
</span><span id="__span-0-235"><a id="__codelineno-0-235" name="__codelineno-0-235"></a>    <span style="color: #BB80B3">return</span> <span style="color: #EFF">is_valid</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="healthchain.interop.template_registry"></a>
    <div class="doc doc-contents first">










<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="healthchain.interop.template_registry.TemplateRegistry" class="doc doc-heading">
            <code>TemplateRegistry</code>


</h2>


    <div class="doc doc-contents ">



        <p>Manages loading and accessing Liquid templates for the InteropEngine.</p>
<p>The TemplateRegistry handles loading Liquid template files from a directory and making them
available for rendering. It supports custom filter functions that can be used within templates.</p>
<p>Key features:
- Loads .liquid template files recursively from a directory
- Supports adding custom filter functions
- Provides template lookup by name
- Validates template existence</p>


<details class="example" open>
  <summary>Example</summary>
  <p>registry = TemplateRegistry(Path("templates"))
registry.initialize({
    "uppercase": str.upper,
    "lowercase": str.lower
})
template = registry.get_template("cda_fhir/condition")</p>
</details>







              <details class="mkdocstrings-source">
                <summary>Source code in <code>healthchain/interop/template_registry.py</code></summary>
                <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-10"> 10</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-11"> 11</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-12"> 12</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-13"> 13</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-14"> 14</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-15"> 15</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-16"> 16</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-17"> 17</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-18"> 18</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-19"> 19</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-20"> 20</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-21"> 21</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-22"> 22</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-23"> 23</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-24"> 24</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-25"> 25</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-26"> 26</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-27"> 27</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-28"> 28</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-29"> 29</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-30"> 30</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-31"> 31</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-32"> 32</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-33"> 33</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-34"> 34</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-35"> 35</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-36"> 36</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-37"> 37</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-38"> 38</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-39"> 39</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-40"> 40</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-41"> 41</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-42"> 42</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-43"> 43</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-44"> 44</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-45"> 45</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-46"> 46</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-47"> 47</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-48"> 48</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-49"> 49</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-50"> 50</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-51"> 51</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-52"> 52</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-53"> 53</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-54"> 54</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-55"> 55</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-56"> 56</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-57"> 57</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-58"> 58</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-59"> 59</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-60"> 60</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-61"> 61</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-62"> 62</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-63"> 63</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-64"> 64</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-65"> 65</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-66"> 66</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-67"> 67</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-68"> 68</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-69"> 69</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-70"> 70</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-71"> 71</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-72"> 72</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-73"> 73</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-74"> 74</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-75"> 75</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-76"> 76</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-77"> 77</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-78"> 78</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-79"> 79</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-80"> 80</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-81"> 81</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-82"> 82</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-83"> 83</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-84"> 84</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-85"> 85</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-86"> 86</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-87"> 87</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-88"> 88</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-89"> 89</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-90"> 90</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-91"> 91</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-92"> 92</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-93"> 93</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-94"> 94</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-95"> 95</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-96"> 96</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-97"> 97</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-98"> 98</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-99"> 99</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-100">100</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-101">101</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-102">102</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-103">103</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-104">104</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-105">105</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-106">106</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-107">107</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-108">108</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-109">109</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-110">110</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-111">111</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-112">112</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-113">113</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-114">114</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-115">115</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-116">116</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-117">117</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-118">118</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-119">119</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-120">120</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-121">121</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-122">122</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-123">123</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-124">124</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-125">125</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-126">126</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-127">127</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-128">128</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-129">129</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-130">130</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-131">131</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-132">132</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-133">133</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-134">134</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-135">135</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-136">136</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-137">137</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-138">138</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-139">139</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-140">140</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-141">141</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-142">142</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-143">143</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-144">144</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-145">145</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-146">146</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-147">147</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-148">148</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-149">149</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-150">150</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-151">151</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-152">152</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-153">153</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-154">154</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-155">155</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-156">156</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-157">157</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-158">158</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-159">159</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-160">160</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-161">161</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-162">162</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-163">163</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-164">164</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-165">165</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-166">166</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-167">167</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-168">168</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-169">169</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-170">170</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-171">171</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-172">172</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10"></a><span style="color: #BB80B3">class</span><span style="color: #EFF"> </span><span style="color: #FFCB6B">TemplateRegistry</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Manages loading and accessing Liquid templates for the InteropEngine.</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12"></a>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13"></a><span style="color: #546E7A; font-style: italic">    The TemplateRegistry handles loading Liquid template files from a directory and making them</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14"></a><span style="color: #546E7A; font-style: italic">    available for rendering. It supports custom filter functions that can be used within templates.</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15"></a>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16"></a><span style="color: #546E7A; font-style: italic">    Key features:</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17"></a><span style="color: #546E7A; font-style: italic">    - Loads .liquid template files recursively from a directory</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18"></a><span style="color: #546E7A; font-style: italic">    - Supports adding custom filter functions</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19"></a><span style="color: #546E7A; font-style: italic">    - Provides template lookup by name</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20"></a><span style="color: #546E7A; font-style: italic">    - Validates template existence</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21"></a>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22"></a><span style="color: #546E7A; font-style: italic">    Example:</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23"></a><span style="color: #546E7A; font-style: italic">        registry = TemplateRegistry(Path(&quot;templates&quot;))</span>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24"></a><span style="color: #546E7A; font-style: italic">        registry.initialize({</span>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25"></a><span style="color: #546E7A; font-style: italic">            &quot;uppercase&quot;: str.upper,</span>
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26"></a><span style="color: #546E7A; font-style: italic">            &quot;lowercase&quot;: str.lower</span>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27"></a><span style="color: #546E7A; font-style: italic">        })</span>
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28"></a><span style="color: #546E7A; font-style: italic">        template = registry.get_template(&quot;cda_fhir/condition&quot;)</span>
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30"></a>
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">__init__</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">template_dir</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Path</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Initialize the TemplateRegistry</span>
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33"></a>
</span><span id="__span-0-34"><a id="__codelineno-0-34" name="__codelineno-0-34"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-35"><a id="__codelineno-0-35" name="__codelineno-0-35"></a><span style="color: #546E7A; font-style: italic">            template_dir: Directory containing template files</span>
</span><span id="__span-0-36"><a id="__codelineno-0-36" name="__codelineno-0-36"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-37"><a id="__codelineno-0-37" name="__codelineno-0-37"></a>        <span style="color: #89DDFF">self.</span><span style="color: #EFF">template_dir</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">template_dir</span>
</span><span id="__span-0-38"><a id="__codelineno-0-38" name="__codelineno-0-38"></a>        <span style="color: #89DDFF">self.</span><span style="color: #EFF">_templates</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">{}</span>
</span><span id="__span-0-39"><a id="__codelineno-0-39" name="__codelineno-0-39"></a>        <span style="color: #89DDFF">self.</span><span style="color: #EFF">_env</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-40"><a id="__codelineno-0-40" name="__codelineno-0-40"></a>        <span style="color: #89DDFF">self.</span><span style="color: #EFF">_filters</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">{}</span>
</span><span id="__span-0-41"><a id="__codelineno-0-41" name="__codelineno-0-41"></a>
</span><span id="__span-0-42"><a id="__codelineno-0-42" name="__codelineno-0-42"></a>        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">template_dir</span><span style="color: #89DDFF">.</span><span style="color: #EFF">exists</span><span style="color: #89DDFF">():</span>
</span><span id="__span-0-43"><a id="__codelineno-0-43" name="__codelineno-0-43"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Template directory not found: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">template_dir</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-44"><a id="__codelineno-0-44" name="__codelineno-0-44"></a>
</span><span id="__span-0-45"><a id="__codelineno-0-45" name="__codelineno-0-45"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">initialize</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">filters</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Dict</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">Callable</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #C3E88D">&quot;TemplateRegistry&quot;</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-46"><a id="__codelineno-0-46" name="__codelineno-0-46"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Initialize the Liquid environment and load templates.</span>
</span><span id="__span-0-47"><a id="__codelineno-0-47" name="__codelineno-0-47"></a>
</span><span id="__span-0-48"><a id="__codelineno-0-48" name="__codelineno-0-48"></a><span style="color: #546E7A; font-style: italic">        This method sets up the Liquid template environment by:</span>
</span><span id="__span-0-49"><a id="__codelineno-0-49" name="__codelineno-0-49"></a><span style="color: #546E7A; font-style: italic">        1. Storing any provided filter functions</span>
</span><span id="__span-0-50"><a id="__codelineno-0-50" name="__codelineno-0-50"></a><span style="color: #546E7A; font-style: italic">        2. Creating the Liquid environment with the template directory</span>
</span><span id="__span-0-51"><a id="__codelineno-0-51" name="__codelineno-0-51"></a><span style="color: #546E7A; font-style: italic">        3. Loading all template files from the directory</span>
</span><span id="__span-0-52"><a id="__codelineno-0-52" name="__codelineno-0-52"></a>
</span><span id="__span-0-53"><a id="__codelineno-0-53" name="__codelineno-0-53"></a><span style="color: #546E7A; font-style: italic">        The environment must be initialized before templates can be loaded or rendered.</span>
</span><span id="__span-0-54"><a id="__codelineno-0-54" name="__codelineno-0-54"></a>
</span><span id="__span-0-55"><a id="__codelineno-0-55" name="__codelineno-0-55"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-56"><a id="__codelineno-0-56" name="__codelineno-0-56"></a><span style="color: #546E7A; font-style: italic">            filters: Optional dictionary mapping filter names to filter functions that can be used</span>
</span><span id="__span-0-57"><a id="__codelineno-0-57" name="__codelineno-0-57"></a><span style="color: #546E7A; font-style: italic">                    in templates. For example: {&quot;uppercase&quot;: str.upper}</span>
</span><span id="__span-0-58"><a id="__codelineno-0-58" name="__codelineno-0-58"></a>
</span><span id="__span-0-59"><a id="__codelineno-0-59" name="__codelineno-0-59"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-60"><a id="__codelineno-0-60" name="__codelineno-0-60"></a><span style="color: #546E7A; font-style: italic">            TemplateRegistry: Returns self for method chaining</span>
</span><span id="__span-0-61"><a id="__codelineno-0-61" name="__codelineno-0-61"></a>
</span><span id="__span-0-62"><a id="__codelineno-0-62" name="__codelineno-0-62"></a><span style="color: #546E7A; font-style: italic">        Raises:</span>
</span><span id="__span-0-63"><a id="__codelineno-0-63" name="__codelineno-0-63"></a><span style="color: #546E7A; font-style: italic">            ValueError: If template directory does not exist or environment initialization fails</span>
</span><span id="__span-0-64"><a id="__codelineno-0-64" name="__codelineno-0-64"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-65"><a id="__codelineno-0-65" name="__codelineno-0-65"></a>        <span style="color: #546E7A; font-style: italic"># Store initial filters</span>
</span><span id="__span-0-66"><a id="__codelineno-0-66" name="__codelineno-0-66"></a>        <span style="color: #BB80B3">if</span> <span style="color: #EFF">filters</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-67"><a id="__codelineno-0-67" name="__codelineno-0-67"></a>            <span style="color: #89DDFF">self.</span><span style="color: #EFF">_filters</span><span style="color: #89DDFF">.</span><span style="color: #EFF">update</span><span style="color: #89DDFF">(</span><span style="color: #EFF">filters</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-68"><a id="__codelineno-0-68" name="__codelineno-0-68"></a>
</span><span id="__span-0-69"><a id="__codelineno-0-69" name="__codelineno-0-69"></a>        <span style="color: #89DDFF">self.</span><span style="color: #EFF">_create_environment</span><span style="color: #89DDFF">()</span>
</span><span id="__span-0-70"><a id="__codelineno-0-70" name="__codelineno-0-70"></a>        <span style="color: #89DDFF">self.</span><span style="color: #EFF">_load_templates</span><span style="color: #89DDFF">()</span>
</span><span id="__span-0-71"><a id="__codelineno-0-71" name="__codelineno-0-71"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self</span>
</span><span id="__span-0-72"><a id="__codelineno-0-72" name="__codelineno-0-72"></a>
</span><span id="__span-0-73"><a id="__codelineno-0-73" name="__codelineno-0-73"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">_create_environment</span><span style="color: #89DDFF">(self)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #89DDFF">None:</span>
</span><span id="__span-0-74"><a id="__codelineno-0-74" name="__codelineno-0-74"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Create and configure the Liquid environment with registered filters&quot;&quot;&quot;</span>
</span><span id="__span-0-75"><a id="__codelineno-0-75" name="__codelineno-0-75"></a>        <span style="color: #89DDFF">self.</span><span style="color: #EFF">_env</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">Environment</span><span style="color: #89DDFF">(</span><span style="color: #EFF">loader</span><span style="color: #89DDFF">=</span><span style="color: #EFF">FileSystemLoader</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(self.</span><span style="color: #EFF">template_dir</span><span style="color: #89DDFF">)))</span>
</span><span id="__span-0-76"><a id="__codelineno-0-76" name="__codelineno-0-76"></a>
</span><span id="__span-0-77"><a id="__codelineno-0-77" name="__codelineno-0-77"></a>        <span style="color: #546E7A; font-style: italic"># Register all filters</span>
</span><span id="__span-0-78"><a id="__codelineno-0-78" name="__codelineno-0-78"></a>        <span style="color: #BB80B3">for</span> <span style="color: #EFF">name</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">func</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_filters</span><span style="color: #89DDFF">.</span><span style="color: #EFF">items</span><span style="color: #89DDFF">():</span>
</span><span id="__span-0-79"><a id="__codelineno-0-79" name="__codelineno-0-79"></a>            <span style="color: #89DDFF">self.</span><span style="color: #EFF">_env</span><span style="color: #89DDFF">.</span><span style="color: #EFF">filters</span><span style="color: #89DDFF">[</span><span style="color: #EFF">name</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">func</span>
</span><span id="__span-0-80"><a id="__codelineno-0-80" name="__codelineno-0-80"></a>
</span><span id="__span-0-81"><a id="__codelineno-0-81" name="__codelineno-0-81"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">add_filter</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">name</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">filter_func</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Callable</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #C3E88D">&quot;TemplateRegistry&quot;</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-82"><a id="__codelineno-0-82" name="__codelineno-0-82"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Add a custom filter function</span>
</span><span id="__span-0-83"><a id="__codelineno-0-83" name="__codelineno-0-83"></a>
</span><span id="__span-0-84"><a id="__codelineno-0-84" name="__codelineno-0-84"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-85"><a id="__codelineno-0-85" name="__codelineno-0-85"></a><span style="color: #546E7A; font-style: italic">            name: Name of the filter to use in templates</span>
</span><span id="__span-0-86"><a id="__codelineno-0-86" name="__codelineno-0-86"></a><span style="color: #546E7A; font-style: italic">            filter_func: Filter function to register</span>
</span><span id="__span-0-87"><a id="__codelineno-0-87" name="__codelineno-0-87"></a>
</span><span id="__span-0-88"><a id="__codelineno-0-88" name="__codelineno-0-88"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-89"><a id="__codelineno-0-89" name="__codelineno-0-89"></a><span style="color: #546E7A; font-style: italic">            Self for method chaining</span>
</span><span id="__span-0-90"><a id="__codelineno-0-90" name="__codelineno-0-90"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-91"><a id="__codelineno-0-91" name="__codelineno-0-91"></a>        <span style="color: #546E7A; font-style: italic"># Add to internal filter registry</span>
</span><span id="__span-0-92"><a id="__codelineno-0-92" name="__codelineno-0-92"></a>        <span style="color: #89DDFF">self.</span><span style="color: #EFF">_filters</span><span style="color: #89DDFF">[</span><span style="color: #EFF">name</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">filter_func</span>
</span><span id="__span-0-93"><a id="__codelineno-0-93" name="__codelineno-0-93"></a>
</span><span id="__span-0-94"><a id="__codelineno-0-94" name="__codelineno-0-94"></a>        <span style="color: #546E7A; font-style: italic"># If environment is already initialized, register the filter</span>
</span><span id="__span-0-95"><a id="__codelineno-0-95" name="__codelineno-0-95"></a>        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_env</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-96"><a id="__codelineno-0-96" name="__codelineno-0-96"></a>            <span style="color: #89DDFF">self.</span><span style="color: #EFF">_env</span><span style="color: #89DDFF">.</span><span style="color: #EFF">filters</span><span style="color: #89DDFF">[</span><span style="color: #EFF">name</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">filter_func</span>
</span><span id="__span-0-97"><a id="__codelineno-0-97" name="__codelineno-0-97"></a>
</span><span id="__span-0-98"><a id="__codelineno-0-98" name="__codelineno-0-98"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self</span>
</span><span id="__span-0-99"><a id="__codelineno-0-99" name="__codelineno-0-99"></a>
</span><span id="__span-0-100"><a id="__codelineno-0-100" name="__codelineno-0-100"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">add_filters</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">filters</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Dict</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">Callable</span><span style="color: #89DDFF">])</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #C3E88D">&quot;TemplateRegistry&quot;</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-101"><a id="__codelineno-0-101" name="__codelineno-0-101"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Add multiple custom filter functions</span>
</span><span id="__span-0-102"><a id="__codelineno-0-102" name="__codelineno-0-102"></a>
</span><span id="__span-0-103"><a id="__codelineno-0-103" name="__codelineno-0-103"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-104"><a id="__codelineno-0-104" name="__codelineno-0-104"></a><span style="color: #546E7A; font-style: italic">            filters: Dictionary of filter names to filter functions</span>
</span><span id="__span-0-105"><a id="__codelineno-0-105" name="__codelineno-0-105"></a>
</span><span id="__span-0-106"><a id="__codelineno-0-106" name="__codelineno-0-106"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-107"><a id="__codelineno-0-107" name="__codelineno-0-107"></a><span style="color: #546E7A; font-style: italic">            Self for method chaining</span>
</span><span id="__span-0-108"><a id="__codelineno-0-108" name="__codelineno-0-108"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-109"><a id="__codelineno-0-109" name="__codelineno-0-109"></a>        <span style="color: #BB80B3">for</span> <span style="color: #EFF">name</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">func</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">filters</span><span style="color: #89DDFF">.</span><span style="color: #EFF">items</span><span style="color: #89DDFF">():</span>
</span><span id="__span-0-110"><a id="__codelineno-0-110" name="__codelineno-0-110"></a>            <span style="color: #89DDFF">self.</span><span style="color: #EFF">add_filter</span><span style="color: #89DDFF">(</span><span style="color: #EFF">name</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">func</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-111"><a id="__codelineno-0-111" name="__codelineno-0-111"></a>
</span><span id="__span-0-112"><a id="__codelineno-0-112" name="__codelineno-0-112"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self</span>
</span><span id="__span-0-113"><a id="__codelineno-0-113" name="__codelineno-0-113"></a>
</span><span id="__span-0-114"><a id="__codelineno-0-114" name="__codelineno-0-114"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">_load_templates</span><span style="color: #89DDFF">(self)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #89DDFF">None:</span>
</span><span id="__span-0-115"><a id="__codelineno-0-115" name="__codelineno-0-115"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Load all Liquid template files from the template directory.</span>
</span><span id="__span-0-116"><a id="__codelineno-0-116" name="__codelineno-0-116"></a>
</span><span id="__span-0-117"><a id="__codelineno-0-117" name="__codelineno-0-117"></a><span style="color: #546E7A; font-style: italic">        This method recursively walks through the template directory and its subdirectories</span>
</span><span id="__span-0-118"><a id="__codelineno-0-118" name="__codelineno-0-118"></a><span style="color: #546E7A; font-style: italic">        to find all .liquid template files. Each template is loaded into the environment</span>
</span><span id="__span-0-119"><a id="__codelineno-0-119" name="__codelineno-0-119"></a><span style="color: #546E7A; font-style: italic">        and stored in the internal template registry using its full relative path (without extension)</span>
</span><span id="__span-0-120"><a id="__codelineno-0-120" name="__codelineno-0-120"></a><span style="color: #546E7A; font-style: italic">        as the key (e.g., &quot;cda_fhir/document&quot;). This is not required but recommended for clarity.</span>
</span><span id="__span-0-121"><a id="__codelineno-0-121" name="__codelineno-0-121"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-122"><a id="__codelineno-0-122" name="__codelineno-0-122"></a>        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_env</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-123"><a id="__codelineno-0-123" name="__codelineno-0-123"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;Environment not initialized. Call initialize() first.&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-124"><a id="__codelineno-0-124" name="__codelineno-0-124"></a>
</span><span id="__span-0-125"><a id="__codelineno-0-125" name="__codelineno-0-125"></a>        <span style="color: #546E7A; font-style: italic"># Walk through all subdirectories to find template files</span>
</span><span id="__span-0-126"><a id="__codelineno-0-126" name="__codelineno-0-126"></a>        <span style="color: #BB80B3">for</span> <span style="color: #EFF">template_file</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">template_dir</span><span style="color: #89DDFF">.</span><span style="color: #EFF">rglob</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;*.liquid&quot;</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-127"><a id="__codelineno-0-127" name="__codelineno-0-127"></a>            <span style="color: #EFF">rel_path</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">template_file</span><span style="color: #89DDFF">.</span><span style="color: #EFF">relative_to</span><span style="color: #89DDFF">(self.</span><span style="color: #EFF">template_dir</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-128"><a id="__codelineno-0-128" name="__codelineno-0-128"></a>            <span style="color: #546E7A; font-style: italic"># Use full path without extension as the key (e.g., &quot;cda_fhir/document&quot;)</span>
</span><span id="__span-0-129"><a id="__codelineno-0-129" name="__codelineno-0-129"></a>            <span style="color: #EFF">template_key</span> <span style="color: #89DDFF">=</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">rel_path</span><span style="color: #89DDFF">.</span><span style="color: #EFF">with_suffix</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;&quot;</span><span style="color: #89DDFF">))</span>
</span><span id="__span-0-130"><a id="__codelineno-0-130" name="__codelineno-0-130"></a>
</span><span id="__span-0-131"><a id="__codelineno-0-131" name="__codelineno-0-131"></a>            <span style="color: #BB80B3">try</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-132"><a id="__codelineno-0-132" name="__codelineno-0-132"></a>                <span style="color: #EFF">template</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_env</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_template</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">rel_path</span><span style="color: #89DDFF">))</span>
</span><span id="__span-0-133"><a id="__codelineno-0-133" name="__codelineno-0-133"></a>                <span style="color: #89DDFF">self.</span><span style="color: #EFF">_templates</span><span style="color: #89DDFF">[</span><span style="color: #EFF">template_key</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">template</span>
</span><span id="__span-0-134"><a id="__codelineno-0-134" name="__codelineno-0-134"></a>                <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">debug</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Loaded template: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">template_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-135"><a id="__codelineno-0-135" name="__codelineno-0-135"></a>            <span style="color: #BB80B3">except</span> <span style="color: #FFCB6B">Exception</span> <span style="color: #BB80B3">as</span> <span style="color: #EFF">e</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-136"><a id="__codelineno-0-136" name="__codelineno-0-136"></a>                <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Failed to load template </span><span style="color: #89DDFF">{</span><span style="color: #EFF">template_file</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">: </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">e</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-137"><a id="__codelineno-0-137" name="__codelineno-0-137"></a>                <span style="color: #BB80B3">continue</span>
</span><span id="__span-0-138"><a id="__codelineno-0-138" name="__codelineno-0-138"></a>
</span><span id="__span-0-139"><a id="__codelineno-0-139" name="__codelineno-0-139"></a>        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_templates</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-140"><a id="__codelineno-0-140" name="__codelineno-0-140"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;No templates found in </span><span style="color: #89DDFF">{self.</span><span style="color: #EFF">template_dir</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-141"><a id="__codelineno-0-141" name="__codelineno-0-141"></a>
</span><span id="__span-0-142"><a id="__codelineno-0-142" name="__codelineno-0-142"></a>        <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">info</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Loaded </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(self.</span><span style="color: #EFF">_templates</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D"> templates&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-143"><a id="__codelineno-0-143" name="__codelineno-0-143"></a>
</span><span id="__span-0-144"><a id="__codelineno-0-144" name="__codelineno-0-144"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">get_template</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">template_key</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">Template</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-145"><a id="__codelineno-0-145" name="__codelineno-0-145"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Get a template by key</span>
</span><span id="__span-0-146"><a id="__codelineno-0-146" name="__codelineno-0-146"></a>
</span><span id="__span-0-147"><a id="__codelineno-0-147" name="__codelineno-0-147"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-148"><a id="__codelineno-0-148" name="__codelineno-0-148"></a><span style="color: #546E7A; font-style: italic">            template_key: Template identifier. Can be a full path (e.g., &#39;cda_fhir/document&#39;)</span>
</span><span id="__span-0-149"><a id="__codelineno-0-149" name="__codelineno-0-149"></a><span style="color: #546E7A; font-style: italic">                or just a filename (e.g., &#39;document&#39;).</span>
</span><span id="__span-0-150"><a id="__codelineno-0-150" name="__codelineno-0-150"></a>
</span><span id="__span-0-151"><a id="__codelineno-0-151" name="__codelineno-0-151"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-152"><a id="__codelineno-0-152" name="__codelineno-0-152"></a><span style="color: #546E7A; font-style: italic">            The template object</span>
</span><span id="__span-0-153"><a id="__codelineno-0-153" name="__codelineno-0-153"></a>
</span><span id="__span-0-154"><a id="__codelineno-0-154" name="__codelineno-0-154"></a><span style="color: #546E7A; font-style: italic">        Raises:</span>
</span><span id="__span-0-155"><a id="__codelineno-0-155" name="__codelineno-0-155"></a><span style="color: #546E7A; font-style: italic">            KeyError: If template not found</span>
</span><span id="__span-0-156"><a id="__codelineno-0-156" name="__codelineno-0-156"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-157"><a id="__codelineno-0-157" name="__codelineno-0-157"></a>        <span style="color: #BB80B3">if</span> <span style="color: #EFF">template_key</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_templates</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-158"><a id="__codelineno-0-158" name="__codelineno-0-158"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">KeyError</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Template not found: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">template_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-159"><a id="__codelineno-0-159" name="__codelineno-0-159"></a>
</span><span id="__span-0-160"><a id="__codelineno-0-160" name="__codelineno-0-160"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_templates</span><span style="color: #89DDFF">[</span><span style="color: #EFF">template_key</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-161"><a id="__codelineno-0-161" name="__codelineno-0-161"></a>
</span><span id="__span-0-162"><a id="__codelineno-0-162" name="__codelineno-0-162"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">has_template</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">template_key</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #82AAFF">bool</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-163"><a id="__codelineno-0-163" name="__codelineno-0-163"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Check if a template exists</span>
</span><span id="__span-0-164"><a id="__codelineno-0-164" name="__codelineno-0-164"></a>
</span><span id="__span-0-165"><a id="__codelineno-0-165" name="__codelineno-0-165"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-166"><a id="__codelineno-0-166" name="__codelineno-0-166"></a><span style="color: #546E7A; font-style: italic">            template_key: Template identifier. Can be a full path (e.g., &#39;cda_fhir/document&#39;)</span>
</span><span id="__span-0-167"><a id="__codelineno-0-167" name="__codelineno-0-167"></a><span style="color: #546E7A; font-style: italic">                or just a filename (e.g., &#39;document&#39;).</span>
</span><span id="__span-0-168"><a id="__codelineno-0-168" name="__codelineno-0-168"></a>
</span><span id="__span-0-169"><a id="__codelineno-0-169" name="__codelineno-0-169"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-170"><a id="__codelineno-0-170" name="__codelineno-0-170"></a><span style="color: #546E7A; font-style: italic">            True if template exists, False otherwise</span>
</span><span id="__span-0-171"><a id="__codelineno-0-171" name="__codelineno-0-171"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-172"><a id="__codelineno-0-172" name="__codelineno-0-172"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">template_key</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_templates</span>
</span></code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.template_registry.TemplateRegistry.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #82AAFF">__init__</span><span style="color: #89DDFF">(</span><span style="color: #EFF">template_dir</span><span style="color: #89DDFF">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initialize the TemplateRegistry</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>template_dir</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Directory containing template files</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="pathlib.Path">Path</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/template_registry.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-31">31</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-32">32</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-33">33</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-34">34</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-35">35</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-36">36</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-37">37</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-38">38</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-39">39</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-40">40</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-41">41</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-42">42</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-43">43</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">__init__</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">template_dir</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Path</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Initialize the TemplateRegistry</span>
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33"></a>
</span><span id="__span-0-34"><a id="__codelineno-0-34" name="__codelineno-0-34"></a><span style="color: #546E7A; font-style: italic">    Args:</span>
</span><span id="__span-0-35"><a id="__codelineno-0-35" name="__codelineno-0-35"></a><span style="color: #546E7A; font-style: italic">        template_dir: Directory containing template files</span>
</span><span id="__span-0-36"><a id="__codelineno-0-36" name="__codelineno-0-36"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-37"><a id="__codelineno-0-37" name="__codelineno-0-37"></a>    <span style="color: #89DDFF">self.</span><span style="color: #EFF">template_dir</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">template_dir</span>
</span><span id="__span-0-38"><a id="__codelineno-0-38" name="__codelineno-0-38"></a>    <span style="color: #89DDFF">self.</span><span style="color: #EFF">_templates</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">{}</span>
</span><span id="__span-0-39"><a id="__codelineno-0-39" name="__codelineno-0-39"></a>    <span style="color: #89DDFF">self.</span><span style="color: #EFF">_env</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-40"><a id="__codelineno-0-40" name="__codelineno-0-40"></a>    <span style="color: #89DDFF">self.</span><span style="color: #EFF">_filters</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">{}</span>
</span><span id="__span-0-41"><a id="__codelineno-0-41" name="__codelineno-0-41"></a>
</span><span id="__span-0-42"><a id="__codelineno-0-42" name="__codelineno-0-42"></a>    <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">template_dir</span><span style="color: #89DDFF">.</span><span style="color: #EFF">exists</span><span style="color: #89DDFF">():</span>
</span><span id="__span-0-43"><a id="__codelineno-0-43" name="__codelineno-0-43"></a>        <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Template directory not found: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">template_dir</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.template_registry.TemplateRegistry.add_filter" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">add_filter</span><span style="color: #89DDFF">(</span><span style="color: #EFF">name</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">filter_func</span><span style="color: #89DDFF">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Add a custom filter function</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Name of the filter to use in templates</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>filter_func</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Filter function to register</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Callable">Callable</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="TemplateRegistry (healthchain.interop.template_registry.TemplateRegistry)" href="#healthchain.interop.template_registry.TemplateRegistry">TemplateRegistry</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Self for method chaining</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/template_registry.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-81">81</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-82">82</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-83">83</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-84">84</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-85">85</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-86">86</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-87">87</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-88">88</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-89">89</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-90">90</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-91">91</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-92">92</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-93">93</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-94">94</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-95">95</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-96">96</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-97">97</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-98">98</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-81"><a id="__codelineno-0-81" name="__codelineno-0-81"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">add_filter</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">name</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">filter_func</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Callable</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #C3E88D">&quot;TemplateRegistry&quot;</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-82"><a id="__codelineno-0-82" name="__codelineno-0-82"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Add a custom filter function</span>
</span><span id="__span-0-83"><a id="__codelineno-0-83" name="__codelineno-0-83"></a>
</span><span id="__span-0-84"><a id="__codelineno-0-84" name="__codelineno-0-84"></a><span style="color: #546E7A; font-style: italic">    Args:</span>
</span><span id="__span-0-85"><a id="__codelineno-0-85" name="__codelineno-0-85"></a><span style="color: #546E7A; font-style: italic">        name: Name of the filter to use in templates</span>
</span><span id="__span-0-86"><a id="__codelineno-0-86" name="__codelineno-0-86"></a><span style="color: #546E7A; font-style: italic">        filter_func: Filter function to register</span>
</span><span id="__span-0-87"><a id="__codelineno-0-87" name="__codelineno-0-87"></a>
</span><span id="__span-0-88"><a id="__codelineno-0-88" name="__codelineno-0-88"></a><span style="color: #546E7A; font-style: italic">    Returns:</span>
</span><span id="__span-0-89"><a id="__codelineno-0-89" name="__codelineno-0-89"></a><span style="color: #546E7A; font-style: italic">        Self for method chaining</span>
</span><span id="__span-0-90"><a id="__codelineno-0-90" name="__codelineno-0-90"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-91"><a id="__codelineno-0-91" name="__codelineno-0-91"></a>    <span style="color: #546E7A; font-style: italic"># Add to internal filter registry</span>
</span><span id="__span-0-92"><a id="__codelineno-0-92" name="__codelineno-0-92"></a>    <span style="color: #89DDFF">self.</span><span style="color: #EFF">_filters</span><span style="color: #89DDFF">[</span><span style="color: #EFF">name</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">filter_func</span>
</span><span id="__span-0-93"><a id="__codelineno-0-93" name="__codelineno-0-93"></a>
</span><span id="__span-0-94"><a id="__codelineno-0-94" name="__codelineno-0-94"></a>    <span style="color: #546E7A; font-style: italic"># If environment is already initialized, register the filter</span>
</span><span id="__span-0-95"><a id="__codelineno-0-95" name="__codelineno-0-95"></a>    <span style="color: #BB80B3">if</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_env</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-96"><a id="__codelineno-0-96" name="__codelineno-0-96"></a>        <span style="color: #89DDFF">self.</span><span style="color: #EFF">_env</span><span style="color: #89DDFF">.</span><span style="color: #EFF">filters</span><span style="color: #89DDFF">[</span><span style="color: #EFF">name</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">filter_func</span>
</span><span id="__span-0-97"><a id="__codelineno-0-97" name="__codelineno-0-97"></a>
</span><span id="__span-0-98"><a id="__codelineno-0-98" name="__codelineno-0-98"></a>    <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.template_registry.TemplateRegistry.add_filters" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">add_filters</span><span style="color: #89DDFF">(</span><span style="color: #EFF">filters</span><span style="color: #89DDFF">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Add multiple custom filter functions</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filters</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Dictionary of filter names to filter functions</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Callable">Callable</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="TemplateRegistry (healthchain.interop.template_registry.TemplateRegistry)" href="#healthchain.interop.template_registry.TemplateRegistry">TemplateRegistry</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Self for method chaining</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/template_registry.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-100">100</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-101">101</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-102">102</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-103">103</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-104">104</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-105">105</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-106">106</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-107">107</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-108">108</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-109">109</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-110">110</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-111">111</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-112">112</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-100"><a id="__codelineno-0-100" name="__codelineno-0-100"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">add_filters</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">filters</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Dict</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">Callable</span><span style="color: #89DDFF">])</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #C3E88D">&quot;TemplateRegistry&quot;</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-101"><a id="__codelineno-0-101" name="__codelineno-0-101"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Add multiple custom filter functions</span>
</span><span id="__span-0-102"><a id="__codelineno-0-102" name="__codelineno-0-102"></a>
</span><span id="__span-0-103"><a id="__codelineno-0-103" name="__codelineno-0-103"></a><span style="color: #546E7A; font-style: italic">    Args:</span>
</span><span id="__span-0-104"><a id="__codelineno-0-104" name="__codelineno-0-104"></a><span style="color: #546E7A; font-style: italic">        filters: Dictionary of filter names to filter functions</span>
</span><span id="__span-0-105"><a id="__codelineno-0-105" name="__codelineno-0-105"></a>
</span><span id="__span-0-106"><a id="__codelineno-0-106" name="__codelineno-0-106"></a><span style="color: #546E7A; font-style: italic">    Returns:</span>
</span><span id="__span-0-107"><a id="__codelineno-0-107" name="__codelineno-0-107"></a><span style="color: #546E7A; font-style: italic">        Self for method chaining</span>
</span><span id="__span-0-108"><a id="__codelineno-0-108" name="__codelineno-0-108"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-109"><a id="__codelineno-0-109" name="__codelineno-0-109"></a>    <span style="color: #BB80B3">for</span> <span style="color: #EFF">name</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">func</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">filters</span><span style="color: #89DDFF">.</span><span style="color: #EFF">items</span><span style="color: #89DDFF">():</span>
</span><span id="__span-0-110"><a id="__codelineno-0-110" name="__codelineno-0-110"></a>        <span style="color: #89DDFF">self.</span><span style="color: #EFF">add_filter</span><span style="color: #89DDFF">(</span><span style="color: #EFF">name</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">func</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-111"><a id="__codelineno-0-111" name="__codelineno-0-111"></a>
</span><span id="__span-0-112"><a id="__codelineno-0-112" name="__codelineno-0-112"></a>    <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.template_registry.TemplateRegistry.get_template" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">get_template</span><span style="color: #89DDFF">(</span><span style="color: #EFF">template_key</span><span style="color: #89DDFF">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get a template by key</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>template_key</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Template identifier. Can be a full path (e.g., 'cda_fhir/document')
or just a filename (e.g., 'document').</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="liquid.Template">Template</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>The template object</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="KeyError">KeyError</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If template not found</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/template_registry.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-144">144</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-145">145</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-146">146</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-147">147</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-148">148</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-149">149</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-150">150</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-151">151</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-152">152</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-153">153</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-154">154</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-155">155</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-156">156</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-157">157</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-158">158</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-159">159</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-160">160</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-144"><a id="__codelineno-0-144" name="__codelineno-0-144"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">get_template</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">template_key</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">Template</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-145"><a id="__codelineno-0-145" name="__codelineno-0-145"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Get a template by key</span>
</span><span id="__span-0-146"><a id="__codelineno-0-146" name="__codelineno-0-146"></a>
</span><span id="__span-0-147"><a id="__codelineno-0-147" name="__codelineno-0-147"></a><span style="color: #546E7A; font-style: italic">    Args:</span>
</span><span id="__span-0-148"><a id="__codelineno-0-148" name="__codelineno-0-148"></a><span style="color: #546E7A; font-style: italic">        template_key: Template identifier. Can be a full path (e.g., &#39;cda_fhir/document&#39;)</span>
</span><span id="__span-0-149"><a id="__codelineno-0-149" name="__codelineno-0-149"></a><span style="color: #546E7A; font-style: italic">            or just a filename (e.g., &#39;document&#39;).</span>
</span><span id="__span-0-150"><a id="__codelineno-0-150" name="__codelineno-0-150"></a>
</span><span id="__span-0-151"><a id="__codelineno-0-151" name="__codelineno-0-151"></a><span style="color: #546E7A; font-style: italic">    Returns:</span>
</span><span id="__span-0-152"><a id="__codelineno-0-152" name="__codelineno-0-152"></a><span style="color: #546E7A; font-style: italic">        The template object</span>
</span><span id="__span-0-153"><a id="__codelineno-0-153" name="__codelineno-0-153"></a>
</span><span id="__span-0-154"><a id="__codelineno-0-154" name="__codelineno-0-154"></a><span style="color: #546E7A; font-style: italic">    Raises:</span>
</span><span id="__span-0-155"><a id="__codelineno-0-155" name="__codelineno-0-155"></a><span style="color: #546E7A; font-style: italic">        KeyError: If template not found</span>
</span><span id="__span-0-156"><a id="__codelineno-0-156" name="__codelineno-0-156"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-157"><a id="__codelineno-0-157" name="__codelineno-0-157"></a>    <span style="color: #BB80B3">if</span> <span style="color: #EFF">template_key</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_templates</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-158"><a id="__codelineno-0-158" name="__codelineno-0-158"></a>        <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">KeyError</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Template not found: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">template_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-159"><a id="__codelineno-0-159" name="__codelineno-0-159"></a>
</span><span id="__span-0-160"><a id="__codelineno-0-160" name="__codelineno-0-160"></a>    <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_templates</span><span style="color: #89DDFF">[</span><span style="color: #EFF">template_key</span><span style="color: #89DDFF">]</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.template_registry.TemplateRegistry.has_template" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">has_template</span><span style="color: #89DDFF">(</span><span style="color: #EFF">template_key</span><span style="color: #89DDFF">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Check if a template exists</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>template_key</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Template identifier. Can be a full path (e.g., 'cda_fhir/document')
or just a filename (e.g., 'document').</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="bool">bool</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>True if template exists, False otherwise</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/template_registry.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-162">162</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-163">163</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-164">164</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-165">165</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-166">166</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-167">167</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-168">168</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-169">169</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-170">170</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-171">171</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-172">172</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-162"><a id="__codelineno-0-162" name="__codelineno-0-162"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">has_template</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">template_key</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #82AAFF">bool</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-163"><a id="__codelineno-0-163" name="__codelineno-0-163"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Check if a template exists</span>
</span><span id="__span-0-164"><a id="__codelineno-0-164" name="__codelineno-0-164"></a>
</span><span id="__span-0-165"><a id="__codelineno-0-165" name="__codelineno-0-165"></a><span style="color: #546E7A; font-style: italic">    Args:</span>
</span><span id="__span-0-166"><a id="__codelineno-0-166" name="__codelineno-0-166"></a><span style="color: #546E7A; font-style: italic">        template_key: Template identifier. Can be a full path (e.g., &#39;cda_fhir/document&#39;)</span>
</span><span id="__span-0-167"><a id="__codelineno-0-167" name="__codelineno-0-167"></a><span style="color: #546E7A; font-style: italic">            or just a filename (e.g., &#39;document&#39;).</span>
</span><span id="__span-0-168"><a id="__codelineno-0-168" name="__codelineno-0-168"></a>
</span><span id="__span-0-169"><a id="__codelineno-0-169" name="__codelineno-0-169"></a><span style="color: #546E7A; font-style: italic">    Returns:</span>
</span><span id="__span-0-170"><a id="__codelineno-0-170" name="__codelineno-0-170"></a><span style="color: #546E7A; font-style: italic">        True if template exists, False otherwise</span>
</span><span id="__span-0-171"><a id="__codelineno-0-171" name="__codelineno-0-171"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-172"><a id="__codelineno-0-172" name="__codelineno-0-172"></a>    <span style="color: #BB80B3">return</span> <span style="color: #EFF">template_key</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_templates</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.template_registry.TemplateRegistry.initialize" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">initialize</span><span style="color: #89DDFF">(</span><span style="color: #EFF">filters</span><span style="color: #89DDFF">=None)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initialize the Liquid environment and load templates.</p>
<p>This method sets up the Liquid template environment by:
1. Storing any provided filter functions
2. Creating the Liquid environment with the template directory
3. Loading all template files from the directory</p>
<p>The environment must be initialized before templates can be loaded or rendered.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filters</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Optional dictionary mapping filter names to filter functions that can be used
    in templates. For example: {"uppercase": str.upper}</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Callable">Callable</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>TemplateRegistry</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Returns self for method chaining</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-internal" title="TemplateRegistry (healthchain.interop.template_registry.TemplateRegistry)" href="#healthchain.interop.template_registry.TemplateRegistry">TemplateRegistry</a></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="ValueError">ValueError</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If template directory does not exist or environment initialization fails</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/template_registry.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-45">45</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-46">46</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-47">47</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-48">48</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-49">49</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-50">50</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-51">51</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-52">52</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-53">53</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-54">54</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-55">55</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-56">56</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-57">57</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-58">58</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-59">59</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-60">60</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-61">61</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-62">62</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-63">63</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-64">64</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-65">65</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-66">66</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-67">67</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-68">68</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-69">69</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-70">70</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-71">71</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-45"><a id="__codelineno-0-45" name="__codelineno-0-45"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">initialize</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">filters</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Dict</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">Callable</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #C3E88D">&quot;TemplateRegistry&quot;</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-46"><a id="__codelineno-0-46" name="__codelineno-0-46"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Initialize the Liquid environment and load templates.</span>
</span><span id="__span-0-47"><a id="__codelineno-0-47" name="__codelineno-0-47"></a>
</span><span id="__span-0-48"><a id="__codelineno-0-48" name="__codelineno-0-48"></a><span style="color: #546E7A; font-style: italic">    This method sets up the Liquid template environment by:</span>
</span><span id="__span-0-49"><a id="__codelineno-0-49" name="__codelineno-0-49"></a><span style="color: #546E7A; font-style: italic">    1. Storing any provided filter functions</span>
</span><span id="__span-0-50"><a id="__codelineno-0-50" name="__codelineno-0-50"></a><span style="color: #546E7A; font-style: italic">    2. Creating the Liquid environment with the template directory</span>
</span><span id="__span-0-51"><a id="__codelineno-0-51" name="__codelineno-0-51"></a><span style="color: #546E7A; font-style: italic">    3. Loading all template files from the directory</span>
</span><span id="__span-0-52"><a id="__codelineno-0-52" name="__codelineno-0-52"></a>
</span><span id="__span-0-53"><a id="__codelineno-0-53" name="__codelineno-0-53"></a><span style="color: #546E7A; font-style: italic">    The environment must be initialized before templates can be loaded or rendered.</span>
</span><span id="__span-0-54"><a id="__codelineno-0-54" name="__codelineno-0-54"></a>
</span><span id="__span-0-55"><a id="__codelineno-0-55" name="__codelineno-0-55"></a><span style="color: #546E7A; font-style: italic">    Args:</span>
</span><span id="__span-0-56"><a id="__codelineno-0-56" name="__codelineno-0-56"></a><span style="color: #546E7A; font-style: italic">        filters: Optional dictionary mapping filter names to filter functions that can be used</span>
</span><span id="__span-0-57"><a id="__codelineno-0-57" name="__codelineno-0-57"></a><span style="color: #546E7A; font-style: italic">                in templates. For example: {&quot;uppercase&quot;: str.upper}</span>
</span><span id="__span-0-58"><a id="__codelineno-0-58" name="__codelineno-0-58"></a>
</span><span id="__span-0-59"><a id="__codelineno-0-59" name="__codelineno-0-59"></a><span style="color: #546E7A; font-style: italic">    Returns:</span>
</span><span id="__span-0-60"><a id="__codelineno-0-60" name="__codelineno-0-60"></a><span style="color: #546E7A; font-style: italic">        TemplateRegistry: Returns self for method chaining</span>
</span><span id="__span-0-61"><a id="__codelineno-0-61" name="__codelineno-0-61"></a>
</span><span id="__span-0-62"><a id="__codelineno-0-62" name="__codelineno-0-62"></a><span style="color: #546E7A; font-style: italic">    Raises:</span>
</span><span id="__span-0-63"><a id="__codelineno-0-63" name="__codelineno-0-63"></a><span style="color: #546E7A; font-style: italic">        ValueError: If template directory does not exist or environment initialization fails</span>
</span><span id="__span-0-64"><a id="__codelineno-0-64" name="__codelineno-0-64"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-65"><a id="__codelineno-0-65" name="__codelineno-0-65"></a>    <span style="color: #546E7A; font-style: italic"># Store initial filters</span>
</span><span id="__span-0-66"><a id="__codelineno-0-66" name="__codelineno-0-66"></a>    <span style="color: #BB80B3">if</span> <span style="color: #EFF">filters</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-67"><a id="__codelineno-0-67" name="__codelineno-0-67"></a>        <span style="color: #89DDFF">self.</span><span style="color: #EFF">_filters</span><span style="color: #89DDFF">.</span><span style="color: #EFF">update</span><span style="color: #89DDFF">(</span><span style="color: #EFF">filters</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-68"><a id="__codelineno-0-68" name="__codelineno-0-68"></a>
</span><span id="__span-0-69"><a id="__codelineno-0-69" name="__codelineno-0-69"></a>    <span style="color: #89DDFF">self.</span><span style="color: #EFF">_create_environment</span><span style="color: #89DDFF">()</span>
</span><span id="__span-0-70"><a id="__codelineno-0-70" name="__codelineno-0-70"></a>    <span style="color: #89DDFF">self.</span><span style="color: #EFF">_load_templates</span><span style="color: #89DDFF">()</span>
</span><span id="__span-0-71"><a id="__codelineno-0-71" name="__codelineno-0-71"></a>    <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="healthchain.interop.parsers.cda"></a>
    <div class="doc doc-contents first">

        <p>CDA Parser for HealthChain Interoperability Engine</p>
<p>This module provides functionality for parsing CDA XML documents.</p>










<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="healthchain.interop.parsers.cda.CDAParser" class="doc doc-heading">
            <code>CDAParser</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="healthchain.interop.parsers.base.BaseParser">BaseParser</span></code></p>



        <p>Parser for CDA XML documents.</p>
<p>The CDAParser class provides functionality to parse Clinical Document Architecture (CDA)
XML documents and extract structured data from their sections. It works in conjunction with
the InteropConfigManager to identify and process sections based on configuration.</p>
<p>Key capabilities:
- Parse complete CDA XML documents
- Extract entries from configured sections based on template IDs or codes
- Convert and validate section entries into structured dictionaries (xmltodict)</p>
<p>The parser uses configuration from InteropConfigManager to:
- Identify sections by template ID or code
- Map section contents to the appropriate data structures
- Apply any configured transformations</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">ATTRIBUTE</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="healthchain.interop.parsers.cda.CDAParser.config">config</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>Configuration manager instance</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-internal" title="InteropConfigManager (healthchain.interop.config_manager.InteropConfigManager)" href="#healthchain.interop.config_manager.InteropConfigManager">InteropConfigManager</a></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="healthchain.interop.parsers.cda.CDAParser.clinical_document">clinical_document</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>Currently loaded CDA document</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="healthchain.interop.models.cda.ClinicalDocument">ClinicalDocument</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>healthchain/interop/parsers/cda.py</code></summary>
                <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-19"> 19</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-20"> 20</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-21"> 21</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-22"> 22</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-23"> 23</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-24"> 24</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-25"> 25</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-26"> 26</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-27"> 27</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-28"> 28</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-29"> 29</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-30"> 30</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-31"> 31</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-32"> 32</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-33"> 33</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-34"> 34</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-35"> 35</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-36"> 36</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-37"> 37</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-38"> 38</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-39"> 39</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-40"> 40</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-41"> 41</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-42"> 42</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-43"> 43</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-44"> 44</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-45"> 45</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-46"> 46</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-47"> 47</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-48"> 48</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-49"> 49</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-50"> 50</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-51"> 51</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-52"> 52</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-53"> 53</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-54"> 54</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-55"> 55</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-56"> 56</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-57"> 57</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-58"> 58</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-59"> 59</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-60"> 60</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-61"> 61</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-62"> 62</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-63"> 63</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-64"> 64</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-65"> 65</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-66"> 66</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-67"> 67</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-68"> 68</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-69"> 69</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-70"> 70</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-71"> 71</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-72"> 72</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-73"> 73</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-74"> 74</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-75"> 75</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-76"> 76</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-77"> 77</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-78"> 78</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-79"> 79</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-80"> 80</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-81"> 81</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-82"> 82</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-83"> 83</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-84"> 84</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-85"> 85</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-86"> 86</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-87"> 87</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-88"> 88</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-89"> 89</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-90"> 90</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-91"> 91</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-92"> 92</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-93"> 93</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-94"> 94</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-95"> 95</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-96"> 96</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-97"> 97</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-98"> 98</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-99"> 99</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-100">100</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-101">101</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-102">102</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-103">103</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-104">104</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-105">105</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-106">106</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-107">107</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-108">108</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-109">109</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-110">110</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-111">111</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-112">112</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-113">113</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-114">114</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-115">115</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-116">116</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-117">117</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-118">118</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-119">119</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-120">120</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-121">121</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-122">122</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-123">123</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-124">124</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-125">125</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-126">126</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-127">127</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-128">128</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-129">129</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-130">130</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-131">131</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-132">132</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-133">133</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-134">134</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-135">135</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-136">136</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-137">137</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-138">138</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-139">139</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-140">140</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-141">141</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-142">142</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-143">143</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-144">144</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-145">145</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-146">146</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-147">147</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-148">148</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-149">149</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-150">150</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-151">151</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-152">152</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-153">153</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-154">154</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-155">155</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-156">156</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-157">157</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-158">158</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-159">159</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-160">160</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-161">161</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-162">162</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-163">163</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-164">164</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-165">165</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-166">166</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-167">167</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-168">168</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-169">169</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-170">170</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-171">171</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-172">172</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-173">173</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-174">174</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-175">175</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-176">176</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-177">177</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-178">178</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-179">179</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-180">180</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-181">181</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-182">182</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-183">183</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-184">184</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-185">185</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-186">186</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-187">187</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-188">188</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-189">189</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-190">190</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-191">191</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-192">192</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-193">193</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-194">194</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-195">195</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-196">196</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-197">197</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-198">198</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-199">199</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-200">200</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-201">201</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-202">202</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-203">203</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-204">204</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-205">205</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-206">206</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-207">207</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-208">208</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-209">209</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-210">210</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-211">211</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-212">212</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-213">213</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-214">214</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-215">215</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-216">216</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-217">217</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-218">218</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-219">219</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-220">220</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-221">221</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-222">222</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-223">223</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-224">224</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-225">225</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-226">226</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-227">227</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-228">228</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-229">229</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-230">230</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19"></a><span style="color: #BB80B3">class</span><span style="color: #EFF"> </span><span style="color: #FFCB6B">CDAParser</span><span style="color: #89DDFF">(</span><span style="color: #EFF">BaseParser</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Parser for CDA XML documents.</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21"></a>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22"></a><span style="color: #546E7A; font-style: italic">    The CDAParser class provides functionality to parse Clinical Document Architecture (CDA)</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23"></a><span style="color: #546E7A; font-style: italic">    XML documents and extract structured data from their sections. It works in conjunction with</span>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24"></a><span style="color: #546E7A; font-style: italic">    the InteropConfigManager to identify and process sections based on configuration.</span>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25"></a>
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26"></a><span style="color: #546E7A; font-style: italic">    Key capabilities:</span>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27"></a><span style="color: #546E7A; font-style: italic">    - Parse complete CDA XML documents</span>
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28"></a><span style="color: #546E7A; font-style: italic">    - Extract entries from configured sections based on template IDs or codes</span>
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29"></a><span style="color: #546E7A; font-style: italic">    - Convert and validate section entries into structured dictionaries (xmltodict)</span>
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30"></a>
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31"></a><span style="color: #546E7A; font-style: italic">    The parser uses configuration from InteropConfigManager to:</span>
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32"></a><span style="color: #546E7A; font-style: italic">    - Identify sections by template ID or code</span>
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33"></a><span style="color: #546E7A; font-style: italic">    - Map section contents to the appropriate data structures</span>
</span><span id="__span-0-34"><a id="__codelineno-0-34" name="__codelineno-0-34"></a><span style="color: #546E7A; font-style: italic">    - Apply any configured transformations</span>
</span><span id="__span-0-35"><a id="__codelineno-0-35" name="__codelineno-0-35"></a>
</span><span id="__span-0-36"><a id="__codelineno-0-36" name="__codelineno-0-36"></a><span style="color: #546E7A; font-style: italic">    Attributes:</span>
</span><span id="__span-0-37"><a id="__codelineno-0-37" name="__codelineno-0-37"></a><span style="color: #546E7A; font-style: italic">        config (InteropConfigManager): Configuration manager instance</span>
</span><span id="__span-0-38"><a id="__codelineno-0-38" name="__codelineno-0-38"></a><span style="color: #546E7A; font-style: italic">        clinical_document (ClinicalDocument): Currently loaded CDA document</span>
</span><span id="__span-0-39"><a id="__codelineno-0-39" name="__codelineno-0-39"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-40"><a id="__codelineno-0-40" name="__codelineno-0-40"></a>
</span><span id="__span-0-41"><a id="__codelineno-0-41" name="__codelineno-0-41"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">__init__</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">config</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">InteropConfigManager</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-42"><a id="__codelineno-0-42" name="__codelineno-0-42"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Initialize the CDA parser.</span>
</span><span id="__span-0-43"><a id="__codelineno-0-43" name="__codelineno-0-43"></a>
</span><span id="__span-0-44"><a id="__codelineno-0-44" name="__codelineno-0-44"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-45"><a id="__codelineno-0-45" name="__codelineno-0-45"></a><span style="color: #546E7A; font-style: italic">            config: InteropConfigManager instance containing section configurations,</span>
</span><span id="__span-0-46"><a id="__codelineno-0-46" name="__codelineno-0-46"></a><span style="color: #546E7A; font-style: italic">                   templates, and mapping rules for CDA document parsing</span>
</span><span id="__span-0-47"><a id="__codelineno-0-47" name="__codelineno-0-47"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-48"><a id="__codelineno-0-48" name="__codelineno-0-48"></a>        <span style="color: #82AAFF">super</span><span style="color: #89DDFF">().</span><span style="color: #82AAFF">__init__</span><span style="color: #89DDFF">(</span><span style="color: #EFF">config</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-49"><a id="__codelineno-0-49" name="__codelineno-0-49"></a>        <span style="color: #89DDFF">self.</span><span style="color: #EFF">clinical_document</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-50"><a id="__codelineno-0-50" name="__codelineno-0-50"></a>
</span><span id="__span-0-51"><a id="__codelineno-0-51" name="__codelineno-0-51"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">from_string</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">data</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #82AAFF">dict</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-52"><a id="__codelineno-0-52" name="__codelineno-0-52"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;</span>
</span><span id="__span-0-53"><a id="__codelineno-0-53" name="__codelineno-0-53"></a><span style="color: #546E7A; font-style: italic">        Parse input data and convert it to a structured format.</span>
</span><span id="__span-0-54"><a id="__codelineno-0-54" name="__codelineno-0-54"></a>
</span><span id="__span-0-55"><a id="__codelineno-0-55" name="__codelineno-0-55"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-56"><a id="__codelineno-0-56" name="__codelineno-0-56"></a><span style="color: #546E7A; font-style: italic">            data: The CDA XML document string to parse</span>
</span><span id="__span-0-57"><a id="__codelineno-0-57" name="__codelineno-0-57"></a>
</span><span id="__span-0-58"><a id="__codelineno-0-58" name="__codelineno-0-58"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-59"><a id="__codelineno-0-59" name="__codelineno-0-59"></a><span style="color: #546E7A; font-style: italic">            A dictionary containing the parsed data structure with sections</span>
</span><span id="__span-0-60"><a id="__codelineno-0-60" name="__codelineno-0-60"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-61"><a id="__codelineno-0-61" name="__codelineno-0-61"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">parse_document</span><span style="color: #89DDFF">(</span><span style="color: #EFF">data</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-62"><a id="__codelineno-0-62" name="__codelineno-0-62"></a>
</span><span id="__span-0-63"><a id="__codelineno-0-63" name="__codelineno-0-63"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">parse_document</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">xml</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">Dict</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">]]:</span>
</span><span id="__span-0-64"><a id="__codelineno-0-64" name="__codelineno-0-64"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Parse a complete CDA document and extract entries from all configured sections.</span>
</span><span id="__span-0-65"><a id="__codelineno-0-65" name="__codelineno-0-65"></a>
</span><span id="__span-0-66"><a id="__codelineno-0-66" name="__codelineno-0-66"></a><span style="color: #546E7A; font-style: italic">        This method parses a CDA XML document and extracts entries from each section that is</span>
</span><span id="__span-0-67"><a id="__codelineno-0-67" name="__codelineno-0-67"></a><span style="color: #546E7A; font-style: italic">        defined in the configuration. It uses xmltodict to parse the XML into a dictionary</span>
</span><span id="__span-0-68"><a id="__codelineno-0-68" name="__codelineno-0-68"></a><span style="color: #546E7A; font-style: italic">        and then processes each configured section to extract its entries.</span>
</span><span id="__span-0-69"><a id="__codelineno-0-69" name="__codelineno-0-69"></a>
</span><span id="__span-0-70"><a id="__codelineno-0-70" name="__codelineno-0-70"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-71"><a id="__codelineno-0-71" name="__codelineno-0-71"></a><span style="color: #546E7A; font-style: italic">            xml: The CDA XML document string to parse</span>
</span><span id="__span-0-72"><a id="__codelineno-0-72" name="__codelineno-0-72"></a>
</span><span id="__span-0-73"><a id="__codelineno-0-73" name="__codelineno-0-73"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-74"><a id="__codelineno-0-74" name="__codelineno-0-74"></a><span style="color: #546E7A; font-style: italic">            Dict[str, List[Dict]]: Dictionary mapping section keys (e.g. &quot;problems&quot;,</span>
</span><span id="__span-0-75"><a id="__codelineno-0-75" name="__codelineno-0-75"></a><span style="color: #546E7A; font-style: italic">                &quot;medications&quot;) to lists of entry dictionaries containing the parsed data</span>
</span><span id="__span-0-76"><a id="__codelineno-0-76" name="__codelineno-0-76"></a><span style="color: #546E7A; font-style: italic">                from that section (xmltodict format).</span>
</span><span id="__span-0-77"><a id="__codelineno-0-77" name="__codelineno-0-77"></a>
</span><span id="__span-0-78"><a id="__codelineno-0-78" name="__codelineno-0-78"></a><span style="color: #546E7A; font-style: italic">        Raises:</span>
</span><span id="__span-0-79"><a id="__codelineno-0-79" name="__codelineno-0-79"></a><span style="color: #546E7A; font-style: italic">            ValueError: If the XML string is empty or invalid</span>
</span><span id="__span-0-80"><a id="__codelineno-0-80" name="__codelineno-0-80"></a><span style="color: #546E7A; font-style: italic">            Exception: If there is an error parsing the document or any section</span>
</span><span id="__span-0-81"><a id="__codelineno-0-81" name="__codelineno-0-81"></a>
</span><span id="__span-0-82"><a id="__codelineno-0-82" name="__codelineno-0-82"></a><span style="color: #546E7A; font-style: italic">        Example:</span>
</span><span id="__span-0-83"><a id="__codelineno-0-83" name="__codelineno-0-83"></a><span style="color: #546E7A; font-style: italic">            &gt;&gt;&gt; parser = CDAParser(config)</span>
</span><span id="__span-0-84"><a id="__codelineno-0-84" name="__codelineno-0-84"></a><span style="color: #546E7A; font-style: italic">            &gt;&gt;&gt; sections = parser.from_string(cda_xml)</span>
</span><span id="__span-0-85"><a id="__codelineno-0-85" name="__codelineno-0-85"></a><span style="color: #546E7A; font-style: italic">            &gt;&gt;&gt; problems = sections.get(&quot;problems&quot;, [])</span>
</span><span id="__span-0-86"><a id="__codelineno-0-86" name="__codelineno-0-86"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-87"><a id="__codelineno-0-87" name="__codelineno-0-87"></a>        <span style="color: #EFF">section_entries</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">{}</span>
</span><span id="__span-0-88"><a id="__codelineno-0-88" name="__codelineno-0-88"></a>
</span><span id="__span-0-89"><a id="__codelineno-0-89" name="__codelineno-0-89"></a>        <span style="color: #546E7A; font-style: italic"># Parse the document once</span>
</span><span id="__span-0-90"><a id="__codelineno-0-90" name="__codelineno-0-90"></a>        <span style="color: #BB80B3">try</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-91"><a id="__codelineno-0-91" name="__codelineno-0-91"></a>            <span style="color: #EFF">doc_dict</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">xmltodict</span><span style="color: #89DDFF">.</span><span style="color: #EFF">parse</span><span style="color: #89DDFF">(</span><span style="color: #EFF">xml</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-92"><a id="__codelineno-0-92" name="__codelineno-0-92"></a>            <span style="color: #89DDFF">self.</span><span style="color: #EFF">clinical_document</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">ClinicalDocument</span><span style="color: #89DDFF">(**</span><span style="color: #EFF">doc_dict</span><span style="color: #89DDFF">[</span><span style="color: #C3E88D">&quot;ClinicalDocument&quot;</span><span style="color: #89DDFF">])</span>
</span><span id="__span-0-93"><a id="__codelineno-0-93" name="__codelineno-0-93"></a>        <span style="color: #BB80B3">except</span> <span style="color: #FFCB6B">Exception</span> <span style="color: #BB80B3">as</span> <span style="color: #EFF">e</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-94"><a id="__codelineno-0-94" name="__codelineno-0-94"></a>            <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Error parsing CDA document: </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">e</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-95"><a id="__codelineno-0-95" name="__codelineno-0-95"></a>            <span style="color: #BB80B3">return</span> <span style="color: #EFF">section_entries</span>
</span><span id="__span-0-96"><a id="__codelineno-0-96" name="__codelineno-0-96"></a>
</span><span id="__span-0-97"><a id="__codelineno-0-97" name="__codelineno-0-97"></a>        <span style="color: #546E7A; font-style: italic"># Get section configurations</span>
</span><span id="__span-0-98"><a id="__codelineno-0-98" name="__codelineno-0-98"></a>        <span style="color: #EFF">sections</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_cda_section_configs</span><span style="color: #89DDFF">()</span>
</span><span id="__span-0-99"><a id="__codelineno-0-99" name="__codelineno-0-99"></a>        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">sections</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-100"><a id="__codelineno-0-100" name="__codelineno-0-100"></a>            <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">warning</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;No sections found in configuration&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-101"><a id="__codelineno-0-101" name="__codelineno-0-101"></a>            <span style="color: #BB80B3">return</span> <span style="color: #EFF">section_entries</span>
</span><span id="__span-0-102"><a id="__codelineno-0-102" name="__codelineno-0-102"></a>
</span><span id="__span-0-103"><a id="__codelineno-0-103" name="__codelineno-0-103"></a>        <span style="color: #546E7A; font-style: italic"># Process each section from the configuration</span>
</span><span id="__span-0-104"><a id="__codelineno-0-104" name="__codelineno-0-104"></a>        <span style="color: #BB80B3">for</span> <span style="color: #EFF">section_key</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">sections</span><span style="color: #89DDFF">.</span><span style="color: #EFF">keys</span><span style="color: #89DDFF">():</span>
</span><span id="__span-0-105"><a id="__codelineno-0-105" name="__codelineno-0-105"></a>            <span style="color: #BB80B3">try</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-106"><a id="__codelineno-0-106" name="__codelineno-0-106"></a>                <span style="color: #EFF">entries</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_parse_section_entries_from_document</span><span style="color: #89DDFF">(</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-107"><a id="__codelineno-0-107" name="__codelineno-0-107"></a>                <span style="color: #BB80B3">if</span> <span style="color: #EFF">entries</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-108"><a id="__codelineno-0-108" name="__codelineno-0-108"></a>                    <span style="color: #EFF">section_entries</span><span style="color: #89DDFF">[</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">entries</span>
</span><span id="__span-0-109"><a id="__codelineno-0-109" name="__codelineno-0-109"></a>            <span style="color: #BB80B3">except</span> <span style="color: #FFCB6B">Exception</span> <span style="color: #BB80B3">as</span> <span style="color: #EFF">e</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-110"><a id="__codelineno-0-110" name="__codelineno-0-110"></a>                <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Failed to parse section </span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">: </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">e</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-111"><a id="__codelineno-0-111" name="__codelineno-0-111"></a>                <span style="color: #BB80B3">continue</span>
</span><span id="__span-0-112"><a id="__codelineno-0-112" name="__codelineno-0-112"></a>
</span><span id="__span-0-113"><a id="__codelineno-0-113" name="__codelineno-0-113"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">section_entries</span>
</span><span id="__span-0-114"><a id="__codelineno-0-114" name="__codelineno-0-114"></a>
</span><span id="__span-0-115"><a id="__codelineno-0-115" name="__codelineno-0-115"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">_parse_section_entries_from_document</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">section_key</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">]:</span>
</span><span id="__span-0-116"><a id="__codelineno-0-116" name="__codelineno-0-116"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Extract entries from a CDA section using an already parsed document.</span>
</span><span id="__span-0-117"><a id="__codelineno-0-117" name="__codelineno-0-117"></a>
</span><span id="__span-0-118"><a id="__codelineno-0-118" name="__codelineno-0-118"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-119"><a id="__codelineno-0-119" name="__codelineno-0-119"></a><span style="color: #546E7A; font-style: italic">            section_key: Key identifying the section in the configuration (e.g. &quot;problems&quot;,</span>
</span><span id="__span-0-120"><a id="__codelineno-0-120" name="__codelineno-0-120"></a><span style="color: #546E7A; font-style: italic">                &quot;medications&quot;). Must match a section defined in the configuration.</span>
</span><span id="__span-0-121"><a id="__codelineno-0-121" name="__codelineno-0-121"></a>
</span><span id="__span-0-122"><a id="__codelineno-0-122" name="__codelineno-0-122"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-123"><a id="__codelineno-0-123" name="__codelineno-0-123"></a><span style="color: #546E7A; font-style: italic">            List[Dict]: List of entry dictionaries from the matched section. Each dictionary</span>
</span><span id="__span-0-124"><a id="__codelineno-0-124" name="__codelineno-0-124"></a><span style="color: #546E7A; font-style: italic">                contains the parsed data from a single entry in the section. Returns an empty</span>
</span><span id="__span-0-125"><a id="__codelineno-0-125" name="__codelineno-0-125"></a><span style="color: #546E7A; font-style: italic">                list if no entries are found or if an error occurs.</span>
</span><span id="__span-0-126"><a id="__codelineno-0-126" name="__codelineno-0-126"></a>
</span><span id="__span-0-127"><a id="__codelineno-0-127" name="__codelineno-0-127"></a><span style="color: #546E7A; font-style: italic">        Raises:</span>
</span><span id="__span-0-128"><a id="__codelineno-0-128" name="__codelineno-0-128"></a><span style="color: #546E7A; font-style: italic">            ValueError: If no template_id or code is configured for the section_key, or if</span>
</span><span id="__span-0-129"><a id="__codelineno-0-129" name="__codelineno-0-129"></a><span style="color: #546E7A; font-style: italic">                no matching section is found in the document.</span>
</span><span id="__span-0-130"><a id="__codelineno-0-130" name="__codelineno-0-130"></a><span style="color: #546E7A; font-style: italic">            Exception: If there is an error parsing the section or its entries.</span>
</span><span id="__span-0-131"><a id="__codelineno-0-131" name="__codelineno-0-131"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-132"><a id="__codelineno-0-132" name="__codelineno-0-132"></a>        <span style="color: #EFF">entries_dicts</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">[]</span>
</span><span id="__span-0-133"><a id="__codelineno-0-133" name="__codelineno-0-133"></a>        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">clinical_document</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-134"><a id="__codelineno-0-134" name="__codelineno-0-134"></a>            <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;No document loaded. Call parse_document first.&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-135"><a id="__codelineno-0-135" name="__codelineno-0-135"></a>            <span style="color: #BB80B3">return</span> <span style="color: #EFF">entries_dicts</span>
</span><span id="__span-0-136"><a id="__codelineno-0-136" name="__codelineno-0-136"></a>
</span><span id="__span-0-137"><a id="__codelineno-0-137" name="__codelineno-0-137"></a>        <span style="color: #BB80B3">try</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-138"><a id="__codelineno-0-138" name="__codelineno-0-138"></a>            <span style="color: #546E7A; font-style: italic"># Get all components</span>
</span><span id="__span-0-139"><a id="__codelineno-0-139" name="__codelineno-0-139"></a>            <span style="color: #EFF">components</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">clinical_document</span><span style="color: #89DDFF">.</span><span style="color: #EFF">component</span><span style="color: #89DDFF">.</span><span style="color: #EFF">structuredBody</span><span style="color: #89DDFF">.</span><span style="color: #EFF">component</span>
</span><span id="__span-0-140"><a id="__codelineno-0-140" name="__codelineno-0-140"></a>            <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #82AAFF">isinstance</span><span style="color: #89DDFF">(</span><span style="color: #EFF">components</span><span style="color: #89DDFF">,</span> <span style="color: #82AAFF">list</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-141"><a id="__codelineno-0-141" name="__codelineno-0-141"></a>                <span style="color: #EFF">components</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">[</span><span style="color: #EFF">components</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-142"><a id="__codelineno-0-142" name="__codelineno-0-142"></a>
</span><span id="__span-0-143"><a id="__codelineno-0-143" name="__codelineno-0-143"></a>            <span style="color: #546E7A; font-style: italic"># Find matching section</span>
</span><span id="__span-0-144"><a id="__codelineno-0-144" name="__codelineno-0-144"></a>            <span style="color: #EFF">section</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-145"><a id="__codelineno-0-145" name="__codelineno-0-145"></a>            <span style="color: #BB80B3">for</span> <span style="color: #EFF">component</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">components</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-146"><a id="__codelineno-0-146" name="__codelineno-0-146"></a>                <span style="color: #EFF">curr_section</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">component</span><span style="color: #89DDFF">.</span><span style="color: #EFF">section</span>
</span><span id="__span-0-147"><a id="__codelineno-0-147" name="__codelineno-0-147"></a>
</span><span id="__span-0-148"><a id="__codelineno-0-148" name="__codelineno-0-148"></a>                <span style="color: #546E7A; font-style: italic"># Get template_id and code from config_manager</span>
</span><span id="__span-0-149"><a id="__codelineno-0-149" name="__codelineno-0-149"></a>                <span style="color: #EFF">template_id</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_config_value</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-150"><a id="__codelineno-0-150" name="__codelineno-0-150"></a>                    <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;cda.sections.</span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">.identifiers.template_id&quot;</span>
</span><span id="__span-0-151"><a id="__codelineno-0-151" name="__codelineno-0-151"></a>                <span style="color: #89DDFF">)</span>
</span><span id="__span-0-152"><a id="__codelineno-0-152" name="__codelineno-0-152"></a>                <span style="color: #EFF">code</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_config_value</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-153"><a id="__codelineno-0-153" name="__codelineno-0-153"></a>                    <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;cda.sections.</span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">.identifiers.code&quot;</span>
</span><span id="__span-0-154"><a id="__codelineno-0-154" name="__codelineno-0-154"></a>                <span style="color: #89DDFF">)</span>
</span><span id="__span-0-155"><a id="__codelineno-0-155" name="__codelineno-0-155"></a>
</span><span id="__span-0-156"><a id="__codelineno-0-156" name="__codelineno-0-156"></a>                <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">template_id</span> <span style="color: #89DDFF; font-style: italic">and</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">code</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-157"><a id="__codelineno-0-157" name="__codelineno-0-157"></a>                    <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-158"><a id="__codelineno-0-158" name="__codelineno-0-158"></a>                        <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;No template_id or code found for section </span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">: </span><span style="color: #EFF">\</span>
</span><span id="__span-0-159"><a id="__codelineno-0-159" name="__codelineno-0-159"></a><span style="color: #C3E88D">                            configure one of the following: </span><span style="color: #EFF">\</span>
</span><span id="__span-0-160"><a id="__codelineno-0-160" name="__codelineno-0-160"></a><span style="color: #C3E88D">                            cda.sections.</span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">.identifiers.template_id </span><span style="color: #EFF">\</span>
</span><span id="__span-0-161"><a id="__codelineno-0-161" name="__codelineno-0-161"></a><span style="color: #C3E88D">                            or cda.sections.</span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">.identifiers.code&quot;</span>
</span><span id="__span-0-162"><a id="__codelineno-0-162" name="__codelineno-0-162"></a>                    <span style="color: #89DDFF">)</span>
</span><span id="__span-0-163"><a id="__codelineno-0-163" name="__codelineno-0-163"></a>
</span><span id="__span-0-164"><a id="__codelineno-0-164" name="__codelineno-0-164"></a>                <span style="color: #BB80B3">if</span> <span style="color: #EFF">template_id</span> <span style="color: #89DDFF; font-style: italic">and</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_find_section_by_template_id</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-165"><a id="__codelineno-0-165" name="__codelineno-0-165"></a>                    <span style="color: #EFF">curr_section</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">template_id</span>
</span><span id="__span-0-166"><a id="__codelineno-0-166" name="__codelineno-0-166"></a>                <span style="color: #89DDFF">):</span>
</span><span id="__span-0-167"><a id="__codelineno-0-167" name="__codelineno-0-167"></a>                    <span style="color: #EFF">section</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">curr_section</span>
</span><span id="__span-0-168"><a id="__codelineno-0-168" name="__codelineno-0-168"></a>                    <span style="color: #BB80B3">break</span>
</span><span id="__span-0-169"><a id="__codelineno-0-169" name="__codelineno-0-169"></a>
</span><span id="__span-0-170"><a id="__codelineno-0-170" name="__codelineno-0-170"></a>                <span style="color: #BB80B3">if</span> <span style="color: #EFF">code</span> <span style="color: #89DDFF; font-style: italic">and</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_find_section_by_code</span><span style="color: #89DDFF">(</span><span style="color: #EFF">curr_section</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">code</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-171"><a id="__codelineno-0-171" name="__codelineno-0-171"></a>                    <span style="color: #EFF">section</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">curr_section</span>
</span><span id="__span-0-172"><a id="__codelineno-0-172" name="__codelineno-0-172"></a>                    <span style="color: #BB80B3">break</span>
</span><span id="__span-0-173"><a id="__codelineno-0-173" name="__codelineno-0-173"></a>
</span><span id="__span-0-174"><a id="__codelineno-0-174" name="__codelineno-0-174"></a>            <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">section</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-175"><a id="__codelineno-0-175" name="__codelineno-0-175"></a>                <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">warning</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-176"><a id="__codelineno-0-176" name="__codelineno-0-176"></a>                    <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Section with template_id: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">template_id</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D"> or code: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">code</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D"> not found in CDA document for key: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-177"><a id="__codelineno-0-177" name="__codelineno-0-177"></a>                <span style="color: #89DDFF">)</span>
</span><span id="__span-0-178"><a id="__codelineno-0-178" name="__codelineno-0-178"></a>                <span style="color: #BB80B3">return</span> <span style="color: #EFF">entries_dicts</span>
</span><span id="__span-0-179"><a id="__codelineno-0-179" name="__codelineno-0-179"></a>
</span><span id="__span-0-180"><a id="__codelineno-0-180" name="__codelineno-0-180"></a>            <span style="color: #546E7A; font-style: italic"># Check if this is a notes section (which doesn&#39;t have entries but has text) - temporary workaround</span>
</span><span id="__span-0-181"><a id="__codelineno-0-181" name="__codelineno-0-181"></a>            <span style="color: #BB80B3">if</span> <span style="color: #EFF">section_key</span> <span style="color: #89DDFF">==</span> <span style="color: #C3E88D">&quot;notes&quot;</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-182"><a id="__codelineno-0-182" name="__codelineno-0-182"></a>                <span style="color: #546E7A; font-style: italic"># For notes section, create a synthetic entry with the section&#39;s text content</span>
</span><span id="__span-0-183"><a id="__codelineno-0-183" name="__codelineno-0-183"></a>                <span style="color: #EFF">section_dict</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">section</span><span style="color: #89DDFF">.</span><span style="color: #EFF">model_dump</span><span style="color: #89DDFF">(</span><span style="color: #EFF">exclude_none</span><span style="color: #89DDFF">=True,</span> <span style="color: #EFF">by_alias</span><span style="color: #89DDFF">=True)</span>
</span><span id="__span-0-184"><a id="__codelineno-0-184" name="__codelineno-0-184"></a>                <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">debug</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-185"><a id="__codelineno-0-185" name="__codelineno-0-185"></a>                    <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Created synthetic entry for notes section with text: </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">type</span><span style="color: #89DDFF">(</span><span style="color: #EFF">section</span><span style="color: #89DDFF">.</span><span style="color: #EFF">text</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-186"><a id="__codelineno-0-186" name="__codelineno-0-186"></a>                <span style="color: #89DDFF">)</span>
</span><span id="__span-0-187"><a id="__codelineno-0-187" name="__codelineno-0-187"></a>                <span style="color: #546E7A; font-style: italic"># Return the entire section as the entry for DocumentReference</span>
</span><span id="__span-0-188"><a id="__codelineno-0-188" name="__codelineno-0-188"></a>                <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">[</span><span style="color: #EFF">section_dict</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-189"><a id="__codelineno-0-189" name="__codelineno-0-189"></a>
</span><span id="__span-0-190"><a id="__codelineno-0-190" name="__codelineno-0-190"></a>            <span style="color: #546E7A; font-style: italic"># Get entries from section (normal case for other sections)</span>
</span><span id="__span-0-191"><a id="__codelineno-0-191" name="__codelineno-0-191"></a>            <span style="color: #BB80B3">if</span> <span style="color: #EFF">section</span><span style="color: #89DDFF">.</span><span style="color: #EFF">entry</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-192"><a id="__codelineno-0-192" name="__codelineno-0-192"></a>                <span style="color: #EFF">entries_dicts</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">(</span>
</span><span id="__span-0-193"><a id="__codelineno-0-193" name="__codelineno-0-193"></a>                    <span style="color: #EFF">section</span><span style="color: #89DDFF">.</span><span style="color: #EFF">entry</span>
</span><span id="__span-0-194"><a id="__codelineno-0-194" name="__codelineno-0-194"></a>                    <span style="color: #BB80B3">if</span> <span style="color: #82AAFF">isinstance</span><span style="color: #89DDFF">(</span><span style="color: #EFF">section</span><span style="color: #89DDFF">.</span><span style="color: #EFF">entry</span><span style="color: #89DDFF">,</span> <span style="color: #82AAFF">list</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-195"><a id="__codelineno-0-195" name="__codelineno-0-195"></a>                    <span style="color: #BB80B3">else</span> <span style="color: #89DDFF">[</span><span style="color: #EFF">section</span><span style="color: #89DDFF">.</span><span style="color: #EFF">entry</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-196"><a id="__codelineno-0-196" name="__codelineno-0-196"></a>                <span style="color: #89DDFF">)</span>
</span><span id="__span-0-197"><a id="__codelineno-0-197" name="__codelineno-0-197"></a>            <span style="color: #BB80B3">else</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-198"><a id="__codelineno-0-198" name="__codelineno-0-198"></a>                <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">warning</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;No entries found for section </span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-199"><a id="__codelineno-0-199" name="__codelineno-0-199"></a>                <span style="color: #BB80B3">return</span> <span style="color: #EFF">entries_dicts</span>
</span><span id="__span-0-200"><a id="__codelineno-0-200" name="__codelineno-0-200"></a>
</span><span id="__span-0-201"><a id="__codelineno-0-201" name="__codelineno-0-201"></a>            <span style="color: #546E7A; font-style: italic"># Convert entries to dictionaries</span>
</span><span id="__span-0-202"><a id="__codelineno-0-202" name="__codelineno-0-202"></a>            <span style="color: #EFF">entry_dicts</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">[</span>
</span><span id="__span-0-203"><a id="__codelineno-0-203" name="__codelineno-0-203"></a>                <span style="color: #EFF">entry</span><span style="color: #89DDFF">.</span><span style="color: #EFF">model_dump</span><span style="color: #89DDFF">(</span><span style="color: #EFF">exclude_none</span><span style="color: #89DDFF">=True,</span> <span style="color: #EFF">by_alias</span><span style="color: #89DDFF">=True)</span>
</span><span id="__span-0-204"><a id="__codelineno-0-204" name="__codelineno-0-204"></a>                <span style="color: #BB80B3">for</span> <span style="color: #EFF">entry</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">entries_dicts</span>
</span><span id="__span-0-205"><a id="__codelineno-0-205" name="__codelineno-0-205"></a>                <span style="color: #BB80B3">if</span> <span style="color: #EFF">entry</span>
</span><span id="__span-0-206"><a id="__codelineno-0-206" name="__codelineno-0-206"></a>            <span style="color: #89DDFF">]</span>
</span><span id="__span-0-207"><a id="__codelineno-0-207" name="__codelineno-0-207"></a>
</span><span id="__span-0-208"><a id="__codelineno-0-208" name="__codelineno-0-208"></a>            <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">debug</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Found </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #EFF">entry_dicts</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D"> entries in section </span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-209"><a id="__codelineno-0-209" name="__codelineno-0-209"></a>
</span><span id="__span-0-210"><a id="__codelineno-0-210" name="__codelineno-0-210"></a>            <span style="color: #BB80B3">return</span> <span style="color: #EFF">entry_dicts</span>
</span><span id="__span-0-211"><a id="__codelineno-0-211" name="__codelineno-0-211"></a>
</span><span id="__span-0-212"><a id="__codelineno-0-212" name="__codelineno-0-212"></a>        <span style="color: #BB80B3">except</span> <span style="color: #FFCB6B">Exception</span> <span style="color: #BB80B3">as</span> <span style="color: #EFF">e</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-213"><a id="__codelineno-0-213" name="__codelineno-0-213"></a>            <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Error parsing section </span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">: </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">e</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-214"><a id="__codelineno-0-214" name="__codelineno-0-214"></a>            <span style="color: #BB80B3">return</span> <span style="color: #EFF">entries_dicts</span>
</span><span id="__span-0-215"><a id="__codelineno-0-215" name="__codelineno-0-215"></a>
</span><span id="__span-0-216"><a id="__codelineno-0-216" name="__codelineno-0-216"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">_find_section_by_template_id</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">section</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Section</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">template_id</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #82AAFF">bool</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-217"><a id="__codelineno-0-217" name="__codelineno-0-217"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Returns True if section has matching template ID&quot;&quot;&quot;</span>
</span><span id="__span-0-218"><a id="__codelineno-0-218" name="__codelineno-0-218"></a>        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">section</span><span style="color: #89DDFF">.</span><span style="color: #EFF">templateId</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-219"><a id="__codelineno-0-219" name="__codelineno-0-219"></a>            <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">False</span>
</span><span id="__span-0-220"><a id="__codelineno-0-220" name="__codelineno-0-220"></a>
</span><span id="__span-0-221"><a id="__codelineno-0-221" name="__codelineno-0-221"></a>        <span style="color: #EFF">template_ids</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">(</span>
</span><span id="__span-0-222"><a id="__codelineno-0-222" name="__codelineno-0-222"></a>            <span style="color: #EFF">section</span><span style="color: #89DDFF">.</span><span style="color: #EFF">templateId</span>
</span><span id="__span-0-223"><a id="__codelineno-0-223" name="__codelineno-0-223"></a>            <span style="color: #BB80B3">if</span> <span style="color: #82AAFF">isinstance</span><span style="color: #89DDFF">(</span><span style="color: #EFF">section</span><span style="color: #89DDFF">.</span><span style="color: #EFF">templateId</span><span style="color: #89DDFF">,</span> <span style="color: #82AAFF">list</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-224"><a id="__codelineno-0-224" name="__codelineno-0-224"></a>            <span style="color: #BB80B3">else</span> <span style="color: #89DDFF">[</span><span style="color: #EFF">section</span><span style="color: #89DDFF">.</span><span style="color: #EFF">templateId</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-225"><a id="__codelineno-0-225" name="__codelineno-0-225"></a>        <span style="color: #89DDFF">)</span>
</span><span id="__span-0-226"><a id="__codelineno-0-226" name="__codelineno-0-226"></a>        <span style="color: #BB80B3">return</span> <span style="color: #82AAFF">any</span><span style="color: #89DDFF">(</span><span style="color: #EFF">tid</span><span style="color: #89DDFF">.</span><span style="color: #EFF">root</span> <span style="color: #89DDFF">==</span> <span style="color: #EFF">template_id</span> <span style="color: #BB80B3">for</span> <span style="color: #EFF">tid</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">template_ids</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-227"><a id="__codelineno-0-227" name="__codelineno-0-227"></a>
</span><span id="__span-0-228"><a id="__codelineno-0-228" name="__codelineno-0-228"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">_find_section_by_code</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">section</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Section</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">code</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #82AAFF">bool</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-229"><a id="__codelineno-0-229" name="__codelineno-0-229"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Returns True if section has matching code&quot;&quot;&quot;</span>
</span><span id="__span-0-230"><a id="__codelineno-0-230" name="__codelineno-0-230"></a>        <span style="color: #BB80B3">return</span> <span style="color: #82AAFF">bool</span><span style="color: #89DDFF">(</span><span style="color: #EFF">section</span><span style="color: #89DDFF">.</span><span style="color: #EFF">code</span> <span style="color: #89DDFF; font-style: italic">and</span> <span style="color: #EFF">section</span><span style="color: #89DDFF">.</span><span style="color: #EFF">code</span><span style="color: #89DDFF">.</span><span style="color: #EFF">code</span> <span style="color: #89DDFF">==</span> <span style="color: #EFF">code</span><span style="color: #89DDFF">)</span>
</span></code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.parsers.cda.CDAParser.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #82AAFF">__init__</span><span style="color: #89DDFF">(</span><span style="color: #EFF">config</span><span style="color: #89DDFF">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initialize the CDA parser.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>config</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>InteropConfigManager instance containing section configurations,
   templates, and mapping rules for CDA document parsing</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-internal" title="InteropConfigManager (healthchain.interop.config_manager.InteropConfigManager)" href="#healthchain.interop.config_manager.InteropConfigManager">InteropConfigManager</a></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/parsers/cda.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-41">41</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-42">42</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-43">43</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-44">44</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-45">45</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-46">46</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-47">47</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-48">48</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-49">49</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-41"><a id="__codelineno-0-41" name="__codelineno-0-41"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">__init__</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">config</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">InteropConfigManager</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-42"><a id="__codelineno-0-42" name="__codelineno-0-42"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Initialize the CDA parser.</span>
</span><span id="__span-0-43"><a id="__codelineno-0-43" name="__codelineno-0-43"></a>
</span><span id="__span-0-44"><a id="__codelineno-0-44" name="__codelineno-0-44"></a><span style="color: #546E7A; font-style: italic">    Args:</span>
</span><span id="__span-0-45"><a id="__codelineno-0-45" name="__codelineno-0-45"></a><span style="color: #546E7A; font-style: italic">        config: InteropConfigManager instance containing section configurations,</span>
</span><span id="__span-0-46"><a id="__codelineno-0-46" name="__codelineno-0-46"></a><span style="color: #546E7A; font-style: italic">               templates, and mapping rules for CDA document parsing</span>
</span><span id="__span-0-47"><a id="__codelineno-0-47" name="__codelineno-0-47"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-48"><a id="__codelineno-0-48" name="__codelineno-0-48"></a>    <span style="color: #82AAFF">super</span><span style="color: #89DDFF">().</span><span style="color: #82AAFF">__init__</span><span style="color: #89DDFF">(</span><span style="color: #EFF">config</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-49"><a id="__codelineno-0-49" name="__codelineno-0-49"></a>    <span style="color: #89DDFF">self.</span><span style="color: #EFF">clinical_document</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.parsers.cda.CDAParser.from_string" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">from_string</span><span style="color: #89DDFF">(</span><span style="color: #EFF">data</span><span style="color: #89DDFF">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Parse input data and convert it to a structured format.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The CDA XML document string to parse</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="dict">dict</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>A dictionary containing the parsed data structure with sections</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/parsers/cda.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-51">51</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-52">52</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-53">53</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-54">54</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-55">55</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-56">56</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-57">57</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-58">58</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-59">59</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-60">60</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-61">61</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-51"><a id="__codelineno-0-51" name="__codelineno-0-51"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">from_string</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">data</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #82AAFF">dict</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-52"><a id="__codelineno-0-52" name="__codelineno-0-52"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;</span>
</span><span id="__span-0-53"><a id="__codelineno-0-53" name="__codelineno-0-53"></a><span style="color: #546E7A; font-style: italic">    Parse input data and convert it to a structured format.</span>
</span><span id="__span-0-54"><a id="__codelineno-0-54" name="__codelineno-0-54"></a>
</span><span id="__span-0-55"><a id="__codelineno-0-55" name="__codelineno-0-55"></a><span style="color: #546E7A; font-style: italic">    Args:</span>
</span><span id="__span-0-56"><a id="__codelineno-0-56" name="__codelineno-0-56"></a><span style="color: #546E7A; font-style: italic">        data: The CDA XML document string to parse</span>
</span><span id="__span-0-57"><a id="__codelineno-0-57" name="__codelineno-0-57"></a>
</span><span id="__span-0-58"><a id="__codelineno-0-58" name="__codelineno-0-58"></a><span style="color: #546E7A; font-style: italic">    Returns:</span>
</span><span id="__span-0-59"><a id="__codelineno-0-59" name="__codelineno-0-59"></a><span style="color: #546E7A; font-style: italic">        A dictionary containing the parsed data structure with sections</span>
</span><span id="__span-0-60"><a id="__codelineno-0-60" name="__codelineno-0-60"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-61"><a id="__codelineno-0-61" name="__codelineno-0-61"></a>    <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">parse_document</span><span style="color: #89DDFF">(</span><span style="color: #EFF">data</span><span style="color: #89DDFF">)</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.parsers.cda.CDAParser.parse_document" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">parse_document</span><span style="color: #89DDFF">(</span><span style="color: #EFF">xml</span><span style="color: #89DDFF">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Parse a complete CDA document and extract entries from all configured sections.</p>
<p>This method parses a CDA XML document and extracts entries from each section that is
defined in the configuration. It uses xmltodict to parse the XML into a dictionary
and then processes each configured section to extract its entries.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>xml</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The CDA XML document string to parse</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.List">List</span>[<span title="typing.Dict">Dict</span>]]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Dict[str, List[Dict]]: Dictionary mapping section keys (e.g. "problems",
"medications") to lists of entry dictionaries containing the parsed data
from that section (xmltodict format).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="ValueError">ValueError</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If the XML string is empty or invalid</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="Exception">Exception</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If there is an error parsing the document or any section</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>parser = CDAParser(config)
sections = parser.from_string(cda_xml)
problems = sections.get("problems", [])</p>
</blockquote>
</blockquote>
</blockquote>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/parsers/cda.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-63"> 63</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-64"> 64</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-65"> 65</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-66"> 66</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-67"> 67</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-68"> 68</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-69"> 69</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-70"> 70</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-71"> 71</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-72"> 72</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-73"> 73</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-74"> 74</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-75"> 75</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-76"> 76</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-77"> 77</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-78"> 78</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-79"> 79</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-80"> 80</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-81"> 81</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-82"> 82</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-83"> 83</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-84"> 84</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-85"> 85</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-86"> 86</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-87"> 87</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-88"> 88</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-89"> 89</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-90"> 90</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-91"> 91</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-92"> 92</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-93"> 93</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-94"> 94</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-95"> 95</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-96"> 96</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-97"> 97</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-98"> 98</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-99"> 99</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-100">100</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-101">101</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-102">102</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-103">103</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-104">104</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-105">105</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-106">106</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-107">107</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-108">108</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-109">109</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-110">110</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-111">111</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-112">112</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-113">113</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-63"><a id="__codelineno-0-63" name="__codelineno-0-63"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">parse_document</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">xml</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">Dict</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">]]:</span>
</span><span id="__span-0-64"><a id="__codelineno-0-64" name="__codelineno-0-64"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Parse a complete CDA document and extract entries from all configured sections.</span>
</span><span id="__span-0-65"><a id="__codelineno-0-65" name="__codelineno-0-65"></a>
</span><span id="__span-0-66"><a id="__codelineno-0-66" name="__codelineno-0-66"></a><span style="color: #546E7A; font-style: italic">    This method parses a CDA XML document and extracts entries from each section that is</span>
</span><span id="__span-0-67"><a id="__codelineno-0-67" name="__codelineno-0-67"></a><span style="color: #546E7A; font-style: italic">    defined in the configuration. It uses xmltodict to parse the XML into a dictionary</span>
</span><span id="__span-0-68"><a id="__codelineno-0-68" name="__codelineno-0-68"></a><span style="color: #546E7A; font-style: italic">    and then processes each configured section to extract its entries.</span>
</span><span id="__span-0-69"><a id="__codelineno-0-69" name="__codelineno-0-69"></a>
</span><span id="__span-0-70"><a id="__codelineno-0-70" name="__codelineno-0-70"></a><span style="color: #546E7A; font-style: italic">    Args:</span>
</span><span id="__span-0-71"><a id="__codelineno-0-71" name="__codelineno-0-71"></a><span style="color: #546E7A; font-style: italic">        xml: The CDA XML document string to parse</span>
</span><span id="__span-0-72"><a id="__codelineno-0-72" name="__codelineno-0-72"></a>
</span><span id="__span-0-73"><a id="__codelineno-0-73" name="__codelineno-0-73"></a><span style="color: #546E7A; font-style: italic">    Returns:</span>
</span><span id="__span-0-74"><a id="__codelineno-0-74" name="__codelineno-0-74"></a><span style="color: #546E7A; font-style: italic">        Dict[str, List[Dict]]: Dictionary mapping section keys (e.g. &quot;problems&quot;,</span>
</span><span id="__span-0-75"><a id="__codelineno-0-75" name="__codelineno-0-75"></a><span style="color: #546E7A; font-style: italic">            &quot;medications&quot;) to lists of entry dictionaries containing the parsed data</span>
</span><span id="__span-0-76"><a id="__codelineno-0-76" name="__codelineno-0-76"></a><span style="color: #546E7A; font-style: italic">            from that section (xmltodict format).</span>
</span><span id="__span-0-77"><a id="__codelineno-0-77" name="__codelineno-0-77"></a>
</span><span id="__span-0-78"><a id="__codelineno-0-78" name="__codelineno-0-78"></a><span style="color: #546E7A; font-style: italic">    Raises:</span>
</span><span id="__span-0-79"><a id="__codelineno-0-79" name="__codelineno-0-79"></a><span style="color: #546E7A; font-style: italic">        ValueError: If the XML string is empty or invalid</span>
</span><span id="__span-0-80"><a id="__codelineno-0-80" name="__codelineno-0-80"></a><span style="color: #546E7A; font-style: italic">        Exception: If there is an error parsing the document or any section</span>
</span><span id="__span-0-81"><a id="__codelineno-0-81" name="__codelineno-0-81"></a>
</span><span id="__span-0-82"><a id="__codelineno-0-82" name="__codelineno-0-82"></a><span style="color: #546E7A; font-style: italic">    Example:</span>
</span><span id="__span-0-83"><a id="__codelineno-0-83" name="__codelineno-0-83"></a><span style="color: #546E7A; font-style: italic">        &gt;&gt;&gt; parser = CDAParser(config)</span>
</span><span id="__span-0-84"><a id="__codelineno-0-84" name="__codelineno-0-84"></a><span style="color: #546E7A; font-style: italic">        &gt;&gt;&gt; sections = parser.from_string(cda_xml)</span>
</span><span id="__span-0-85"><a id="__codelineno-0-85" name="__codelineno-0-85"></a><span style="color: #546E7A; font-style: italic">        &gt;&gt;&gt; problems = sections.get(&quot;problems&quot;, [])</span>
</span><span id="__span-0-86"><a id="__codelineno-0-86" name="__codelineno-0-86"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-87"><a id="__codelineno-0-87" name="__codelineno-0-87"></a>    <span style="color: #EFF">section_entries</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">{}</span>
</span><span id="__span-0-88"><a id="__codelineno-0-88" name="__codelineno-0-88"></a>
</span><span id="__span-0-89"><a id="__codelineno-0-89" name="__codelineno-0-89"></a>    <span style="color: #546E7A; font-style: italic"># Parse the document once</span>
</span><span id="__span-0-90"><a id="__codelineno-0-90" name="__codelineno-0-90"></a>    <span style="color: #BB80B3">try</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-91"><a id="__codelineno-0-91" name="__codelineno-0-91"></a>        <span style="color: #EFF">doc_dict</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">xmltodict</span><span style="color: #89DDFF">.</span><span style="color: #EFF">parse</span><span style="color: #89DDFF">(</span><span style="color: #EFF">xml</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-92"><a id="__codelineno-0-92" name="__codelineno-0-92"></a>        <span style="color: #89DDFF">self.</span><span style="color: #EFF">clinical_document</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">ClinicalDocument</span><span style="color: #89DDFF">(**</span><span style="color: #EFF">doc_dict</span><span style="color: #89DDFF">[</span><span style="color: #C3E88D">&quot;ClinicalDocument&quot;</span><span style="color: #89DDFF">])</span>
</span><span id="__span-0-93"><a id="__codelineno-0-93" name="__codelineno-0-93"></a>    <span style="color: #BB80B3">except</span> <span style="color: #FFCB6B">Exception</span> <span style="color: #BB80B3">as</span> <span style="color: #EFF">e</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-94"><a id="__codelineno-0-94" name="__codelineno-0-94"></a>        <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Error parsing CDA document: </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">e</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-95"><a id="__codelineno-0-95" name="__codelineno-0-95"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">section_entries</span>
</span><span id="__span-0-96"><a id="__codelineno-0-96" name="__codelineno-0-96"></a>
</span><span id="__span-0-97"><a id="__codelineno-0-97" name="__codelineno-0-97"></a>    <span style="color: #546E7A; font-style: italic"># Get section configurations</span>
</span><span id="__span-0-98"><a id="__codelineno-0-98" name="__codelineno-0-98"></a>    <span style="color: #EFF">sections</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_cda_section_configs</span><span style="color: #89DDFF">()</span>
</span><span id="__span-0-99"><a id="__codelineno-0-99" name="__codelineno-0-99"></a>    <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">sections</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-100"><a id="__codelineno-0-100" name="__codelineno-0-100"></a>        <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">warning</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;No sections found in configuration&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-101"><a id="__codelineno-0-101" name="__codelineno-0-101"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">section_entries</span>
</span><span id="__span-0-102"><a id="__codelineno-0-102" name="__codelineno-0-102"></a>
</span><span id="__span-0-103"><a id="__codelineno-0-103" name="__codelineno-0-103"></a>    <span style="color: #546E7A; font-style: italic"># Process each section from the configuration</span>
</span><span id="__span-0-104"><a id="__codelineno-0-104" name="__codelineno-0-104"></a>    <span style="color: #BB80B3">for</span> <span style="color: #EFF">section_key</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">sections</span><span style="color: #89DDFF">.</span><span style="color: #EFF">keys</span><span style="color: #89DDFF">():</span>
</span><span id="__span-0-105"><a id="__codelineno-0-105" name="__codelineno-0-105"></a>        <span style="color: #BB80B3">try</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-106"><a id="__codelineno-0-106" name="__codelineno-0-106"></a>            <span style="color: #EFF">entries</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_parse_section_entries_from_document</span><span style="color: #89DDFF">(</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-107"><a id="__codelineno-0-107" name="__codelineno-0-107"></a>            <span style="color: #BB80B3">if</span> <span style="color: #EFF">entries</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-108"><a id="__codelineno-0-108" name="__codelineno-0-108"></a>                <span style="color: #EFF">section_entries</span><span style="color: #89DDFF">[</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">entries</span>
</span><span id="__span-0-109"><a id="__codelineno-0-109" name="__codelineno-0-109"></a>        <span style="color: #BB80B3">except</span> <span style="color: #FFCB6B">Exception</span> <span style="color: #BB80B3">as</span> <span style="color: #EFF">e</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-110"><a id="__codelineno-0-110" name="__codelineno-0-110"></a>            <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Failed to parse section </span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">: </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">e</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-111"><a id="__codelineno-0-111" name="__codelineno-0-111"></a>            <span style="color: #BB80B3">continue</span>
</span><span id="__span-0-112"><a id="__codelineno-0-112" name="__codelineno-0-112"></a>
</span><span id="__span-0-113"><a id="__codelineno-0-113" name="__codelineno-0-113"></a>    <span style="color: #BB80B3">return</span> <span style="color: #EFF">section_entries</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="healthchain.interop.generators.cda"></a>
    <div class="doc doc-contents first">

        <p>CDA Generator for HealthChain Interoperability Engine</p>
<p>This module provides functionality for generating CDA documents.</p>










<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="healthchain.interop.generators.cda.CDAGenerator" class="doc doc-heading">
            <code>CDAGenerator</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="healthchain.interop.generators.base.BaseGenerator">BaseGenerator</span></code></p>



        <p>Handles generation of CDA documents from FHIR resources.</p>
<p>This class provides functionality to convert FHIR resources into CDA (Clinical Document Architecture)
documents using configurable templates. It handles the mapping of resources to appropriate CDA sections,
rendering of entries and sections, and generation of the final XML document.</p>


<details class="example" open>
  <summary>Example</summary>
  <p>generator = CDAGenerator(config_manager, template_registry)</p>
<h3 id="healthchain.interop.generators.cda.CDAGenerator--convert-fhir-resources-to-cda-xml-document">Convert FHIR resources to CDA XML document</h3>
<p>cda_xml = generator.transform(
    resources=fhir_resources,
    document_type="ccd"
)</p>
</details>







              <details class="mkdocstrings-source">
                <summary>Source code in <code>healthchain/interop/generators/cda.py</code></summary>
                <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-45"> 45</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-46"> 46</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-47"> 47</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-48"> 48</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-49"> 49</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-50"> 50</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-51"> 51</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-52"> 52</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-53"> 53</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-54"> 54</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-55"> 55</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-56"> 56</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-57"> 57</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-58"> 58</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-59"> 59</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-60"> 60</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-61"> 61</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-62"> 62</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-63"> 63</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-64"> 64</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-65"> 65</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-66"> 66</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-67"> 67</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-68"> 68</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-69"> 69</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-70"> 70</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-71"> 71</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-72"> 72</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-73"> 73</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-74"> 74</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-75"> 75</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-76"> 76</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-77"> 77</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-78"> 78</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-79"> 79</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-80"> 80</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-81"> 81</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-82"> 82</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-83"> 83</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-84"> 84</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-85"> 85</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-86"> 86</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-87"> 87</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-88"> 88</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-89"> 89</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-90"> 90</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-91"> 91</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-92"> 92</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-93"> 93</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-94"> 94</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-95"> 95</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-96"> 96</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-97"> 97</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-98"> 98</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-99"> 99</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-100">100</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-101">101</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-102">102</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-103">103</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-104">104</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-105">105</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-106">106</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-107">107</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-108">108</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-109">109</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-110">110</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-111">111</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-112">112</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-113">113</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-114">114</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-115">115</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-116">116</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-117">117</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-118">118</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-119">119</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-120">120</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-121">121</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-122">122</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-123">123</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-124">124</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-125">125</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-126">126</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-127">127</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-128">128</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-129">129</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-130">130</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-131">131</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-132">132</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-133">133</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-134">134</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-135">135</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-136">136</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-137">137</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-138">138</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-139">139</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-140">140</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-141">141</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-142">142</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-143">143</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-144">144</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-145">145</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-146">146</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-147">147</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-148">148</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-149">149</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-150">150</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-151">151</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-152">152</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-153">153</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-154">154</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-155">155</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-156">156</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-157">157</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-158">158</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-159">159</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-160">160</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-161">161</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-162">162</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-163">163</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-164">164</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-165">165</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-166">166</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-167">167</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-168">168</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-169">169</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-170">170</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-171">171</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-172">172</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-173">173</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-174">174</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-175">175</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-176">176</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-177">177</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-178">178</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-179">179</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-180">180</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-181">181</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-182">182</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-183">183</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-184">184</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-185">185</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-186">186</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-187">187</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-188">188</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-189">189</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-190">190</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-191">191</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-192">192</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-193">193</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-194">194</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-195">195</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-196">196</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-197">197</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-198">198</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-199">199</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-200">200</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-201">201</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-202">202</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-203">203</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-204">204</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-205">205</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-206">206</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-207">207</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-208">208</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-209">209</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-210">210</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-211">211</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-212">212</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-213">213</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-214">214</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-215">215</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-216">216</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-217">217</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-218">218</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-219">219</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-220">220</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-221">221</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-222">222</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-223">223</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-224">224</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-225">225</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-226">226</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-227">227</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-228">228</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-229">229</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-230">230</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-231">231</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-232">232</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-233">233</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-234">234</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-235">235</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-236">236</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-237">237</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-238">238</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-239">239</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-240">240</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-241">241</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-242">242</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-243">243</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-244">244</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-245">245</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-246">246</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-247">247</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-248">248</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-249">249</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-250">250</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-251">251</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-252">252</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-253">253</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-254">254</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-255">255</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-256">256</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-257">257</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-258">258</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-259">259</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-260">260</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-261">261</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-262">262</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-263">263</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-264">264</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-265">265</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-266">266</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-267">267</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-268">268</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-269">269</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-270">270</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-271">271</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-272">272</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-273">273</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-274">274</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-275">275</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-276">276</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-277">277</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-278">278</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-279">279</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-280">280</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-281">281</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-282">282</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-283">283</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-284">284</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-285">285</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-286">286</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-287">287</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-288">288</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-289">289</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-290">290</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-291">291</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-292">292</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-293">293</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-294">294</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-295">295</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-296">296</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-297">297</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-298">298</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-299">299</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-300">300</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-301">301</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-302">302</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-303">303</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-304">304</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-305">305</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-306">306</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-307">307</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-308">308</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-309">309</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-310">310</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-311">311</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-312">312</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-313">313</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-314">314</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-315">315</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-316">316</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-317">317</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-318">318</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-319">319</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-320">320</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-321">321</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-322">322</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-323">323</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-324">324</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-325">325</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-326">326</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-327">327</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-328">328</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-329">329</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-330">330</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-331">331</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-332">332</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-333">333</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-334">334</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-335">335</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-336">336</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-337">337</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-338">338</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-339">339</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-340">340</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-341">341</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-342">342</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-343">343</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-344">344</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-345">345</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-346">346</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-347">347</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-348">348</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-349">349</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-350">350</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-351">351</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-352">352</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-353">353</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-354">354</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-355">355</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-356">356</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-357">357</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-358">358</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-359">359</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-360">360</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-361">361</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-362">362</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-363">363</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-364">364</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-365">365</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-366">366</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-45"><a id="__codelineno-0-45" name="__codelineno-0-45"></a><span style="color: #BB80B3">class</span><span style="color: #EFF"> </span><span style="color: #FFCB6B">CDAGenerator</span><span style="color: #89DDFF">(</span><span style="color: #EFF">BaseGenerator</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-46"><a id="__codelineno-0-46" name="__codelineno-0-46"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Handles generation of CDA documents from FHIR resources.</span>
</span><span id="__span-0-47"><a id="__codelineno-0-47" name="__codelineno-0-47"></a>
</span><span id="__span-0-48"><a id="__codelineno-0-48" name="__codelineno-0-48"></a><span style="color: #546E7A; font-style: italic">    This class provides functionality to convert FHIR resources into CDA (Clinical Document Architecture)</span>
</span><span id="__span-0-49"><a id="__codelineno-0-49" name="__codelineno-0-49"></a><span style="color: #546E7A; font-style: italic">    documents using configurable templates. It handles the mapping of resources to appropriate CDA sections,</span>
</span><span id="__span-0-50"><a id="__codelineno-0-50" name="__codelineno-0-50"></a><span style="color: #546E7A; font-style: italic">    rendering of entries and sections, and generation of the final XML document.</span>
</span><span id="__span-0-51"><a id="__codelineno-0-51" name="__codelineno-0-51"></a>
</span><span id="__span-0-52"><a id="__codelineno-0-52" name="__codelineno-0-52"></a><span style="color: #546E7A; font-style: italic">    Example:</span>
</span><span id="__span-0-53"><a id="__codelineno-0-53" name="__codelineno-0-53"></a><span style="color: #546E7A; font-style: italic">        generator = CDAGenerator(config_manager, template_registry)</span>
</span><span id="__span-0-54"><a id="__codelineno-0-54" name="__codelineno-0-54"></a>
</span><span id="__span-0-55"><a id="__codelineno-0-55" name="__codelineno-0-55"></a><span style="color: #546E7A; font-style: italic">        # Convert FHIR resources to CDA XML document</span>
</span><span id="__span-0-56"><a id="__codelineno-0-56" name="__codelineno-0-56"></a><span style="color: #546E7A; font-style: italic">        cda_xml = generator.transform(</span>
</span><span id="__span-0-57"><a id="__codelineno-0-57" name="__codelineno-0-57"></a><span style="color: #546E7A; font-style: italic">            resources=fhir_resources,</span>
</span><span id="__span-0-58"><a id="__codelineno-0-58" name="__codelineno-0-58"></a><span style="color: #546E7A; font-style: italic">            document_type=&quot;ccd&quot;</span>
</span><span id="__span-0-59"><a id="__codelineno-0-59" name="__codelineno-0-59"></a><span style="color: #546E7A; font-style: italic">        )</span>
</span><span id="__span-0-60"><a id="__codelineno-0-60" name="__codelineno-0-60"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-61"><a id="__codelineno-0-61" name="__codelineno-0-61"></a>
</span><span id="__span-0-62"><a id="__codelineno-0-62" name="__codelineno-0-62"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">transform</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">resources</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Resource</span><span style="color: #89DDFF">],</span> <span style="color: #89DDFF">**</span><span style="color: #EFF">kwargs</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Any</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-63"><a id="__codelineno-0-63" name="__codelineno-0-63"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Transform FHIR resources to CDA format.</span>
</span><span id="__span-0-64"><a id="__codelineno-0-64" name="__codelineno-0-64"></a>
</span><span id="__span-0-65"><a id="__codelineno-0-65" name="__codelineno-0-65"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-66"><a id="__codelineno-0-66" name="__codelineno-0-66"></a><span style="color: #546E7A; font-style: italic">            resources: List of FHIR resources</span>
</span><span id="__span-0-67"><a id="__codelineno-0-67" name="__codelineno-0-67"></a><span style="color: #546E7A; font-style: italic">            **kwargs:</span>
</span><span id="__span-0-68"><a id="__codelineno-0-68" name="__codelineno-0-68"></a><span style="color: #546E7A; font-style: italic">                document_type: Type of CDA document</span>
</span><span id="__span-0-69"><a id="__codelineno-0-69" name="__codelineno-0-69"></a>
</span><span id="__span-0-70"><a id="__codelineno-0-70" name="__codelineno-0-70"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-71"><a id="__codelineno-0-71" name="__codelineno-0-71"></a><span style="color: #546E7A; font-style: italic">            str: CDA document as XML string</span>
</span><span id="__span-0-72"><a id="__codelineno-0-72" name="__codelineno-0-72"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-73"><a id="__codelineno-0-73" name="__codelineno-0-73"></a>        <span style="color: #546E7A; font-style: italic"># TODO: add validation</span>
</span><span id="__span-0-74"><a id="__codelineno-0-74" name="__codelineno-0-74"></a>        <span style="color: #EFF">document_type</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">kwargs</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;document_type&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #C3E88D">&quot;ccd&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-75"><a id="__codelineno-0-75" name="__codelineno-0-75"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">generate_document_from_fhir_resources</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resources</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">document_type</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-76"><a id="__codelineno-0-76" name="__codelineno-0-76"></a>
</span><span id="__span-0-77"><a id="__codelineno-0-77" name="__codelineno-0-77"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">generate_document_from_fhir_resources</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-78"><a id="__codelineno-0-78" name="__codelineno-0-78"></a>        <span style="color: #89DDFF">self,</span>
</span><span id="__span-0-79"><a id="__codelineno-0-79" name="__codelineno-0-79"></a>        <span style="color: #EFF">resources</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Resource</span><span style="color: #89DDFF">],</span>
</span><span id="__span-0-80"><a id="__codelineno-0-80" name="__codelineno-0-80"></a>        <span style="color: #EFF">document_type</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span>
</span><span id="__span-0-81"><a id="__codelineno-0-81" name="__codelineno-0-81"></a>        <span style="color: #EFF">validate</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">bool</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">True,</span>
</span><span id="__span-0-82"><a id="__codelineno-0-82" name="__codelineno-0-82"></a>    <span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-83"><a id="__codelineno-0-83" name="__codelineno-0-83"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Generate a complete CDA document from FHIR resources</span>
</span><span id="__span-0-84"><a id="__codelineno-0-84" name="__codelineno-0-84"></a>
</span><span id="__span-0-85"><a id="__codelineno-0-85" name="__codelineno-0-85"></a><span style="color: #546E7A; font-style: italic">        This method handles the entire process of generating a CDA document:</span>
</span><span id="__span-0-86"><a id="__codelineno-0-86" name="__codelineno-0-86"></a><span style="color: #546E7A; font-style: italic">        1. Mapping FHIR resources to CDA sections (config)</span>
</span><span id="__span-0-87"><a id="__codelineno-0-87" name="__codelineno-0-87"></a><span style="color: #546E7A; font-style: italic">        2. Rendering sections (template)</span>
</span><span id="__span-0-88"><a id="__codelineno-0-88" name="__codelineno-0-88"></a><span style="color: #546E7A; font-style: italic">        3. Generating the final document (template)</span>
</span><span id="__span-0-89"><a id="__codelineno-0-89" name="__codelineno-0-89"></a>
</span><span id="__span-0-90"><a id="__codelineno-0-90" name="__codelineno-0-90"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-91"><a id="__codelineno-0-91" name="__codelineno-0-91"></a><span style="color: #546E7A; font-style: italic">            resources: FHIR resources to include in the document</span>
</span><span id="__span-0-92"><a id="__codelineno-0-92" name="__codelineno-0-92"></a><span style="color: #546E7A; font-style: italic">            document_type: Type of document to generate</span>
</span><span id="__span-0-93"><a id="__codelineno-0-93" name="__codelineno-0-93"></a><span style="color: #546E7A; font-style: italic">            validate: Whether to validate the CDA document (default: True)</span>
</span><span id="__span-0-94"><a id="__codelineno-0-94" name="__codelineno-0-94"></a>
</span><span id="__span-0-95"><a id="__codelineno-0-95" name="__codelineno-0-95"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-96"><a id="__codelineno-0-96" name="__codelineno-0-96"></a><span style="color: #546E7A; font-style: italic">            CDA document as XML string</span>
</span><span id="__span-0-97"><a id="__codelineno-0-97" name="__codelineno-0-97"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-98"><a id="__codelineno-0-98" name="__codelineno-0-98"></a>        <span style="color: #EFF">mapped_entries</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_get_mapped_entries</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resources</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">document_type</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-99"><a id="__codelineno-0-99" name="__codelineno-0-99"></a>        <span style="color: #EFF">sections</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_render_sections</span><span style="color: #89DDFF">(</span><span style="color: #EFF">mapped_entries</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">document_type</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-100"><a id="__codelineno-0-100" name="__codelineno-0-100"></a>
</span><span id="__span-0-101"><a id="__codelineno-0-101" name="__codelineno-0-101"></a>        <span style="color: #546E7A; font-style: italic"># Generate final CDA document</span>
</span><span id="__span-0-102"><a id="__codelineno-0-102" name="__codelineno-0-102"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_render_document</span><span style="color: #89DDFF">(</span><span style="color: #EFF">sections</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">document_type</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">validate</span><span style="color: #89DDFF">=</span><span style="color: #EFF">validate</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-103"><a id="__codelineno-0-103" name="__codelineno-0-103"></a>
</span><span id="__span-0-104"><a id="__codelineno-0-104" name="__codelineno-0-104"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">_render_entry</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-105"><a id="__codelineno-0-105" name="__codelineno-0-105"></a>        <span style="color: #89DDFF">self,</span>
</span><span id="__span-0-106"><a id="__codelineno-0-106" name="__codelineno-0-106"></a>        <span style="color: #EFF">resource</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Resource</span><span style="color: #89DDFF">,</span>
</span><span id="__span-0-107"><a id="__codelineno-0-107" name="__codelineno-0-107"></a>        <span style="color: #EFF">config_key</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span>
</span><span id="__span-0-108"><a id="__codelineno-0-108" name="__codelineno-0-108"></a>    <span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">]:</span>
</span><span id="__span-0-109"><a id="__codelineno-0-109" name="__codelineno-0-109"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Render a single entry for a resource</span>
</span><span id="__span-0-110"><a id="__codelineno-0-110" name="__codelineno-0-110"></a>
</span><span id="__span-0-111"><a id="__codelineno-0-111" name="__codelineno-0-111"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-112"><a id="__codelineno-0-112" name="__codelineno-0-112"></a><span style="color: #546E7A; font-style: italic">            resource: FHIR resource</span>
</span><span id="__span-0-113"><a id="__codelineno-0-113" name="__codelineno-0-113"></a><span style="color: #546E7A; font-style: italic">            config_key: Key identifying the section</span>
</span><span id="__span-0-114"><a id="__codelineno-0-114" name="__codelineno-0-114"></a>
</span><span id="__span-0-115"><a id="__codelineno-0-115" name="__codelineno-0-115"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-116"><a id="__codelineno-0-116" name="__codelineno-0-116"></a><span style="color: #546E7A; font-style: italic">            Dictionary representation of the rendered entry (xmltodict)</span>
</span><span id="__span-0-117"><a id="__codelineno-0-117" name="__codelineno-0-117"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-118"><a id="__codelineno-0-118" name="__codelineno-0-118"></a>        <span style="color: #BB80B3">try</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-119"><a id="__codelineno-0-119" name="__codelineno-0-119"></a>            <span style="color: #546E7A; font-style: italic"># Get validated section configuration</span>
</span><span id="__span-0-120"><a id="__codelineno-0-120" name="__codelineno-0-120"></a>            <span style="color: #EFF">section_config</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_cda_section_configs</span><span style="color: #89DDFF">(</span><span style="color: #EFF">config_key</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-121"><a id="__codelineno-0-121" name="__codelineno-0-121"></a>
</span><span id="__span-0-122"><a id="__codelineno-0-122" name="__codelineno-0-122"></a>            <span style="color: #EFF">timestamp_format</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_config_value</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-123"><a id="__codelineno-0-123" name="__codelineno-0-123"></a>                <span style="color: #C3E88D">&quot;defaults.common.timestamp&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #C3E88D">&quot;%Y%m</span><span style="color: #89DDFF">%d</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-124"><a id="__codelineno-0-124" name="__codelineno-0-124"></a>            <span style="color: #89DDFF">)</span>
</span><span id="__span-0-125"><a id="__codelineno-0-125" name="__codelineno-0-125"></a>            <span style="color: #EFF">timestamp</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">datetime</span><span style="color: #89DDFF">.</span><span style="color: #EFF">now</span><span style="color: #89DDFF">().</span><span style="color: #EFF">strftime</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">format</span><span style="color: #89DDFF">=</span><span style="color: #EFF">timestamp_format</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-126"><a id="__codelineno-0-126" name="__codelineno-0-126"></a>
</span><span id="__span-0-127"><a id="__codelineno-0-127" name="__codelineno-0-127"></a>            <span style="color: #EFF">id_format</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_config_value</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-128"><a id="__codelineno-0-128" name="__codelineno-0-128"></a>                <span style="color: #C3E88D">&quot;defaults.common.reference_name&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #C3E88D">&quot;#</span><span style="color: #89DDFF">{uuid}</span><span style="color: #C3E88D">name&quot;</span>
</span><span id="__span-0-129"><a id="__codelineno-0-129" name="__codelineno-0-129"></a>            <span style="color: #89DDFF">)</span>
</span><span id="__span-0-130"><a id="__codelineno-0-130" name="__codelineno-0-130"></a>            <span style="color: #EFF">reference_name</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">id_format</span><span style="color: #89DDFF">.</span><span style="color: #EFF">replace</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">{uuid}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">uuid</span><span style="color: #89DDFF">.</span><span style="color: #EFF">uuid4</span><span style="color: #89DDFF">())[:</span><span style="color: #F78C6C">8</span><span style="color: #89DDFF">])</span>
</span><span id="__span-0-131"><a id="__codelineno-0-131" name="__codelineno-0-131"></a>
</span><span id="__span-0-132"><a id="__codelineno-0-132" name="__codelineno-0-132"></a>            <span style="color: #546E7A; font-style: italic"># Create context</span>
</span><span id="__span-0-133"><a id="__codelineno-0-133" name="__codelineno-0-133"></a>            <span style="color: #EFF">context</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">{</span>
</span><span id="__span-0-134"><a id="__codelineno-0-134" name="__codelineno-0-134"></a>                <span style="color: #C3E88D">&quot;timestamp&quot;</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">timestamp</span><span style="color: #89DDFF">,</span>
</span><span id="__span-0-135"><a id="__codelineno-0-135" name="__codelineno-0-135"></a>                <span style="color: #C3E88D">&quot;text_reference_name&quot;</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">reference_name</span><span style="color: #89DDFF">,</span>
</span><span id="__span-0-136"><a id="__codelineno-0-136" name="__codelineno-0-136"></a>                <span style="color: #C3E88D">&quot;resource&quot;</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">resource</span><span style="color: #89DDFF">.</span><span style="color: #EFF">model_dump</span><span style="color: #89DDFF">(</span><span style="color: #EFF">exclude_none</span><span style="color: #89DDFF">=True),</span>
</span><span id="__span-0-137"><a id="__codelineno-0-137" name="__codelineno-0-137"></a>                <span style="color: #C3E88D">&quot;config&quot;</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">section_config</span><span style="color: #89DDFF">,</span>
</span><span id="__span-0-138"><a id="__codelineno-0-138" name="__codelineno-0-138"></a>            <span style="color: #89DDFF">}</span>
</span><span id="__span-0-139"><a id="__codelineno-0-139" name="__codelineno-0-139"></a>
</span><span id="__span-0-140"><a id="__codelineno-0-140" name="__codelineno-0-140"></a>            <span style="color: #546E7A; font-style: italic"># Get template and render</span>
</span><span id="__span-0-141"><a id="__codelineno-0-141" name="__codelineno-0-141"></a>            <span style="color: #EFF">template</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">get_template_from_section_config</span><span style="color: #89DDFF">(</span><span style="color: #EFF">config_key</span><span style="color: #89DDFF">,</span> <span style="color: #C3E88D">&quot;entry&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-142"><a id="__codelineno-0-142" name="__codelineno-0-142"></a>            <span style="color: #BB80B3">if</span> <span style="color: #EFF">template</span> <span style="color: #89DDFF; font-style: italic">is</span> <span style="color: #89DDFF">None:</span>
</span><span id="__span-0-143"><a id="__codelineno-0-143" name="__codelineno-0-143"></a>                <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Required entry template for &#39;</span><span style="color: #89DDFF">{</span><span style="color: #EFF">config_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&#39; not found&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-144"><a id="__codelineno-0-144" name="__codelineno-0-144"></a>                <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-145"><a id="__codelineno-0-145" name="__codelineno-0-145"></a>
</span><span id="__span-0-146"><a id="__codelineno-0-146" name="__codelineno-0-146"></a>            <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">render_template</span><span style="color: #89DDFF">(</span><span style="color: #EFF">template</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">context</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-147"><a id="__codelineno-0-147" name="__codelineno-0-147"></a>
</span><span id="__span-0-148"><a id="__codelineno-0-148" name="__codelineno-0-148"></a>        <span style="color: #BB80B3">except</span> <span style="color: #FFCB6B">Exception</span> <span style="color: #BB80B3">as</span> <span style="color: #EFF">e</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-149"><a id="__codelineno-0-149" name="__codelineno-0-149"></a>            <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Failed to render </span><span style="color: #89DDFF">{</span><span style="color: #EFF">config_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D"> entry: </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">e</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-150"><a id="__codelineno-0-150" name="__codelineno-0-150"></a>            <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-151"><a id="__codelineno-0-151" name="__codelineno-0-151"></a>
</span><span id="__span-0-152"><a id="__codelineno-0-152" name="__codelineno-0-152"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">_get_mapped_entries</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-153"><a id="__codelineno-0-153" name="__codelineno-0-153"></a>        <span style="color: #89DDFF">self,</span> <span style="color: #EFF">resources</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Resource</span><span style="color: #89DDFF">],</span> <span style="color: #EFF">document_type</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-154"><a id="__codelineno-0-154" name="__codelineno-0-154"></a>    <span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">Dict</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-155"><a id="__codelineno-0-155" name="__codelineno-0-155"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Map FHIR resources to CDA section entries by resource type.</span>
</span><span id="__span-0-156"><a id="__codelineno-0-156" name="__codelineno-0-156"></a>
</span><span id="__span-0-157"><a id="__codelineno-0-157" name="__codelineno-0-157"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-158"><a id="__codelineno-0-158" name="__codelineno-0-158"></a><span style="color: #546E7A; font-style: italic">            resources: List of FHIR resources to map to CDA entries</span>
</span><span id="__span-0-159"><a id="__codelineno-0-159" name="__codelineno-0-159"></a><span style="color: #546E7A; font-style: italic">            document_type: Optional document type to determine which sections to include</span>
</span><span id="__span-0-160"><a id="__codelineno-0-160" name="__codelineno-0-160"></a>
</span><span id="__span-0-161"><a id="__codelineno-0-161" name="__codelineno-0-161"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-162"><a id="__codelineno-0-162" name="__codelineno-0-162"></a><span style="color: #546E7A; font-style: italic">            Dictionary mapping section keys (e.g. &#39;problems&#39;, &#39;medications&#39;) to lists of</span>
</span><span id="__span-0-163"><a id="__codelineno-0-163" name="__codelineno-0-163"></a><span style="color: #546E7A; font-style: italic">            their rendered CDA entries. For example:</span>
</span><span id="__span-0-164"><a id="__codelineno-0-164" name="__codelineno-0-164"></a><span style="color: #546E7A; font-style: italic">            {</span>
</span><span id="__span-0-165"><a id="__codelineno-0-165" name="__codelineno-0-165"></a><span style="color: #546E7A; font-style: italic">                &#39;problems&#39;: [&lt;rendered condition entry&gt;, ...],</span>
</span><span id="__span-0-166"><a id="__codelineno-0-166" name="__codelineno-0-166"></a><span style="color: #546E7A; font-style: italic">                &#39;medications&#39;: [&lt;rendered medication entry&gt;, ...]</span>
</span><span id="__span-0-167"><a id="__codelineno-0-167" name="__codelineno-0-167"></a><span style="color: #546E7A; font-style: italic">            }</span>
</span><span id="__span-0-168"><a id="__codelineno-0-168" name="__codelineno-0-168"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-169"><a id="__codelineno-0-169" name="__codelineno-0-169"></a>        <span style="color: #546E7A; font-style: italic"># Get included sections from document config if document_type is provided</span>
</span><span id="__span-0-170"><a id="__codelineno-0-170" name="__codelineno-0-170"></a>        <span style="color: #EFF">include_sections</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-171"><a id="__codelineno-0-171" name="__codelineno-0-171"></a>        <span style="color: #BB80B3">if</span> <span style="color: #EFF">document_type</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-172"><a id="__codelineno-0-172" name="__codelineno-0-172"></a>            <span style="color: #EFF">include_sections</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_config_value</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-173"><a id="__codelineno-0-173" name="__codelineno-0-173"></a>                <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;cda.document.</span><span style="color: #89DDFF">{</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">.structure.body.include_sections&quot;</span>
</span><span id="__span-0-174"><a id="__codelineno-0-174" name="__codelineno-0-174"></a>            <span style="color: #89DDFF">)</span>
</span><span id="__span-0-175"><a id="__codelineno-0-175" name="__codelineno-0-175"></a>            <span style="color: #BB80B3">if</span> <span style="color: #EFF">include_sections</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-176"><a id="__codelineno-0-176" name="__codelineno-0-176"></a>                <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">debug</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-177"><a id="__codelineno-0-177" name="__codelineno-0-177"></a>                    <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Generating sections: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">include_sections</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D"> for document type </span><span style="color: #89DDFF">{</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-178"><a id="__codelineno-0-178" name="__codelineno-0-178"></a>                <span style="color: #89DDFF">)</span>
</span><span id="__span-0-179"><a id="__codelineno-0-179" name="__codelineno-0-179"></a>
</span><span id="__span-0-180"><a id="__codelineno-0-180" name="__codelineno-0-180"></a>        <span style="color: #EFF">section_entries</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">{}</span>
</span><span id="__span-0-181"><a id="__codelineno-0-181" name="__codelineno-0-181"></a>        <span style="color: #BB80B3">for</span> <span style="color: #EFF">resource</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">resources</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-182"><a id="__codelineno-0-182" name="__codelineno-0-182"></a>            <span style="color: #546E7A; font-style: italic"># Find matching section for resource type</span>
</span><span id="__span-0-183"><a id="__codelineno-0-183" name="__codelineno-0-183"></a>            <span style="color: #EFF">resource_type</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">resource</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">__class__</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">__name__</span>
</span><span id="__span-0-184"><a id="__codelineno-0-184" name="__codelineno-0-184"></a>            <span style="color: #EFF">all_configs</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_cda_section_configs</span><span style="color: #89DDFF">()</span>
</span><span id="__span-0-185"><a id="__codelineno-0-185" name="__codelineno-0-185"></a>            <span style="color: #EFF">section_key</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">_find_section_key_for_resource_type</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-186"><a id="__codelineno-0-186" name="__codelineno-0-186"></a>                <span style="color: #EFF">resource_type</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">all_configs</span>
</span><span id="__span-0-187"><a id="__codelineno-0-187" name="__codelineno-0-187"></a>            <span style="color: #89DDFF">)</span>
</span><span id="__span-0-188"><a id="__codelineno-0-188" name="__codelineno-0-188"></a>            <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">section_key</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-189"><a id="__codelineno-0-189" name="__codelineno-0-189"></a>                <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;No section config found for resource type: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">resource_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-190"><a id="__codelineno-0-190" name="__codelineno-0-190"></a>                <span style="color: #BB80B3">continue</span>
</span><span id="__span-0-191"><a id="__codelineno-0-191" name="__codelineno-0-191"></a>
</span><span id="__span-0-192"><a id="__codelineno-0-192" name="__codelineno-0-192"></a>            <span style="color: #546E7A; font-style: italic"># Skip if section is not included in the document config</span>
</span><span id="__span-0-193"><a id="__codelineno-0-193" name="__codelineno-0-193"></a>            <span style="color: #BB80B3">if</span> <span style="color: #EFF">include_sections</span> <span style="color: #89DDFF; font-style: italic">and</span> <span style="color: #EFF">section_key</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">include_sections</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-194"><a id="__codelineno-0-194" name="__codelineno-0-194"></a>                <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">info</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-195"><a id="__codelineno-0-195" name="__codelineno-0-195"></a>                    <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Skipping section </span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D"> as it&#39;s not in include_sections&quot;</span>
</span><span id="__span-0-196"><a id="__codelineno-0-196" name="__codelineno-0-196"></a>                <span style="color: #89DDFF">)</span>
</span><span id="__span-0-197"><a id="__codelineno-0-197" name="__codelineno-0-197"></a>                <span style="color: #BB80B3">continue</span>
</span><span id="__span-0-198"><a id="__codelineno-0-198" name="__codelineno-0-198"></a>
</span><span id="__span-0-199"><a id="__codelineno-0-199" name="__codelineno-0-199"></a>            <span style="color: #EFF">entry</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_render_entry</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resource</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">section_key</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-200"><a id="__codelineno-0-200" name="__codelineno-0-200"></a>            <span style="color: #BB80B3">if</span> <span style="color: #EFF">entry</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-201"><a id="__codelineno-0-201" name="__codelineno-0-201"></a>                <span style="color: #EFF">section_entries</span><span style="color: #89DDFF">.</span><span style="color: #EFF">setdefault</span><span style="color: #89DDFF">(</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">,</span> <span style="color: #89DDFF">[]).</span><span style="color: #EFF">append</span><span style="color: #89DDFF">(</span><span style="color: #EFF">entry</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-202"><a id="__codelineno-0-202" name="__codelineno-0-202"></a>
</span><span id="__span-0-203"><a id="__codelineno-0-203" name="__codelineno-0-203"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">section_entries</span>
</span><span id="__span-0-204"><a id="__codelineno-0-204" name="__codelineno-0-204"></a>
</span><span id="__span-0-205"><a id="__codelineno-0-205" name="__codelineno-0-205"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">_render_sections</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">mapped_entries</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Dict</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">document_type</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">]:</span>
</span><span id="__span-0-206"><a id="__codelineno-0-206" name="__codelineno-0-206"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Render all sections with their entries</span>
</span><span id="__span-0-207"><a id="__codelineno-0-207" name="__codelineno-0-207"></a>
</span><span id="__span-0-208"><a id="__codelineno-0-208" name="__codelineno-0-208"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-209"><a id="__codelineno-0-209" name="__codelineno-0-209"></a><span style="color: #546E7A; font-style: italic">            mapped_entries: Dictionary mapping section keys to their entries</span>
</span><span id="__span-0-210"><a id="__codelineno-0-210" name="__codelineno-0-210"></a><span style="color: #546E7A; font-style: italic">            document_type: Type of document to generate</span>
</span><span id="__span-0-211"><a id="__codelineno-0-211" name="__codelineno-0-211"></a>
</span><span id="__span-0-212"><a id="__codelineno-0-212" name="__codelineno-0-212"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-213"><a id="__codelineno-0-213" name="__codelineno-0-213"></a><span style="color: #546E7A; font-style: italic">            List of formatted section dictionaries</span>
</span><span id="__span-0-214"><a id="__codelineno-0-214" name="__codelineno-0-214"></a>
</span><span id="__span-0-215"><a id="__codelineno-0-215" name="__codelineno-0-215"></a><span style="color: #546E7A; font-style: italic">        Raises:</span>
</span><span id="__span-0-216"><a id="__codelineno-0-216" name="__codelineno-0-216"></a><span style="color: #546E7A; font-style: italic">            ValueError: If section configurations or templates are not found</span>
</span><span id="__span-0-217"><a id="__codelineno-0-217" name="__codelineno-0-217"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-218"><a id="__codelineno-0-218" name="__codelineno-0-218"></a>        <span style="color: #EFF">sections</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">[]</span>
</span><span id="__span-0-219"><a id="__codelineno-0-219" name="__codelineno-0-219"></a>
</span><span id="__span-0-220"><a id="__codelineno-0-220" name="__codelineno-0-220"></a>        <span style="color: #BB80B3">try</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-221"><a id="__codelineno-0-221" name="__codelineno-0-221"></a>            <span style="color: #546E7A; font-style: italic"># Get validated section configurations</span>
</span><span id="__span-0-222"><a id="__codelineno-0-222" name="__codelineno-0-222"></a>            <span style="color: #EFF">section_configs</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_cda_section_configs</span><span style="color: #89DDFF">()</span>
</span><span id="__span-0-223"><a id="__codelineno-0-223" name="__codelineno-0-223"></a>        <span style="color: #BB80B3">except</span> <span style="color: #FFCB6B">ValueError</span> <span style="color: #BB80B3">as</span> <span style="color: #EFF">e</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-224"><a id="__codelineno-0-224" name="__codelineno-0-224"></a>            <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Error getting section configs: </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">e</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-225"><a id="__codelineno-0-225" name="__codelineno-0-225"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Failed to load section configurations: </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">e</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-226"><a id="__codelineno-0-226" name="__codelineno-0-226"></a>
</span><span id="__span-0-227"><a id="__codelineno-0-227" name="__codelineno-0-227"></a>        <span style="color: #546E7A; font-style: italic"># Get section template name from config</span>
</span><span id="__span-0-228"><a id="__codelineno-0-228" name="__codelineno-0-228"></a>        <span style="color: #EFF">section_template_name</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_config_value</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-229"><a id="__codelineno-0-229" name="__codelineno-0-229"></a>            <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;cda.document.</span><span style="color: #89DDFF">{</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">.templates.section&quot;</span>
</span><span id="__span-0-230"><a id="__codelineno-0-230" name="__codelineno-0-230"></a>        <span style="color: #89DDFF">)</span>
</span><span id="__span-0-231"><a id="__codelineno-0-231" name="__codelineno-0-231"></a>        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">section_template_name</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-232"><a id="__codelineno-0-232" name="__codelineno-0-232"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-233"><a id="__codelineno-0-233" name="__codelineno-0-233"></a>                <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;No section template found for document type: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-234"><a id="__codelineno-0-234" name="__codelineno-0-234"></a>            <span style="color: #89DDFF">)</span>
</span><span id="__span-0-235"><a id="__codelineno-0-235" name="__codelineno-0-235"></a>
</span><span id="__span-0-236"><a id="__codelineno-0-236" name="__codelineno-0-236"></a>        <span style="color: #546E7A; font-style: italic"># Get the section template</span>
</span><span id="__span-0-237"><a id="__codelineno-0-237" name="__codelineno-0-237"></a>        <span style="color: #EFF">section_template</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">get_template</span><span style="color: #89DDFF">(</span><span style="color: #EFF">section_template_name</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-238"><a id="__codelineno-0-238" name="__codelineno-0-238"></a>        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">section_template</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-239"><a id="__codelineno-0-239" name="__codelineno-0-239"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Required template &#39;</span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_template_name</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&#39; not found&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-240"><a id="__codelineno-0-240" name="__codelineno-0-240"></a>
</span><span id="__span-0-241"><a id="__codelineno-0-241" name="__codelineno-0-241"></a>        <span style="color: #546E7A; font-style: italic"># Render each section that has entries</span>
</span><span id="__span-0-242"><a id="__codelineno-0-242" name="__codelineno-0-242"></a>        <span style="color: #BB80B3">for</span> <span style="color: #EFF">section_key</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">section_config</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">section_configs</span><span style="color: #89DDFF">.</span><span style="color: #EFF">items</span><span style="color: #89DDFF">():</span>
</span><span id="__span-0-243"><a id="__codelineno-0-243" name="__codelineno-0-243"></a>            <span style="color: #EFF">entries</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">mapped_entries</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get</span><span style="color: #89DDFF">(</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">,</span> <span style="color: #89DDFF">[])</span>
</span><span id="__span-0-244"><a id="__codelineno-0-244" name="__codelineno-0-244"></a>            <span style="color: #BB80B3">if</span> <span style="color: #EFF">entries</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-245"><a id="__codelineno-0-245" name="__codelineno-0-245"></a>                <span style="color: #BB80B3">try</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-246"><a id="__codelineno-0-246" name="__codelineno-0-246"></a>                    <span style="color: #546E7A; font-style: italic"># Special handling for notes section, bit of a hack for now</span>
</span><span id="__span-0-247"><a id="__codelineno-0-247" name="__codelineno-0-247"></a>                    <span style="color: #BB80B3">if</span> <span style="color: #EFF">section_key</span> <span style="color: #89DDFF">==</span> <span style="color: #C3E88D">&quot;notes&quot;</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-248"><a id="__codelineno-0-248" name="__codelineno-0-248"></a>                        <span style="color: #546E7A; font-style: italic"># For DocumentReference, the generated entries already contain the full</span>
</span><span id="__span-0-249"><a id="__codelineno-0-249" name="__codelineno-0-249"></a>                        <span style="color: #546E7A; font-style: italic"># section structure, so we need to extract the section directly</span>
</span><span id="__span-0-250"><a id="__codelineno-0-250" name="__codelineno-0-250"></a>                        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF">(</span>
</span><span id="__span-0-251"><a id="__codelineno-0-251" name="__codelineno-0-251"></a>                            <span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #EFF">entries</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">&gt;</span> <span style="color: #F78C6C">0</span>
</span><span id="__span-0-252"><a id="__codelineno-0-252" name="__codelineno-0-252"></a>                            <span style="color: #89DDFF; font-style: italic">and</span> <span style="color: #C3E88D">&quot;component&quot;</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">entries</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-253"><a id="__codelineno-0-253" name="__codelineno-0-253"></a>                            <span style="color: #89DDFF; font-style: italic">and</span> <span style="color: #C3E88D">&quot;section&quot;</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">entries</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">][</span><span style="color: #C3E88D">&quot;component&quot;</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-254"><a id="__codelineno-0-254" name="__codelineno-0-254"></a>                        <span style="color: #89DDFF">):</span>
</span><span id="__span-0-255"><a id="__codelineno-0-255" name="__codelineno-0-255"></a>                            <span style="color: #546E7A; font-style: italic"># Just extract the first section (we don&#39;t support multiple notes sections yet)</span>
</span><span id="__span-0-256"><a id="__codelineno-0-256" name="__codelineno-0-256"></a>                            <span style="color: #EFF">section_data</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">entries</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">][</span><span style="color: #C3E88D">&quot;component&quot;</span><span style="color: #89DDFF">][</span><span style="color: #C3E88D">&quot;section&quot;</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-257"><a id="__codelineno-0-257" name="__codelineno-0-257"></a>                            <span style="color: #EFF">sections</span><span style="color: #89DDFF">.</span><span style="color: #EFF">append</span><span style="color: #89DDFF">({</span><span style="color: #C3E88D">&quot;section&quot;</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">section_data</span><span style="color: #89DDFF">})</span>
</span><span id="__span-0-258"><a id="__codelineno-0-258" name="__codelineno-0-258"></a>                            <span style="color: #BB80B3">continue</span>
</span><span id="__span-0-259"><a id="__codelineno-0-259" name="__codelineno-0-259"></a>
</span><span id="__span-0-260"><a id="__codelineno-0-260" name="__codelineno-0-260"></a>                    <span style="color: #546E7A; font-style: italic"># Regular handling for other resource types</span>
</span><span id="__span-0-261"><a id="__codelineno-0-261" name="__codelineno-0-261"></a>                    <span style="color: #EFF">context</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">{</span>
</span><span id="__span-0-262"><a id="__codelineno-0-262" name="__codelineno-0-262"></a>                        <span style="color: #C3E88D">&quot;entries&quot;</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">entries</span><span style="color: #89DDFF">,</span>
</span><span id="__span-0-263"><a id="__codelineno-0-263" name="__codelineno-0-263"></a>                        <span style="color: #C3E88D">&quot;config&quot;</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">section_config</span><span style="color: #89DDFF">,</span>
</span><span id="__span-0-264"><a id="__codelineno-0-264" name="__codelineno-0-264"></a>                    <span style="color: #89DDFF">}</span>
</span><span id="__span-0-265"><a id="__codelineno-0-265" name="__codelineno-0-265"></a>                    <span style="color: #EFF">rendered</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">render_template</span><span style="color: #89DDFF">(</span><span style="color: #EFF">section_template</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">context</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-266"><a id="__codelineno-0-266" name="__codelineno-0-266"></a>                    <span style="color: #BB80B3">if</span> <span style="color: #EFF">rendered</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-267"><a id="__codelineno-0-267" name="__codelineno-0-267"></a>                        <span style="color: #EFF">sections</span><span style="color: #89DDFF">.</span><span style="color: #EFF">append</span><span style="color: #89DDFF">(</span><span style="color: #EFF">rendered</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-268"><a id="__codelineno-0-268" name="__codelineno-0-268"></a>                <span style="color: #BB80B3">except</span> <span style="color: #FFCB6B">Exception</span> <span style="color: #BB80B3">as</span> <span style="color: #EFF">e</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-269"><a id="__codelineno-0-269" name="__codelineno-0-269"></a>                    <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Failed to render section </span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">: </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">e</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-270"><a id="__codelineno-0-270" name="__codelineno-0-270"></a>
</span><span id="__span-0-271"><a id="__codelineno-0-271" name="__codelineno-0-271"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">sections</span>
</span><span id="__span-0-272"><a id="__codelineno-0-272" name="__codelineno-0-272"></a>
</span><span id="__span-0-273"><a id="__codelineno-0-273" name="__codelineno-0-273"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">_render_document</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-274"><a id="__codelineno-0-274" name="__codelineno-0-274"></a>        <span style="color: #89DDFF">self,</span>
</span><span id="__span-0-275"><a id="__codelineno-0-275" name="__codelineno-0-275"></a>        <span style="color: #EFF">sections</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">],</span>
</span><span id="__span-0-276"><a id="__codelineno-0-276" name="__codelineno-0-276"></a>        <span style="color: #EFF">document_type</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span>
</span><span id="__span-0-277"><a id="__codelineno-0-277" name="__codelineno-0-277"></a>        <span style="color: #EFF">validate</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">bool</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">True,</span>
</span><span id="__span-0-278"><a id="__codelineno-0-278" name="__codelineno-0-278"></a>    <span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-279"><a id="__codelineno-0-279" name="__codelineno-0-279"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Generate the final CDA document</span>
</span><span id="__span-0-280"><a id="__codelineno-0-280" name="__codelineno-0-280"></a>
</span><span id="__span-0-281"><a id="__codelineno-0-281" name="__codelineno-0-281"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-282"><a id="__codelineno-0-282" name="__codelineno-0-282"></a><span style="color: #546E7A; font-style: italic">            sections: List of formatted section dictionaries</span>
</span><span id="__span-0-283"><a id="__codelineno-0-283" name="__codelineno-0-283"></a><span style="color: #546E7A; font-style: italic">            document_type: Type of document to generate</span>
</span><span id="__span-0-284"><a id="__codelineno-0-284" name="__codelineno-0-284"></a><span style="color: #546E7A; font-style: italic">            validate: Whether to validate the CDA document</span>
</span><span id="__span-0-285"><a id="__codelineno-0-285" name="__codelineno-0-285"></a>
</span><span id="__span-0-286"><a id="__codelineno-0-286" name="__codelineno-0-286"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-287"><a id="__codelineno-0-287" name="__codelineno-0-287"></a><span style="color: #546E7A; font-style: italic">            CDA document as XML string</span>
</span><span id="__span-0-288"><a id="__codelineno-0-288" name="__codelineno-0-288"></a>
</span><span id="__span-0-289"><a id="__codelineno-0-289" name="__codelineno-0-289"></a><span style="color: #546E7A; font-style: italic">        Raises:</span>
</span><span id="__span-0-290"><a id="__codelineno-0-290" name="__codelineno-0-290"></a><span style="color: #546E7A; font-style: italic">            ValueError: If document configuration or template is not found</span>
</span><span id="__span-0-291"><a id="__codelineno-0-291" name="__codelineno-0-291"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-292"><a id="__codelineno-0-292" name="__codelineno-0-292"></a>        <span style="color: #BB80B3">try</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-293"><a id="__codelineno-0-293" name="__codelineno-0-293"></a>            <span style="color: #546E7A; font-style: italic"># Get validated document configuration</span>
</span><span id="__span-0-294"><a id="__codelineno-0-294" name="__codelineno-0-294"></a>            <span style="color: #EFF">config</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_cda_document_config</span><span style="color: #89DDFF">(</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-295"><a id="__codelineno-0-295" name="__codelineno-0-295"></a>        <span style="color: #BB80B3">except</span> <span style="color: #FFCB6B">ValueError</span> <span style="color: #BB80B3">as</span> <span style="color: #EFF">e</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-296"><a id="__codelineno-0-296" name="__codelineno-0-296"></a>            <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Error getting document config: </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">e</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-297"><a id="__codelineno-0-297" name="__codelineno-0-297"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Failed to load document configuration: </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">e</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-298"><a id="__codelineno-0-298" name="__codelineno-0-298"></a>
</span><span id="__span-0-299"><a id="__codelineno-0-299" name="__codelineno-0-299"></a>        <span style="color: #546E7A; font-style: italic"># Get document template name from config</span>
</span><span id="__span-0-300"><a id="__codelineno-0-300" name="__codelineno-0-300"></a>        <span style="color: #EFF">document_template_name</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_config_value</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-301"><a id="__codelineno-0-301" name="__codelineno-0-301"></a>            <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;cda.document.</span><span style="color: #89DDFF">{</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">.templates.document&quot;</span>
</span><span id="__span-0-302"><a id="__codelineno-0-302" name="__codelineno-0-302"></a>        <span style="color: #89DDFF">)</span>
</span><span id="__span-0-303"><a id="__codelineno-0-303" name="__codelineno-0-303"></a>        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">document_template_name</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-304"><a id="__codelineno-0-304" name="__codelineno-0-304"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-305"><a id="__codelineno-0-305" name="__codelineno-0-305"></a>                <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;No document template found for document type: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-306"><a id="__codelineno-0-306" name="__codelineno-0-306"></a>            <span style="color: #89DDFF">)</span>
</span><span id="__span-0-307"><a id="__codelineno-0-307" name="__codelineno-0-307"></a>
</span><span id="__span-0-308"><a id="__codelineno-0-308" name="__codelineno-0-308"></a>        <span style="color: #546E7A; font-style: italic"># Get the document template</span>
</span><span id="__span-0-309"><a id="__codelineno-0-309" name="__codelineno-0-309"></a>        <span style="color: #EFF">document_template</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">get_template</span><span style="color: #89DDFF">(</span><span style="color: #EFF">document_template_name</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-310"><a id="__codelineno-0-310" name="__codelineno-0-310"></a>        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">document_template</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-311"><a id="__codelineno-0-311" name="__codelineno-0-311"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Required template &#39;</span><span style="color: #89DDFF">{</span><span style="color: #EFF">document_template_name</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&#39; not found&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-312"><a id="__codelineno-0-312" name="__codelineno-0-312"></a>
</span><span id="__span-0-313"><a id="__codelineno-0-313" name="__codelineno-0-313"></a>        <span style="color: #546E7A; font-style: italic"># Create document context</span>
</span><span id="__span-0-314"><a id="__codelineno-0-314" name="__codelineno-0-314"></a>        <span style="color: #546E7A; font-style: italic"># TODO: modify this as bundle metadata is not extracted</span>
</span><span id="__span-0-315"><a id="__codelineno-0-315" name="__codelineno-0-315"></a>        <span style="color: #EFF">context</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">{</span>
</span><span id="__span-0-316"><a id="__codelineno-0-316" name="__codelineno-0-316"></a>            <span style="color: #C3E88D">&quot;config&quot;</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">config</span><span style="color: #89DDFF">,</span>
</span><span id="__span-0-317"><a id="__codelineno-0-317" name="__codelineno-0-317"></a>            <span style="color: #C3E88D">&quot;sections&quot;</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">sections</span><span style="color: #89DDFF">,</span>
</span><span id="__span-0-318"><a id="__codelineno-0-318" name="__codelineno-0-318"></a>        <span style="color: #89DDFF">}</span>
</span><span id="__span-0-319"><a id="__codelineno-0-319" name="__codelineno-0-319"></a>
</span><span id="__span-0-320"><a id="__codelineno-0-320" name="__codelineno-0-320"></a>        <span style="color: #EFF">rendered</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">render_template</span><span style="color: #89DDFF">(</span><span style="color: #EFF">document_template</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">context</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-321"><a id="__codelineno-0-321" name="__codelineno-0-321"></a>        <span style="color: #BB80B3">if</span> <span style="color: #EFF">validate</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-322"><a id="__codelineno-0-322" name="__codelineno-0-322"></a>            <span style="color: #BB80B3">if</span> <span style="color: #C3E88D">&quot;ClinicalDocument&quot;</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">rendered</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-323"><a id="__codelineno-0-323" name="__codelineno-0-323"></a>                <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-324"><a id="__codelineno-0-324" name="__codelineno-0-324"></a>                    <span style="color: #C3E88D">&quot;Unable to validate document structure: missing ClinicalDocument&quot;</span>
</span><span id="__span-0-325"><a id="__codelineno-0-325" name="__codelineno-0-325"></a>                <span style="color: #89DDFF">)</span>
</span><span id="__span-0-326"><a id="__codelineno-0-326" name="__codelineno-0-326"></a>                <span style="color: #EFF">out_dict</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">rendered</span>
</span><span id="__span-0-327"><a id="__codelineno-0-327" name="__codelineno-0-327"></a>            <span style="color: #BB80B3">else</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-328"><a id="__codelineno-0-328" name="__codelineno-0-328"></a>                <span style="color: #EFF">validated</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">ClinicalDocument</span><span style="color: #89DDFF">(**</span><span style="color: #EFF">rendered</span><span style="color: #89DDFF">[</span><span style="color: #C3E88D">&quot;ClinicalDocument&quot;</span><span style="color: #89DDFF">])</span>
</span><span id="__span-0-329"><a id="__codelineno-0-329" name="__codelineno-0-329"></a>                <span style="color: #EFF">out_dict</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">{</span>
</span><span id="__span-0-330"><a id="__codelineno-0-330" name="__codelineno-0-330"></a>                    <span style="color: #C3E88D">&quot;ClinicalDocument&quot;</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">validated</span><span style="color: #89DDFF">.</span><span style="color: #EFF">model_dump</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-331"><a id="__codelineno-0-331" name="__codelineno-0-331"></a>                        <span style="color: #EFF">exclude_none</span><span style="color: #89DDFF">=True,</span> <span style="color: #EFF">exclude_unset</span><span style="color: #89DDFF">=True,</span> <span style="color: #EFF">by_alias</span><span style="color: #89DDFF">=True</span>
</span><span id="__span-0-332"><a id="__codelineno-0-332" name="__codelineno-0-332"></a>                    <span style="color: #89DDFF">)</span>
</span><span id="__span-0-333"><a id="__codelineno-0-333" name="__codelineno-0-333"></a>                <span style="color: #89DDFF">}</span>
</span><span id="__span-0-334"><a id="__codelineno-0-334" name="__codelineno-0-334"></a>        <span style="color: #BB80B3">else</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-335"><a id="__codelineno-0-335" name="__codelineno-0-335"></a>            <span style="color: #EFF">out_dict</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">rendered</span>
</span><span id="__span-0-336"><a id="__codelineno-0-336" name="__codelineno-0-336"></a>
</span><span id="__span-0-337"><a id="__codelineno-0-337" name="__codelineno-0-337"></a>        <span style="color: #546E7A; font-style: italic"># Get XML formatting options</span>
</span><span id="__span-0-338"><a id="__codelineno-0-338" name="__codelineno-0-338"></a>        <span style="color: #EFF">pretty_print</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_config_value</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-339"><a id="__codelineno-0-339" name="__codelineno-0-339"></a>            <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;cda.document.</span><span style="color: #89DDFF">{</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">.rendering.xml.pretty_print&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #89DDFF">True</span>
</span><span id="__span-0-340"><a id="__codelineno-0-340" name="__codelineno-0-340"></a>        <span style="color: #89DDFF">)</span>
</span><span id="__span-0-341"><a id="__codelineno-0-341" name="__codelineno-0-341"></a>        <span style="color: #EFF">encoding</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_config_value</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-342"><a id="__codelineno-0-342" name="__codelineno-0-342"></a>            <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;cda.document.</span><span style="color: #89DDFF">{</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">.rendering.xml.encoding&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #C3E88D">&quot;UTF-8&quot;</span>
</span><span id="__span-0-343"><a id="__codelineno-0-343" name="__codelineno-0-343"></a>        <span style="color: #89DDFF">)</span>
</span><span id="__span-0-344"><a id="__codelineno-0-344" name="__codelineno-0-344"></a>
</span><span id="__span-0-345"><a id="__codelineno-0-345" name="__codelineno-0-345"></a>        <span style="color: #546E7A; font-style: italic"># Generate XML without preprocessor</span>
</span><span id="__span-0-346"><a id="__codelineno-0-346" name="__codelineno-0-346"></a>        <span style="color: #EFF">xml_string</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">xmltodict</span><span style="color: #89DDFF">.</span><span style="color: #EFF">unparse</span><span style="color: #89DDFF">(</span><span style="color: #EFF">out_dict</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">pretty</span><span style="color: #89DDFF">=</span><span style="color: #EFF">pretty_print</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">encoding</span><span style="color: #89DDFF">=</span><span style="color: #EFF">encoding</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-347"><a id="__codelineno-0-347" name="__codelineno-0-347"></a>
</span><span id="__span-0-348"><a id="__codelineno-0-348" name="__codelineno-0-348"></a>        <span style="color: #546E7A; font-style: italic"># Replace text elements containing &lt; or &gt; with CDATA sections</span>
</span><span id="__span-0-349"><a id="__codelineno-0-349" name="__codelineno-0-349"></a>        <span style="color: #546E7A; font-style: italic"># This regex matches &lt;text&gt;...&lt;/text&gt; tags where content has HTML entities</span>
</span><span id="__span-0-350"><a id="__codelineno-0-350" name="__codelineno-0-350"></a>        <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">replace_with_cdata</span><span style="color: #89DDFF">(</span><span style="color: #EFF">match</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-351"><a id="__codelineno-0-351" name="__codelineno-0-351"></a>            <span style="color: #EFF">content</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">match</span><span style="color: #89DDFF">.</span><span style="color: #EFF">group</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-352"><a id="__codelineno-0-352" name="__codelineno-0-352"></a>            <span style="color: #546E7A; font-style: italic"># Only process if it contains HTML entities</span>
</span><span id="__span-0-353"><a id="__codelineno-0-353" name="__codelineno-0-353"></a>            <span style="color: #BB80B3">if</span> <span style="color: #C3E88D">&quot;&amp;lt;&quot;</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">content</span> <span style="color: #89DDFF; font-style: italic">or</span> <span style="color: #C3E88D">&quot;&amp;gt;&quot;</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">content</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-354"><a id="__codelineno-0-354" name="__codelineno-0-354"></a>                <span style="color: #546E7A; font-style: italic"># Convert HTML entities back to characters</span>
</span><span id="__span-0-355"><a id="__codelineno-0-355" name="__codelineno-0-355"></a>                <span style="color: #89DDFF; font-style: italic">import</span><span style="color: #EFF"> </span><span style="color: #FFCB6B">html</span>
</span><span id="__span-0-356"><a id="__codelineno-0-356" name="__codelineno-0-356"></a>
</span><span id="__span-0-357"><a id="__codelineno-0-357" name="__codelineno-0-357"></a>                <span style="color: #EFF">decoded</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">html</span><span style="color: #89DDFF">.</span><span style="color: #EFF">unescape</span><span style="color: #89DDFF">(</span><span style="color: #EFF">content</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-358"><a id="__codelineno-0-358" name="__codelineno-0-358"></a>                <span style="color: #BB80B3">return</span> <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;&lt;text&gt;&lt;![CDATA[</span><span style="color: #89DDFF">{</span><span style="color: #EFF">decoded</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">]]&gt;&lt;/text&gt;&quot;</span>
</span><span id="__span-0-359"><a id="__codelineno-0-359" name="__codelineno-0-359"></a>            <span style="color: #BB80B3">return</span> <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;&lt;text&gt;</span><span style="color: #89DDFF">{</span><span style="color: #EFF">content</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&lt;/text&gt;&quot;</span>
</span><span id="__span-0-360"><a id="__codelineno-0-360" name="__codelineno-0-360"></a>
</span><span id="__span-0-361"><a id="__codelineno-0-361" name="__codelineno-0-361"></a>        <span style="color: #EFF">xml_string</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">re</span><span style="color: #89DDFF">.</span><span style="color: #EFF">sub</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-362"><a id="__codelineno-0-362" name="__codelineno-0-362"></a>            <span style="color: #BB80B3">r</span><span style="color: #C3E88D">&quot;&lt;text&gt;(.*?)&lt;/text&gt;&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">replace_with_cdata</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">xml_string</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">flags</span><span style="color: #89DDFF">=</span><span style="color: #EFF">re</span><span style="color: #89DDFF">.</span><span style="color: #EFF">DOTALL</span>
</span><span id="__span-0-363"><a id="__codelineno-0-363" name="__codelineno-0-363"></a>        <span style="color: #89DDFF">)</span>
</span><span id="__span-0-364"><a id="__codelineno-0-364" name="__codelineno-0-364"></a>
</span><span id="__span-0-365"><a id="__codelineno-0-365" name="__codelineno-0-365"></a>        <span style="color: #546E7A; font-style: italic"># Fix self-closing tags</span>
</span><span id="__span-0-366"><a id="__codelineno-0-366" name="__codelineno-0-366"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">re</span><span style="color: #89DDFF">.</span><span style="color: #EFF">sub</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">r</span><span style="color: #C3E88D">&quot;(&lt;(\w+)(\s+[^&gt;]*?)?)&gt;&lt;/\2&gt;&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #BB80B3">r</span><span style="color: #C3E88D">&quot;\1/&gt;&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">xml_string</span><span style="color: #89DDFF">)</span>
</span></code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.generators.cda.CDAGenerator.generate_document_from_fhir_resources" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">generate_document_from_fhir_resources</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resources</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">document_type</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">validate</span><span style="color: #89DDFF">=True)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Generate a complete CDA document from FHIR resources</p>
<p>This method handles the entire process of generating a CDA document:
1. Mapping FHIR resources to CDA sections (config)
2. Rendering sections (template)
3. Generating the final document (template)</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>resources</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>FHIR resources to include in the document</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.List">List</span>[<span title="fhir.resources.resource.Resource">Resource</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>document_type</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Type of document to generate</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>validate</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Whether to validate the CDA document (default: True)</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>True</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="str">str</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>CDA document as XML string</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/generators/cda.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-77"> 77</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-78"> 78</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-79"> 79</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-80"> 80</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-81"> 81</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-82"> 82</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-83"> 83</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-84"> 84</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-85"> 85</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-86"> 86</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-87"> 87</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-88"> 88</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-89"> 89</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-90"> 90</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-91"> 91</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-92"> 92</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-93"> 93</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-94"> 94</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-95"> 95</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-96"> 96</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-97"> 97</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-98"> 98</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-99"> 99</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-100">100</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-101">101</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-102">102</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-77"><a id="__codelineno-0-77" name="__codelineno-0-77"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">generate_document_from_fhir_resources</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-78"><a id="__codelineno-0-78" name="__codelineno-0-78"></a>    <span style="color: #89DDFF">self,</span>
</span><span id="__span-0-79"><a id="__codelineno-0-79" name="__codelineno-0-79"></a>    <span style="color: #EFF">resources</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Resource</span><span style="color: #89DDFF">],</span>
</span><span id="__span-0-80"><a id="__codelineno-0-80" name="__codelineno-0-80"></a>    <span style="color: #EFF">document_type</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span>
</span><span id="__span-0-81"><a id="__codelineno-0-81" name="__codelineno-0-81"></a>    <span style="color: #EFF">validate</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">bool</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">True,</span>
</span><span id="__span-0-82"><a id="__codelineno-0-82" name="__codelineno-0-82"></a><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-83"><a id="__codelineno-0-83" name="__codelineno-0-83"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Generate a complete CDA document from FHIR resources</span>
</span><span id="__span-0-84"><a id="__codelineno-0-84" name="__codelineno-0-84"></a>
</span><span id="__span-0-85"><a id="__codelineno-0-85" name="__codelineno-0-85"></a><span style="color: #546E7A; font-style: italic">    This method handles the entire process of generating a CDA document:</span>
</span><span id="__span-0-86"><a id="__codelineno-0-86" name="__codelineno-0-86"></a><span style="color: #546E7A; font-style: italic">    1. Mapping FHIR resources to CDA sections (config)</span>
</span><span id="__span-0-87"><a id="__codelineno-0-87" name="__codelineno-0-87"></a><span style="color: #546E7A; font-style: italic">    2. Rendering sections (template)</span>
</span><span id="__span-0-88"><a id="__codelineno-0-88" name="__codelineno-0-88"></a><span style="color: #546E7A; font-style: italic">    3. Generating the final document (template)</span>
</span><span id="__span-0-89"><a id="__codelineno-0-89" name="__codelineno-0-89"></a>
</span><span id="__span-0-90"><a id="__codelineno-0-90" name="__codelineno-0-90"></a><span style="color: #546E7A; font-style: italic">    Args:</span>
</span><span id="__span-0-91"><a id="__codelineno-0-91" name="__codelineno-0-91"></a><span style="color: #546E7A; font-style: italic">        resources: FHIR resources to include in the document</span>
</span><span id="__span-0-92"><a id="__codelineno-0-92" name="__codelineno-0-92"></a><span style="color: #546E7A; font-style: italic">        document_type: Type of document to generate</span>
</span><span id="__span-0-93"><a id="__codelineno-0-93" name="__codelineno-0-93"></a><span style="color: #546E7A; font-style: italic">        validate: Whether to validate the CDA document (default: True)</span>
</span><span id="__span-0-94"><a id="__codelineno-0-94" name="__codelineno-0-94"></a>
</span><span id="__span-0-95"><a id="__codelineno-0-95" name="__codelineno-0-95"></a><span style="color: #546E7A; font-style: italic">    Returns:</span>
</span><span id="__span-0-96"><a id="__codelineno-0-96" name="__codelineno-0-96"></a><span style="color: #546E7A; font-style: italic">        CDA document as XML string</span>
</span><span id="__span-0-97"><a id="__codelineno-0-97" name="__codelineno-0-97"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-98"><a id="__codelineno-0-98" name="__codelineno-0-98"></a>    <span style="color: #EFF">mapped_entries</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_get_mapped_entries</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resources</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">document_type</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-99"><a id="__codelineno-0-99" name="__codelineno-0-99"></a>    <span style="color: #EFF">sections</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_render_sections</span><span style="color: #89DDFF">(</span><span style="color: #EFF">mapped_entries</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">document_type</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-100"><a id="__codelineno-0-100" name="__codelineno-0-100"></a>
</span><span id="__span-0-101"><a id="__codelineno-0-101" name="__codelineno-0-101"></a>    <span style="color: #546E7A; font-style: italic"># Generate final CDA document</span>
</span><span id="__span-0-102"><a id="__codelineno-0-102" name="__codelineno-0-102"></a>    <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_render_document</span><span style="color: #89DDFF">(</span><span style="color: #EFF">sections</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">document_type</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">validate</span><span style="color: #89DDFF">=</span><span style="color: #EFF">validate</span><span style="color: #89DDFF">)</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.generators.cda.CDAGenerator.transform" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">transform</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resources</span><span style="color: #89DDFF">,</span> <span style="color: #89DDFF">**</span><span style="color: #EFF">kwargs</span><span style="color: #89DDFF">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Transform FHIR resources to CDA format.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>resources</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List of FHIR resources</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.List">List</span>[<span title="fhir.resources.resource.Resource">Resource</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>document_type: Type of CDA document</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Any">Any</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>{}</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>str</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>CDA document as XML string</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/generators/cda.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-62">62</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-63">63</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-64">64</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-65">65</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-66">66</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-67">67</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-68">68</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-69">69</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-70">70</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-71">71</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-72">72</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-73">73</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-74">74</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-75">75</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-62"><a id="__codelineno-0-62" name="__codelineno-0-62"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">transform</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">resources</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Resource</span><span style="color: #89DDFF">],</span> <span style="color: #89DDFF">**</span><span style="color: #EFF">kwargs</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Any</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-63"><a id="__codelineno-0-63" name="__codelineno-0-63"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Transform FHIR resources to CDA format.</span>
</span><span id="__span-0-64"><a id="__codelineno-0-64" name="__codelineno-0-64"></a>
</span><span id="__span-0-65"><a id="__codelineno-0-65" name="__codelineno-0-65"></a><span style="color: #546E7A; font-style: italic">    Args:</span>
</span><span id="__span-0-66"><a id="__codelineno-0-66" name="__codelineno-0-66"></a><span style="color: #546E7A; font-style: italic">        resources: List of FHIR resources</span>
</span><span id="__span-0-67"><a id="__codelineno-0-67" name="__codelineno-0-67"></a><span style="color: #546E7A; font-style: italic">        **kwargs:</span>
</span><span id="__span-0-68"><a id="__codelineno-0-68" name="__codelineno-0-68"></a><span style="color: #546E7A; font-style: italic">            document_type: Type of CDA document</span>
</span><span id="__span-0-69"><a id="__codelineno-0-69" name="__codelineno-0-69"></a>
</span><span id="__span-0-70"><a id="__codelineno-0-70" name="__codelineno-0-70"></a><span style="color: #546E7A; font-style: italic">    Returns:</span>
</span><span id="__span-0-71"><a id="__codelineno-0-71" name="__codelineno-0-71"></a><span style="color: #546E7A; font-style: italic">        str: CDA document as XML string</span>
</span><span id="__span-0-72"><a id="__codelineno-0-72" name="__codelineno-0-72"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-73"><a id="__codelineno-0-73" name="__codelineno-0-73"></a>    <span style="color: #546E7A; font-style: italic"># TODO: add validation</span>
</span><span id="__span-0-74"><a id="__codelineno-0-74" name="__codelineno-0-74"></a>    <span style="color: #EFF">document_type</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">kwargs</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;document_type&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #C3E88D">&quot;ccd&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-75"><a id="__codelineno-0-75" name="__codelineno-0-75"></a>    <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">generate_document_from_fhir_resources</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resources</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">document_type</span><span style="color: #89DDFF">)</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="healthchain.interop.generators.fhir"></a>
    <div class="doc doc-contents first">

        <p>FHIR Generator for HealthChain Interoperability Engine</p>
<p>This module provides functionality for generating FHIR resources from templates.</p>










<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="healthchain.interop.generators.fhir.FHIRGenerator" class="doc doc-heading">
            <code>FHIRGenerator</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="healthchain.interop.generators.base.BaseGenerator">BaseGenerator</span></code></p>



        <p>Handles generation of FHIR resources from templates.</p>
<p>This class provides functionality to convert CDA section entries into FHIR resources
using configurable templates. It handles validation, required field population, and
error handling during the conversion process.</p>
<p>Key features:
- Template-based conversion of CDA entries (xmltodict format) to FHIR resources
- Automatic population of required FHIR fields based on configuration for
    common resource types like Condition, MedicationStatement, AllergyIntolerance
- Validation of generated FHIR resources</p>


<details class="example" open>
  <summary>Example</summary>
  <p>generator = FHIRGenerator(config_manager, template_registry)</p>
<h3 id="healthchain.interop.generators.fhir.FHIRGenerator--convert-cda-problem-entries-to-fhir-condition-resources">Convert CDA problem entries to FHIR Condition resources</h3>
<p>problems = generator.generate_resources_from_cda_section_entries(
    entries=problem_entries,
    section_key="problems"  # from configs
)</p>
</details>







              <details class="mkdocstrings-source">
                <summary>Source code in <code>healthchain/interop/generators/fhir.py</code></summary>
                <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-22"> 22</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-23"> 23</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-24"> 24</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-25"> 25</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-26"> 26</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-27"> 27</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-28"> 28</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-29"> 29</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-30"> 30</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-31"> 31</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-32"> 32</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-33"> 33</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-34"> 34</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-35"> 35</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-36"> 36</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-37"> 37</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-38"> 38</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-39"> 39</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-40"> 40</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-41"> 41</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-42"> 42</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-43"> 43</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-44"> 44</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-45"> 45</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-46"> 46</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-47"> 47</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-48"> 48</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-49"> 49</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-50"> 50</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-51"> 51</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-52"> 52</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-53"> 53</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-54"> 54</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-55"> 55</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-56"> 56</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-57"> 57</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-58"> 58</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-59"> 59</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-60"> 60</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-61"> 61</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-62"> 62</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-63"> 63</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-64"> 64</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-65"> 65</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-66"> 66</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-67"> 67</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-68"> 68</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-69"> 69</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-70"> 70</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-71"> 71</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-72"> 72</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-73"> 73</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-74"> 74</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-75"> 75</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-76"> 76</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-77"> 77</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-78"> 78</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-79"> 79</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-80"> 80</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-81"> 81</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-82"> 82</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-83"> 83</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-84"> 84</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-85"> 85</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-86"> 86</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-87"> 87</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-88"> 88</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-89"> 89</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-90"> 90</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-91"> 91</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-92"> 92</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-93"> 93</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-94"> 94</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-95"> 95</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-96"> 96</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-97"> 97</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-98"> 98</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-99"> 99</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-100">100</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-101">101</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-102">102</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-103">103</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-104">104</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-105">105</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-106">106</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-107">107</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-108">108</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-109">109</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-110">110</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-111">111</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-112">112</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-113">113</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-114">114</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-115">115</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-116">116</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-117">117</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-118">118</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-119">119</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-120">120</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-121">121</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-122">122</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-123">123</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-124">124</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-125">125</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-126">126</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-127">127</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-128">128</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-129">129</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-130">130</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-131">131</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-132">132</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-133">133</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-134">134</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-135">135</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-136">136</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-137">137</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-138">138</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-139">139</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-140">140</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-141">141</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-142">142</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-143">143</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-144">144</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-145">145</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-146">146</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-147">147</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-148">148</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-149">149</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-150">150</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-151">151</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-152">152</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-153">153</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-154">154</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-155">155</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-156">156</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-157">157</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-158">158</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-159">159</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-160">160</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-161">161</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-162">162</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-163">163</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-164">164</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-165">165</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-166">166</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-167">167</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-168">168</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-169">169</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-170">170</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-171">171</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-172">172</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-173">173</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-174">174</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-175">175</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-176">176</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-177">177</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-178">178</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-179">179</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-180">180</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-181">181</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-182">182</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-183">183</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-184">184</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-185">185</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-186">186</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-187">187</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-188">188</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-189">189</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-190">190</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-191">191</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-192">192</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-193">193</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-194">194</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-195">195</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-196">196</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-197">197</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-198">198</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-199">199</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-200">200</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-201">201</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-202">202</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-203">203</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-204">204</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-205">205</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-206">206</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-207">207</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-208">208</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-209">209</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-210">210</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-211">211</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-212">212</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-213">213</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-214">214</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-215">215</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-216">216</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-217">217</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-218">218</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-219">219</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-220">220</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-221">221</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-222">222</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-223">223</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-224">224</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-225">225</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-226">226</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-227">227</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-228">228</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-229">229</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-230">230</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-231">231</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-232">232</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-233">233</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-234">234</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-235">235</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-236">236</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-237">237</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-238">238</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-239">239</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-240">240</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-241">241</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-242">242</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-243">243</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-244">244</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-245">245</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-246">246</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-247">247</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-248">248</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-249">249</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-250">250</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-251">251</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-252">252</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-253">253</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-254">254</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-255">255</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-256">256</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-257">257</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-258">258</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22"></a><span style="color: #BB80B3">class</span><span style="color: #EFF"> </span><span style="color: #FFCB6B">FHIRGenerator</span><span style="color: #89DDFF">(</span><span style="color: #EFF">BaseGenerator</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Handles generation of FHIR resources from templates.</span>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24"></a>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25"></a><span style="color: #546E7A; font-style: italic">    This class provides functionality to convert CDA section entries into FHIR resources</span>
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26"></a><span style="color: #546E7A; font-style: italic">    using configurable templates. It handles validation, required field population, and</span>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27"></a><span style="color: #546E7A; font-style: italic">    error handling during the conversion process.</span>
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28"></a>
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29"></a><span style="color: #546E7A; font-style: italic">    Key features:</span>
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30"></a><span style="color: #546E7A; font-style: italic">    - Template-based conversion of CDA entries (xmltodict format) to FHIR resources</span>
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31"></a><span style="color: #546E7A; font-style: italic">    - Automatic population of required FHIR fields based on configuration for</span>
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32"></a><span style="color: #546E7A; font-style: italic">        common resource types like Condition, MedicationStatement, AllergyIntolerance</span>
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33"></a><span style="color: #546E7A; font-style: italic">    - Validation of generated FHIR resources</span>
</span><span id="__span-0-34"><a id="__codelineno-0-34" name="__codelineno-0-34"></a>
</span><span id="__span-0-35"><a id="__codelineno-0-35" name="__codelineno-0-35"></a><span style="color: #546E7A; font-style: italic">    Example:</span>
</span><span id="__span-0-36"><a id="__codelineno-0-36" name="__codelineno-0-36"></a><span style="color: #546E7A; font-style: italic">        generator = FHIRGenerator(config_manager, template_registry)</span>
</span><span id="__span-0-37"><a id="__codelineno-0-37" name="__codelineno-0-37"></a>
</span><span id="__span-0-38"><a id="__codelineno-0-38" name="__codelineno-0-38"></a><span style="color: #546E7A; font-style: italic">        # Convert CDA problem entries to FHIR Condition resources</span>
</span><span id="__span-0-39"><a id="__codelineno-0-39" name="__codelineno-0-39"></a><span style="color: #546E7A; font-style: italic">        problems = generator.generate_resources_from_cda_section_entries(</span>
</span><span id="__span-0-40"><a id="__codelineno-0-40" name="__codelineno-0-40"></a><span style="color: #546E7A; font-style: italic">            entries=problem_entries,</span>
</span><span id="__span-0-41"><a id="__codelineno-0-41" name="__codelineno-0-41"></a><span style="color: #546E7A; font-style: italic">            section_key=&quot;problems&quot;  # from configs</span>
</span><span id="__span-0-42"><a id="__codelineno-0-42" name="__codelineno-0-42"></a><span style="color: #546E7A; font-style: italic">        )</span>
</span><span id="__span-0-43"><a id="__codelineno-0-43" name="__codelineno-0-43"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-44"><a id="__codelineno-0-44" name="__codelineno-0-44"></a>
</span><span id="__span-0-45"><a id="__codelineno-0-45" name="__codelineno-0-45"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">transform</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">data</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">],</span> <span style="color: #89DDFF">**</span><span style="color: #EFF">kwargs</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Any</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Resource</span><span style="color: #89DDFF">]:</span>
</span><span id="__span-0-46"><a id="__codelineno-0-46" name="__codelineno-0-46"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Transform input data to FHIR resources.</span>
</span><span id="__span-0-47"><a id="__codelineno-0-47" name="__codelineno-0-47"></a>
</span><span id="__span-0-48"><a id="__codelineno-0-48" name="__codelineno-0-48"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-49"><a id="__codelineno-0-49" name="__codelineno-0-49"></a><span style="color: #546E7A; font-style: italic">            data: List of entries from source format</span>
</span><span id="__span-0-50"><a id="__codelineno-0-50" name="__codelineno-0-50"></a><span style="color: #546E7A; font-style: italic">            **kwargs:</span>
</span><span id="__span-0-51"><a id="__codelineno-0-51" name="__codelineno-0-51"></a><span style="color: #546E7A; font-style: italic">                src_format: The source format type (FormatType.CDA or FormatType.HL7V2)</span>
</span><span id="__span-0-52"><a id="__codelineno-0-52" name="__codelineno-0-52"></a><span style="color: #546E7A; font-style: italic">                section_key: For CDA, the section key</span>
</span><span id="__span-0-53"><a id="__codelineno-0-53" name="__codelineno-0-53"></a><span style="color: #546E7A; font-style: italic">                message_key: For HL7v2, the message key</span>
</span><span id="__span-0-54"><a id="__codelineno-0-54" name="__codelineno-0-54"></a>
</span><span id="__span-0-55"><a id="__codelineno-0-55" name="__codelineno-0-55"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-56"><a id="__codelineno-0-56" name="__codelineno-0-56"></a><span style="color: #546E7A; font-style: italic">            List[Resource]: FHIR resources</span>
</span><span id="__span-0-57"><a id="__codelineno-0-57" name="__codelineno-0-57"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-58"><a id="__codelineno-0-58" name="__codelineno-0-58"></a>        <span style="color: #EFF">src_format</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">kwargs</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;src_format&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-59"><a id="__codelineno-0-59" name="__codelineno-0-59"></a>        <span style="color: #BB80B3">if</span> <span style="color: #EFF">src_format</span> <span style="color: #89DDFF">==</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">.</span><span style="color: #EFF">CDA</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-60"><a id="__codelineno-0-60" name="__codelineno-0-60"></a>            <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">generate_resources_from_cda_section_entries</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-61"><a id="__codelineno-0-61" name="__codelineno-0-61"></a>                <span style="color: #EFF">data</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">kwargs</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;section_key&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-62"><a id="__codelineno-0-62" name="__codelineno-0-62"></a>            <span style="color: #89DDFF">)</span>
</span><span id="__span-0-63"><a id="__codelineno-0-63" name="__codelineno-0-63"></a>        <span style="color: #BB80B3">elif</span> <span style="color: #EFF">src_format</span> <span style="color: #89DDFF">==</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">.</span><span style="color: #EFF">HL7V2</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-64"><a id="__codelineno-0-64" name="__codelineno-0-64"></a>            <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">generate_resources_from_hl7v2_entries</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-65"><a id="__codelineno-0-65" name="__codelineno-0-65"></a>                <span style="color: #EFF">data</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">kwargs</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;message_key&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-66"><a id="__codelineno-0-66" name="__codelineno-0-66"></a>            <span style="color: #89DDFF">)</span>
</span><span id="__span-0-67"><a id="__codelineno-0-67" name="__codelineno-0-67"></a>        <span style="color: #BB80B3">else</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-68"><a id="__codelineno-0-68" name="__codelineno-0-68"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Unsupported source format: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">src_format</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-69"><a id="__codelineno-0-69" name="__codelineno-0-69"></a>
</span><span id="__span-0-70"><a id="__codelineno-0-70" name="__codelineno-0-70"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">generate_resources_from_cda_section_entries</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-71"><a id="__codelineno-0-71" name="__codelineno-0-71"></a>        <span style="color: #89DDFF">self,</span> <span style="color: #EFF">entries</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">],</span> <span style="color: #EFF">section_key</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span>
</span><span id="__span-0-72"><a id="__codelineno-0-72" name="__codelineno-0-72"></a>    <span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">]:</span>
</span><span id="__span-0-73"><a id="__codelineno-0-73" name="__codelineno-0-73"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;</span>
</span><span id="__span-0-74"><a id="__codelineno-0-74" name="__codelineno-0-74"></a><span style="color: #546E7A; font-style: italic">        Convert CDA section entries into FHIR resources using configured templates.</span>
</span><span id="__span-0-75"><a id="__codelineno-0-75" name="__codelineno-0-75"></a>
</span><span id="__span-0-76"><a id="__codelineno-0-76" name="__codelineno-0-76"></a><span style="color: #546E7A; font-style: italic">        This method processes entries from a CDA section and generates corresponding FHIR</span>
</span><span id="__span-0-77"><a id="__codelineno-0-77" name="__codelineno-0-77"></a><span style="color: #546E7A; font-style: italic">        resources based on templates and configuration. It handles validation and error</span>
</span><span id="__span-0-78"><a id="__codelineno-0-78" name="__codelineno-0-78"></a><span style="color: #546E7A; font-style: italic">        checking during the conversion process.</span>
</span><span id="__span-0-79"><a id="__codelineno-0-79" name="__codelineno-0-79"></a>
</span><span id="__span-0-80"><a id="__codelineno-0-80" name="__codelineno-0-80"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-81"><a id="__codelineno-0-81" name="__codelineno-0-81"></a><span style="color: #546E7A; font-style: italic">            entries: List of CDA section entries in xmltodict format to convert</span>
</span><span id="__span-0-82"><a id="__codelineno-0-82" name="__codelineno-0-82"></a><span style="color: #546E7A; font-style: italic">            section_key: Configuration key identifying the section (e.g. &quot;problems&quot;, &quot;medications&quot;)</span>
</span><span id="__span-0-83"><a id="__codelineno-0-83" name="__codelineno-0-83"></a><span style="color: #546E7A; font-style: italic">                Used to look up templates and resource type mappings</span>
</span><span id="__span-0-84"><a id="__codelineno-0-84" name="__codelineno-0-84"></a>
</span><span id="__span-0-85"><a id="__codelineno-0-85" name="__codelineno-0-85"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-86"><a id="__codelineno-0-86" name="__codelineno-0-86"></a><span style="color: #546E7A; font-style: italic">            List of validated FHIR resource dictionaries. Empty list if conversion fails.</span>
</span><span id="__span-0-87"><a id="__codelineno-0-87" name="__codelineno-0-87"></a>
</span><span id="__span-0-88"><a id="__codelineno-0-88" name="__codelineno-0-88"></a><span style="color: #546E7A; font-style: italic">        Example:</span>
</span><span id="__span-0-89"><a id="__codelineno-0-89" name="__codelineno-0-89"></a><span style="color: #546E7A; font-style: italic">            # Convert problem list entries to FHIR Condition resources</span>
</span><span id="__span-0-90"><a id="__codelineno-0-90" name="__codelineno-0-90"></a><span style="color: #546E7A; font-style: italic">            conditions = generator.generate_resources_from_cda_section_entries(</span>
</span><span id="__span-0-91"><a id="__codelineno-0-91" name="__codelineno-0-91"></a><span style="color: #546E7A; font-style: italic">                problem_entries, &quot;problems&quot;</span>
</span><span id="__span-0-92"><a id="__codelineno-0-92" name="__codelineno-0-92"></a><span style="color: #546E7A; font-style: italic">            )</span>
</span><span id="__span-0-93"><a id="__codelineno-0-93" name="__codelineno-0-93"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-94"><a id="__codelineno-0-94" name="__codelineno-0-94"></a>        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">section_key</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-95"><a id="__codelineno-0-95" name="__codelineno-0-95"></a>            <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-96"><a id="__codelineno-0-96" name="__codelineno-0-96"></a>                <span style="color: #C3E88D">&quot;No section key provided for CDA section entries: data needs to be in the format </span><span style="color: #EFF">\</span>
</span><span id="__span-0-97"><a id="__codelineno-0-97" name="__codelineno-0-97"></a><span style="color: #C3E88D">                      &#39;{&lt;section_key&gt;}: {&lt;section_entries&gt;}&#39;&quot;</span>
</span><span id="__span-0-98"><a id="__codelineno-0-98" name="__codelineno-0-98"></a>            <span style="color: #89DDFF">)</span>
</span><span id="__span-0-99"><a id="__codelineno-0-99" name="__codelineno-0-99"></a>            <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">[]</span>
</span><span id="__span-0-100"><a id="__codelineno-0-100" name="__codelineno-0-100"></a>
</span><span id="__span-0-101"><a id="__codelineno-0-101" name="__codelineno-0-101"></a>        <span style="color: #EFF">resources</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">[]</span>
</span><span id="__span-0-102"><a id="__codelineno-0-102" name="__codelineno-0-102"></a>        <span style="color: #EFF">template</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">get_template_from_section_config</span><span style="color: #89DDFF">(</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">,</span> <span style="color: #C3E88D">&quot;resource&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-103"><a id="__codelineno-0-103" name="__codelineno-0-103"></a>
</span><span id="__span-0-104"><a id="__codelineno-0-104" name="__codelineno-0-104"></a>        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">template</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-105"><a id="__codelineno-0-105" name="__codelineno-0-105"></a>            <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;No resource template found for section </span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-106"><a id="__codelineno-0-106" name="__codelineno-0-106"></a>            <span style="color: #BB80B3">return</span> <span style="color: #EFF">resources</span>
</span><span id="__span-0-107"><a id="__codelineno-0-107" name="__codelineno-0-107"></a>
</span><span id="__span-0-108"><a id="__codelineno-0-108" name="__codelineno-0-108"></a>        <span style="color: #EFF">resource_type</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_config_value</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-109"><a id="__codelineno-0-109" name="__codelineno-0-109"></a>            <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;cda.sections.</span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">.resource&quot;</span>
</span><span id="__span-0-110"><a id="__codelineno-0-110" name="__codelineno-0-110"></a>        <span style="color: #89DDFF">)</span>
</span><span id="__span-0-111"><a id="__codelineno-0-111" name="__codelineno-0-111"></a>        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">resource_type</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-112"><a id="__codelineno-0-112" name="__codelineno-0-112"></a>            <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;No resource type specified for section </span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-113"><a id="__codelineno-0-113" name="__codelineno-0-113"></a>            <span style="color: #BB80B3">return</span> <span style="color: #EFF">resources</span>
</span><span id="__span-0-114"><a id="__codelineno-0-114" name="__codelineno-0-114"></a>
</span><span id="__span-0-115"><a id="__codelineno-0-115" name="__codelineno-0-115"></a>        <span style="color: #BB80B3">for</span> <span style="color: #EFF">entry</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">entries</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-116"><a id="__codelineno-0-116" name="__codelineno-0-116"></a>            <span style="color: #BB80B3">try</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-117"><a id="__codelineno-0-117" name="__codelineno-0-117"></a>                <span style="color: #546E7A; font-style: italic"># Convert entry to FHIR resource dictionary</span>
</span><span id="__span-0-118"><a id="__codelineno-0-118" name="__codelineno-0-118"></a>                <span style="color: #EFF">resource_dict</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_render_resource_from_entry</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-119"><a id="__codelineno-0-119" name="__codelineno-0-119"></a>                    <span style="color: #EFF">entry</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">section_key</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">template</span>
</span><span id="__span-0-120"><a id="__codelineno-0-120" name="__codelineno-0-120"></a>                <span style="color: #89DDFF">)</span>
</span><span id="__span-0-121"><a id="__codelineno-0-121" name="__codelineno-0-121"></a>                <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">resource_dict</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-122"><a id="__codelineno-0-122" name="__codelineno-0-122"></a>                    <span style="color: #BB80B3">continue</span>
</span><span id="__span-0-123"><a id="__codelineno-0-123" name="__codelineno-0-123"></a>
</span><span id="__span-0-124"><a id="__codelineno-0-124" name="__codelineno-0-124"></a>                <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">debug</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Rendered FHIR resource: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">resource_dict</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-125"><a id="__codelineno-0-125" name="__codelineno-0-125"></a>
</span><span id="__span-0-126"><a id="__codelineno-0-126" name="__codelineno-0-126"></a>                <span style="color: #EFF">resource</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_validate_fhir_resource</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resource_dict</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">resource_type</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-127"><a id="__codelineno-0-127" name="__codelineno-0-127"></a>
</span><span id="__span-0-128"><a id="__codelineno-0-128" name="__codelineno-0-128"></a>                <span style="color: #BB80B3">if</span> <span style="color: #EFF">resource</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-129"><a id="__codelineno-0-129" name="__codelineno-0-129"></a>                    <span style="color: #EFF">resources</span><span style="color: #89DDFF">.</span><span style="color: #EFF">append</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resource</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-130"><a id="__codelineno-0-130" name="__codelineno-0-130"></a>
</span><span id="__span-0-131"><a id="__codelineno-0-131" name="__codelineno-0-131"></a>            <span style="color: #BB80B3">except</span> <span style="color: #FFCB6B">Exception</span> <span style="color: #BB80B3">as</span> <span style="color: #EFF">e</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-132"><a id="__codelineno-0-132" name="__codelineno-0-132"></a>                <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Failed to convert entry in section </span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">: </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">e</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-133"><a id="__codelineno-0-133" name="__codelineno-0-133"></a>                <span style="color: #BB80B3">continue</span>
</span><span id="__span-0-134"><a id="__codelineno-0-134" name="__codelineno-0-134"></a>
</span><span id="__span-0-135"><a id="__codelineno-0-135" name="__codelineno-0-135"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">resources</span>
</span><span id="__span-0-136"><a id="__codelineno-0-136" name="__codelineno-0-136"></a>
</span><span id="__span-0-137"><a id="__codelineno-0-137" name="__codelineno-0-137"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">_render_resource_from_entry</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-138"><a id="__codelineno-0-138" name="__codelineno-0-138"></a>        <span style="color: #89DDFF">self,</span> <span style="color: #EFF">entry</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Dict</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">section_key</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">template</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Type</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Template</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-139"><a id="__codelineno-0-139" name="__codelineno-0-139"></a>    <span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">]:</span>
</span><span id="__span-0-140"><a id="__codelineno-0-140" name="__codelineno-0-140"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Renders a FHIR resource dictionary from a CDA entry using templates.</span>
</span><span id="__span-0-141"><a id="__codelineno-0-141" name="__codelineno-0-141"></a>
</span><span id="__span-0-142"><a id="__codelineno-0-142" name="__codelineno-0-142"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-143"><a id="__codelineno-0-143" name="__codelineno-0-143"></a><span style="color: #546E7A; font-style: italic">            entry: CDA entry dictionary</span>
</span><span id="__span-0-144"><a id="__codelineno-0-144" name="__codelineno-0-144"></a><span style="color: #546E7A; font-style: italic">            section_key: Section identifier (e.g. &quot;problems&quot;)</span>
</span><span id="__span-0-145"><a id="__codelineno-0-145" name="__codelineno-0-145"></a><span style="color: #546E7A; font-style: italic">            template: Template to use for rendering</span>
</span><span id="__span-0-146"><a id="__codelineno-0-146" name="__codelineno-0-146"></a>
</span><span id="__span-0-147"><a id="__codelineno-0-147" name="__codelineno-0-147"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-148"><a id="__codelineno-0-148" name="__codelineno-0-148"></a><span style="color: #546E7A; font-style: italic">            FHIR resource dictionary or None if rendering fails</span>
</span><span id="__span-0-149"><a id="__codelineno-0-149" name="__codelineno-0-149"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-150"><a id="__codelineno-0-150" name="__codelineno-0-150"></a>        <span style="color: #BB80B3">try</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-151"><a id="__codelineno-0-151" name="__codelineno-0-151"></a>            <span style="color: #546E7A; font-style: italic"># Get validated section configuration</span>
</span><span id="__span-0-152"><a id="__codelineno-0-152" name="__codelineno-0-152"></a>            <span style="color: #BB80B3">try</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-153"><a id="__codelineno-0-153" name="__codelineno-0-153"></a>                <span style="color: #EFF">section_config</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_cda_section_configs</span><span style="color: #89DDFF">(</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-154"><a id="__codelineno-0-154" name="__codelineno-0-154"></a>            <span style="color: #BB80B3">except</span> <span style="color: #FFCB6B">ValueError</span> <span style="color: #BB80B3">as</span> <span style="color: #EFF">e</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-155"><a id="__codelineno-0-155" name="__codelineno-0-155"></a>                <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-156"><a id="__codelineno-0-156" name="__codelineno-0-156"></a>                    <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Failed to get CDA section config for </span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">: </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">e</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-157"><a id="__codelineno-0-157" name="__codelineno-0-157"></a>                <span style="color: #89DDFF">)</span>
</span><span id="__span-0-158"><a id="__codelineno-0-158" name="__codelineno-0-158"></a>                <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-159"><a id="__codelineno-0-159" name="__codelineno-0-159"></a>
</span><span id="__span-0-160"><a id="__codelineno-0-160" name="__codelineno-0-160"></a>            <span style="color: #546E7A; font-style: italic"># Create context with entry data and config</span>
</span><span id="__span-0-161"><a id="__codelineno-0-161" name="__codelineno-0-161"></a>            <span style="color: #EFF">context</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">{</span><span style="color: #C3E88D">&quot;entry&quot;</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">entry</span><span style="color: #89DDFF">,</span> <span style="color: #C3E88D">&quot;config&quot;</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">section_config</span><span style="color: #89DDFF">}</span>
</span><span id="__span-0-162"><a id="__codelineno-0-162" name="__codelineno-0-162"></a>
</span><span id="__span-0-163"><a id="__codelineno-0-163" name="__codelineno-0-163"></a>            <span style="color: #546E7A; font-style: italic"># Render template with context</span>
</span><span id="__span-0-164"><a id="__codelineno-0-164" name="__codelineno-0-164"></a>            <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">render_template</span><span style="color: #89DDFF">(</span><span style="color: #EFF">template</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">context</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-165"><a id="__codelineno-0-165" name="__codelineno-0-165"></a>
</span><span id="__span-0-166"><a id="__codelineno-0-166" name="__codelineno-0-166"></a>        <span style="color: #BB80B3">except</span> <span style="color: #FFCB6B">Exception</span> <span style="color: #BB80B3">as</span> <span style="color: #EFF">e</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-167"><a id="__codelineno-0-167" name="__codelineno-0-167"></a>            <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Failed to render resource for section </span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">: </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">e</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-168"><a id="__codelineno-0-168" name="__codelineno-0-168"></a>            <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-169"><a id="__codelineno-0-169" name="__codelineno-0-169"></a>
</span><span id="__span-0-170"><a id="__codelineno-0-170" name="__codelineno-0-170"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">_validate_fhir_resource</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-171"><a id="__codelineno-0-171" name="__codelineno-0-171"></a>        <span style="color: #89DDFF">self,</span> <span style="color: #EFF">resource_dict</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Dict</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">resource_type</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span>
</span><span id="__span-0-172"><a id="__codelineno-0-172" name="__codelineno-0-172"></a>    <span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Resource</span><span style="color: #89DDFF">]:</span>
</span><span id="__span-0-173"><a id="__codelineno-0-173" name="__codelineno-0-173"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Validates and creates a FHIR resource from a dictionary.</span>
</span><span id="__span-0-174"><a id="__codelineno-0-174" name="__codelineno-0-174"></a><span style="color: #546E7A; font-style: italic">        Adds required fields.</span>
</span><span id="__span-0-175"><a id="__codelineno-0-175" name="__codelineno-0-175"></a>
</span><span id="__span-0-176"><a id="__codelineno-0-176" name="__codelineno-0-176"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-177"><a id="__codelineno-0-177" name="__codelineno-0-177"></a><span style="color: #546E7A; font-style: italic">            resource_dict: FHIR resource dictionary</span>
</span><span id="__span-0-178"><a id="__codelineno-0-178" name="__codelineno-0-178"></a><span style="color: #546E7A; font-style: italic">            resource_type: FHIR resource type</span>
</span><span id="__span-0-179"><a id="__codelineno-0-179" name="__codelineno-0-179"></a>
</span><span id="__span-0-180"><a id="__codelineno-0-180" name="__codelineno-0-180"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-181"><a id="__codelineno-0-181" name="__codelineno-0-181"></a><span style="color: #546E7A; font-style: italic">            FHIR resource or None if validation fails</span>
</span><span id="__span-0-182"><a id="__codelineno-0-182" name="__codelineno-0-182"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-183"><a id="__codelineno-0-183" name="__codelineno-0-183"></a>
</span><span id="__span-0-184"><a id="__codelineno-0-184" name="__codelineno-0-184"></a>        <span style="color: #BB80B3">try</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-185"><a id="__codelineno-0-185" name="__codelineno-0-185"></a>            <span style="color: #EFF">resource_dict</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_add_required_fields</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resource_dict</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">resource_type</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-186"><a id="__codelineno-0-186" name="__codelineno-0-186"></a>            <span style="color: #EFF">resource</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">create_resource_from_dict</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resource_dict</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">resource_type</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-187"><a id="__codelineno-0-187" name="__codelineno-0-187"></a>            <span style="color: #BB80B3">if</span> <span style="color: #EFF">resource</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-188"><a id="__codelineno-0-188" name="__codelineno-0-188"></a>                <span style="color: #BB80B3">return</span> <span style="color: #EFF">resource</span>
</span><span id="__span-0-189"><a id="__codelineno-0-189" name="__codelineno-0-189"></a>        <span style="color: #BB80B3">except</span> <span style="color: #FFCB6B">Exception</span> <span style="color: #BB80B3">as</span> <span style="color: #EFF">e</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-190"><a id="__codelineno-0-190" name="__codelineno-0-190"></a>            <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Failed to validate FHIR resource: </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">e</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-191"><a id="__codelineno-0-191" name="__codelineno-0-191"></a>            <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-192"><a id="__codelineno-0-192" name="__codelineno-0-192"></a>
</span><span id="__span-0-193"><a id="__codelineno-0-193" name="__codelineno-0-193"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">_add_required_fields</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">resource_dict</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Dict</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">resource_type</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">Dict</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-194"><a id="__codelineno-0-194" name="__codelineno-0-194"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Add required fields to FHIR resource dictionary based on resource type.</span>
</span><span id="__span-0-195"><a id="__codelineno-0-195" name="__codelineno-0-195"></a><span style="color: #546E7A; font-style: italic">        Currently only supports Condition, MedicationStatement, and AllergyIntolerance.</span>
</span><span id="__span-0-196"><a id="__codelineno-0-196" name="__codelineno-0-196"></a>
</span><span id="__span-0-197"><a id="__codelineno-0-197" name="__codelineno-0-197"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-198"><a id="__codelineno-0-198" name="__codelineno-0-198"></a><span style="color: #546E7A; font-style: italic">            resource_dict: Dictionary representation of the resource</span>
</span><span id="__span-0-199"><a id="__codelineno-0-199" name="__codelineno-0-199"></a><span style="color: #546E7A; font-style: italic">            resource_type: Type of FHIR resource</span>
</span><span id="__span-0-200"><a id="__codelineno-0-200" name="__codelineno-0-200"></a>
</span><span id="__span-0-201"><a id="__codelineno-0-201" name="__codelineno-0-201"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-202"><a id="__codelineno-0-202" name="__codelineno-0-202"></a><span style="color: #546E7A; font-style: italic">            Dict: Resource dictionary with required fields added</span>
</span><span id="__span-0-203"><a id="__codelineno-0-203" name="__codelineno-0-203"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-204"><a id="__codelineno-0-204" name="__codelineno-0-204"></a>        <span style="color: #546E7A; font-style: italic"># Add common fields</span>
</span><span id="__span-0-205"><a id="__codelineno-0-205" name="__codelineno-0-205"></a>        <span style="color: #EFF">id_prefix</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_config_value</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;defaults.common.id_prefix&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #C3E88D">&quot;hc-&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-206"><a id="__codelineno-0-206" name="__codelineno-0-206"></a>        <span style="color: #BB80B3">if</span> <span style="color: #C3E88D">&quot;id&quot;</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">resource_dict</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-207"><a id="__codelineno-0-207" name="__codelineno-0-207"></a>            <span style="color: #EFF">resource_dict</span><span style="color: #89DDFF">[</span><span style="color: #C3E88D">&quot;id&quot;</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">{</span><span style="color: #EFF">id_prefix</span><span style="color: #89DDFF">}{</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">uuid</span><span style="color: #89DDFF">.</span><span style="color: #EFF">uuid4</span><span style="color: #89DDFF">())}</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-208"><a id="__codelineno-0-208" name="__codelineno-0-208"></a>
</span><span id="__span-0-209"><a id="__codelineno-0-209" name="__codelineno-0-209"></a>        <span style="color: #546E7A; font-style: italic"># Get default values from configuration if available</span>
</span><span id="__span-0-210"><a id="__codelineno-0-210" name="__codelineno-0-210"></a>        <span style="color: #EFF">default_subject</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_config_value</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;defaults.common.subject&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-211"><a id="__codelineno-0-211" name="__codelineno-0-211"></a>
</span><span id="__span-0-212"><a id="__codelineno-0-212" name="__codelineno-0-212"></a>        <span style="color: #546E7A; font-style: italic"># Add resource-specific required fields</span>
</span><span id="__span-0-213"><a id="__codelineno-0-213" name="__codelineno-0-213"></a>        <span style="color: #BB80B3">if</span> <span style="color: #EFF">resource_type</span> <span style="color: #89DDFF">==</span> <span style="color: #C3E88D">&quot;Condition&quot;</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-214"><a id="__codelineno-0-214" name="__codelineno-0-214"></a>            <span style="color: #BB80B3">if</span> <span style="color: #C3E88D">&quot;subject&quot;</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">resource_dict</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-215"><a id="__codelineno-0-215" name="__codelineno-0-215"></a>                <span style="color: #EFF">resource_dict</span><span style="color: #89DDFF">[</span><span style="color: #C3E88D">&quot;subject&quot;</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">default_subject</span>
</span><span id="__span-0-216"><a id="__codelineno-0-216" name="__codelineno-0-216"></a>
</span><span id="__span-0-217"><a id="__codelineno-0-217" name="__codelineno-0-217"></a>            <span style="color: #BB80B3">if</span> <span style="color: #C3E88D">&quot;clinicalStatus&quot;</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">resource_dict</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-218"><a id="__codelineno-0-218" name="__codelineno-0-218"></a>                <span style="color: #EFF">default_status</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_config_value</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-219"><a id="__codelineno-0-219" name="__codelineno-0-219"></a>                    <span style="color: #C3E88D">&quot;defaults.resources.Condition.clinicalStatus&quot;</span>
</span><span id="__span-0-220"><a id="__codelineno-0-220" name="__codelineno-0-220"></a>                <span style="color: #89DDFF">)</span>
</span><span id="__span-0-221"><a id="__codelineno-0-221" name="__codelineno-0-221"></a>                <span style="color: #EFF">resource_dict</span><span style="color: #89DDFF">[</span><span style="color: #C3E88D">&quot;clinicalStatus&quot;</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">default_status</span>
</span><span id="__span-0-222"><a id="__codelineno-0-222" name="__codelineno-0-222"></a>        <span style="color: #BB80B3">elif</span> <span style="color: #EFF">resource_type</span> <span style="color: #89DDFF">==</span> <span style="color: #C3E88D">&quot;MedicationStatement&quot;</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-223"><a id="__codelineno-0-223" name="__codelineno-0-223"></a>            <span style="color: #BB80B3">if</span> <span style="color: #C3E88D">&quot;subject&quot;</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">resource_dict</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-224"><a id="__codelineno-0-224" name="__codelineno-0-224"></a>                <span style="color: #EFF">resource_dict</span><span style="color: #89DDFF">[</span><span style="color: #C3E88D">&quot;subject&quot;</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">default_subject</span>
</span><span id="__span-0-225"><a id="__codelineno-0-225" name="__codelineno-0-225"></a>            <span style="color: #BB80B3">if</span> <span style="color: #C3E88D">&quot;status&quot;</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">resource_dict</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-226"><a id="__codelineno-0-226" name="__codelineno-0-226"></a>                <span style="color: #EFF">default_status</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_config_value</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-227"><a id="__codelineno-0-227" name="__codelineno-0-227"></a>                    <span style="color: #C3E88D">&quot;defaults.resources.MedicationStatement.status&quot;</span>
</span><span id="__span-0-228"><a id="__codelineno-0-228" name="__codelineno-0-228"></a>                <span style="color: #89DDFF">)</span>
</span><span id="__span-0-229"><a id="__codelineno-0-229" name="__codelineno-0-229"></a>                <span style="color: #EFF">resource_dict</span><span style="color: #89DDFF">[</span><span style="color: #C3E88D">&quot;status&quot;</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">default_status</span>
</span><span id="__span-0-230"><a id="__codelineno-0-230" name="__codelineno-0-230"></a>        <span style="color: #BB80B3">elif</span> <span style="color: #EFF">resource_type</span> <span style="color: #89DDFF">==</span> <span style="color: #C3E88D">&quot;AllergyIntolerance&quot;</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-231"><a id="__codelineno-0-231" name="__codelineno-0-231"></a>            <span style="color: #BB80B3">if</span> <span style="color: #C3E88D">&quot;patient&quot;</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">resource_dict</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-232"><a id="__codelineno-0-232" name="__codelineno-0-232"></a>                <span style="color: #EFF">resource_dict</span><span style="color: #89DDFF">[</span><span style="color: #C3E88D">&quot;patient&quot;</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">default_subject</span>
</span><span id="__span-0-233"><a id="__codelineno-0-233" name="__codelineno-0-233"></a>            <span style="color: #BB80B3">if</span> <span style="color: #C3E88D">&quot;clinicalStatus&quot;</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">resource_dict</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-234"><a id="__codelineno-0-234" name="__codelineno-0-234"></a>                <span style="color: #EFF">default_status</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_config_value</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-235"><a id="__codelineno-0-235" name="__codelineno-0-235"></a>                    <span style="color: #C3E88D">&quot;defaults.resources.AllergyIntolerance.clinicalStatus&quot;</span>
</span><span id="__span-0-236"><a id="__codelineno-0-236" name="__codelineno-0-236"></a>                <span style="color: #89DDFF">)</span>
</span><span id="__span-0-237"><a id="__codelineno-0-237" name="__codelineno-0-237"></a>                <span style="color: #EFF">resource_dict</span><span style="color: #89DDFF">[</span><span style="color: #C3E88D">&quot;clinicalStatus&quot;</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">default_status</span>
</span><span id="__span-0-238"><a id="__codelineno-0-238" name="__codelineno-0-238"></a>
</span><span id="__span-0-239"><a id="__codelineno-0-239" name="__codelineno-0-239"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">resource_dict</span>
</span><span id="__span-0-240"><a id="__codelineno-0-240" name="__codelineno-0-240"></a>
</span><span id="__span-0-241"><a id="__codelineno-0-241" name="__codelineno-0-241"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">generate_resources_from_hl7v2_entries</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-242"><a id="__codelineno-0-242" name="__codelineno-0-242"></a>        <span style="color: #89DDFF">self,</span> <span style="color: #EFF">entries</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">],</span> <span style="color: #EFF">message_key</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span>
</span><span id="__span-0-243"><a id="__codelineno-0-243" name="__codelineno-0-243"></a>    <span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">]:</span>
</span><span id="__span-0-244"><a id="__codelineno-0-244" name="__codelineno-0-244"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;</span>
</span><span id="__span-0-245"><a id="__codelineno-0-245" name="__codelineno-0-245"></a><span style="color: #546E7A; font-style: italic">        Convert HL7v2 message entries into FHIR resources.</span>
</span><span id="__span-0-246"><a id="__codelineno-0-246" name="__codelineno-0-246"></a><span style="color: #546E7A; font-style: italic">        This is a placeholder implementation.</span>
</span><span id="__span-0-247"><a id="__codelineno-0-247" name="__codelineno-0-247"></a>
</span><span id="__span-0-248"><a id="__codelineno-0-248" name="__codelineno-0-248"></a><span style="color: #546E7A; font-style: italic">        Args:</span>
</span><span id="__span-0-249"><a id="__codelineno-0-249" name="__codelineno-0-249"></a><span style="color: #546E7A; font-style: italic">            entries: List of HL7v2 message entries to convert</span>
</span><span id="__span-0-250"><a id="__codelineno-0-250" name="__codelineno-0-250"></a><span style="color: #546E7A; font-style: italic">            message_key: Key identifying the message type</span>
</span><span id="__span-0-251"><a id="__codelineno-0-251" name="__codelineno-0-251"></a>
</span><span id="__span-0-252"><a id="__codelineno-0-252" name="__codelineno-0-252"></a><span style="color: #546E7A; font-style: italic">        Returns:</span>
</span><span id="__span-0-253"><a id="__codelineno-0-253" name="__codelineno-0-253"></a><span style="color: #546E7A; font-style: italic">            List of FHIR resources</span>
</span><span id="__span-0-254"><a id="__codelineno-0-254" name="__codelineno-0-254"></a><span style="color: #546E7A; font-style: italic">        &quot;&quot;&quot;</span>
</span><span id="__span-0-255"><a id="__codelineno-0-255" name="__codelineno-0-255"></a>        <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">warning</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-256"><a id="__codelineno-0-256" name="__codelineno-0-256"></a>            <span style="color: #C3E88D">&quot;FHIR resource generation from HL7v2 is a placeholder implementation&quot;</span>
</span><span id="__span-0-257"><a id="__codelineno-0-257" name="__codelineno-0-257"></a>        <span style="color: #89DDFF">)</span>
</span><span id="__span-0-258"><a id="__codelineno-0-258" name="__codelineno-0-258"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">[]</span>
</span></code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.generators.fhir.FHIRGenerator.generate_resources_from_cda_section_entries" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">generate_resources_from_cda_section_entries</span><span style="color: #89DDFF">(</span><span style="color: #EFF">entries</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">section_key</span><span style="color: #89DDFF">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Convert CDA section entries into FHIR resources using configured templates.</p>
<p>This method processes entries from a CDA section and generates corresponding FHIR
resources based on templates and configuration. It handles validation and error
checking during the conversion process.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>entries</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List of CDA section entries in xmltodict format to convert</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.List">List</span>[<span title="typing.Dict">Dict</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>section_key</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Configuration key identifying the section (e.g. "problems", "medications")
Used to look up templates and resource type mappings</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.List">List</span>[<span title="typing.Dict">Dict</span>]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List of validated FHIR resource dictionaries. Empty list if conversion fails.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <h4 id="healthchain.interop.generators.fhir.FHIRGenerator.generate_resources_from_cda_section_entries--convert-problem-list-entries-to-fhir-condition-resources">Convert problem list entries to FHIR Condition resources</h4>
<p>conditions = generator.generate_resources_from_cda_section_entries(
    problem_entries, "problems"
)</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/generators/fhir.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-70"> 70</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-71"> 71</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-72"> 72</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-73"> 73</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-74"> 74</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-75"> 75</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-76"> 76</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-77"> 77</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-78"> 78</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-79"> 79</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-80"> 80</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-81"> 81</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-82"> 82</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-83"> 83</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-84"> 84</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-85"> 85</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-86"> 86</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-87"> 87</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-88"> 88</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-89"> 89</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-90"> 90</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-91"> 91</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-92"> 92</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-93"> 93</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-94"> 94</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-95"> 95</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-96"> 96</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-97"> 97</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-98"> 98</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-99"> 99</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-100">100</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-101">101</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-102">102</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-103">103</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-104">104</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-105">105</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-106">106</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-107">107</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-108">108</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-109">109</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-110">110</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-111">111</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-112">112</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-113">113</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-114">114</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-115">115</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-116">116</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-117">117</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-118">118</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-119">119</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-120">120</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-121">121</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-122">122</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-123">123</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-124">124</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-125">125</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-126">126</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-127">127</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-128">128</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-129">129</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-130">130</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-131">131</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-132">132</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-133">133</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-134">134</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-135">135</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-70"><a id="__codelineno-0-70" name="__codelineno-0-70"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">generate_resources_from_cda_section_entries</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-71"><a id="__codelineno-0-71" name="__codelineno-0-71"></a>    <span style="color: #89DDFF">self,</span> <span style="color: #EFF">entries</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">],</span> <span style="color: #EFF">section_key</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span>
</span><span id="__span-0-72"><a id="__codelineno-0-72" name="__codelineno-0-72"></a><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">]:</span>
</span><span id="__span-0-73"><a id="__codelineno-0-73" name="__codelineno-0-73"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;</span>
</span><span id="__span-0-74"><a id="__codelineno-0-74" name="__codelineno-0-74"></a><span style="color: #546E7A; font-style: italic">    Convert CDA section entries into FHIR resources using configured templates.</span>
</span><span id="__span-0-75"><a id="__codelineno-0-75" name="__codelineno-0-75"></a>
</span><span id="__span-0-76"><a id="__codelineno-0-76" name="__codelineno-0-76"></a><span style="color: #546E7A; font-style: italic">    This method processes entries from a CDA section and generates corresponding FHIR</span>
</span><span id="__span-0-77"><a id="__codelineno-0-77" name="__codelineno-0-77"></a><span style="color: #546E7A; font-style: italic">    resources based on templates and configuration. It handles validation and error</span>
</span><span id="__span-0-78"><a id="__codelineno-0-78" name="__codelineno-0-78"></a><span style="color: #546E7A; font-style: italic">    checking during the conversion process.</span>
</span><span id="__span-0-79"><a id="__codelineno-0-79" name="__codelineno-0-79"></a>
</span><span id="__span-0-80"><a id="__codelineno-0-80" name="__codelineno-0-80"></a><span style="color: #546E7A; font-style: italic">    Args:</span>
</span><span id="__span-0-81"><a id="__codelineno-0-81" name="__codelineno-0-81"></a><span style="color: #546E7A; font-style: italic">        entries: List of CDA section entries in xmltodict format to convert</span>
</span><span id="__span-0-82"><a id="__codelineno-0-82" name="__codelineno-0-82"></a><span style="color: #546E7A; font-style: italic">        section_key: Configuration key identifying the section (e.g. &quot;problems&quot;, &quot;medications&quot;)</span>
</span><span id="__span-0-83"><a id="__codelineno-0-83" name="__codelineno-0-83"></a><span style="color: #546E7A; font-style: italic">            Used to look up templates and resource type mappings</span>
</span><span id="__span-0-84"><a id="__codelineno-0-84" name="__codelineno-0-84"></a>
</span><span id="__span-0-85"><a id="__codelineno-0-85" name="__codelineno-0-85"></a><span style="color: #546E7A; font-style: italic">    Returns:</span>
</span><span id="__span-0-86"><a id="__codelineno-0-86" name="__codelineno-0-86"></a><span style="color: #546E7A; font-style: italic">        List of validated FHIR resource dictionaries. Empty list if conversion fails.</span>
</span><span id="__span-0-87"><a id="__codelineno-0-87" name="__codelineno-0-87"></a>
</span><span id="__span-0-88"><a id="__codelineno-0-88" name="__codelineno-0-88"></a><span style="color: #546E7A; font-style: italic">    Example:</span>
</span><span id="__span-0-89"><a id="__codelineno-0-89" name="__codelineno-0-89"></a><span style="color: #546E7A; font-style: italic">        # Convert problem list entries to FHIR Condition resources</span>
</span><span id="__span-0-90"><a id="__codelineno-0-90" name="__codelineno-0-90"></a><span style="color: #546E7A; font-style: italic">        conditions = generator.generate_resources_from_cda_section_entries(</span>
</span><span id="__span-0-91"><a id="__codelineno-0-91" name="__codelineno-0-91"></a><span style="color: #546E7A; font-style: italic">            problem_entries, &quot;problems&quot;</span>
</span><span id="__span-0-92"><a id="__codelineno-0-92" name="__codelineno-0-92"></a><span style="color: #546E7A; font-style: italic">        )</span>
</span><span id="__span-0-93"><a id="__codelineno-0-93" name="__codelineno-0-93"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-94"><a id="__codelineno-0-94" name="__codelineno-0-94"></a>    <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">section_key</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-95"><a id="__codelineno-0-95" name="__codelineno-0-95"></a>        <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-96"><a id="__codelineno-0-96" name="__codelineno-0-96"></a>            <span style="color: #C3E88D">&quot;No section key provided for CDA section entries: data needs to be in the format </span><span style="color: #EFF">\</span>
</span><span id="__span-0-97"><a id="__codelineno-0-97" name="__codelineno-0-97"></a><span style="color: #C3E88D">                  &#39;{&lt;section_key&gt;}: {&lt;section_entries&gt;}&#39;&quot;</span>
</span><span id="__span-0-98"><a id="__codelineno-0-98" name="__codelineno-0-98"></a>        <span style="color: #89DDFF">)</span>
</span><span id="__span-0-99"><a id="__codelineno-0-99" name="__codelineno-0-99"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">[]</span>
</span><span id="__span-0-100"><a id="__codelineno-0-100" name="__codelineno-0-100"></a>
</span><span id="__span-0-101"><a id="__codelineno-0-101" name="__codelineno-0-101"></a>    <span style="color: #EFF">resources</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">[]</span>
</span><span id="__span-0-102"><a id="__codelineno-0-102" name="__codelineno-0-102"></a>    <span style="color: #EFF">template</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">get_template_from_section_config</span><span style="color: #89DDFF">(</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">,</span> <span style="color: #C3E88D">&quot;resource&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-103"><a id="__codelineno-0-103" name="__codelineno-0-103"></a>
</span><span id="__span-0-104"><a id="__codelineno-0-104" name="__codelineno-0-104"></a>    <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">template</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-105"><a id="__codelineno-0-105" name="__codelineno-0-105"></a>        <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;No resource template found for section </span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-106"><a id="__codelineno-0-106" name="__codelineno-0-106"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">resources</span>
</span><span id="__span-0-107"><a id="__codelineno-0-107" name="__codelineno-0-107"></a>
</span><span id="__span-0-108"><a id="__codelineno-0-108" name="__codelineno-0-108"></a>    <span style="color: #EFF">resource_type</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get_config_value</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-109"><a id="__codelineno-0-109" name="__codelineno-0-109"></a>        <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;cda.sections.</span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">.resource&quot;</span>
</span><span id="__span-0-110"><a id="__codelineno-0-110" name="__codelineno-0-110"></a>    <span style="color: #89DDFF">)</span>
</span><span id="__span-0-111"><a id="__codelineno-0-111" name="__codelineno-0-111"></a>    <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">resource_type</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-112"><a id="__codelineno-0-112" name="__codelineno-0-112"></a>        <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;No resource type specified for section </span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-113"><a id="__codelineno-0-113" name="__codelineno-0-113"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">resources</span>
</span><span id="__span-0-114"><a id="__codelineno-0-114" name="__codelineno-0-114"></a>
</span><span id="__span-0-115"><a id="__codelineno-0-115" name="__codelineno-0-115"></a>    <span style="color: #BB80B3">for</span> <span style="color: #EFF">entry</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">entries</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-116"><a id="__codelineno-0-116" name="__codelineno-0-116"></a>        <span style="color: #BB80B3">try</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-117"><a id="__codelineno-0-117" name="__codelineno-0-117"></a>            <span style="color: #546E7A; font-style: italic"># Convert entry to FHIR resource dictionary</span>
</span><span id="__span-0-118"><a id="__codelineno-0-118" name="__codelineno-0-118"></a>            <span style="color: #EFF">resource_dict</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_render_resource_from_entry</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-119"><a id="__codelineno-0-119" name="__codelineno-0-119"></a>                <span style="color: #EFF">entry</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">section_key</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">template</span>
</span><span id="__span-0-120"><a id="__codelineno-0-120" name="__codelineno-0-120"></a>            <span style="color: #89DDFF">)</span>
</span><span id="__span-0-121"><a id="__codelineno-0-121" name="__codelineno-0-121"></a>            <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">resource_dict</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-122"><a id="__codelineno-0-122" name="__codelineno-0-122"></a>                <span style="color: #BB80B3">continue</span>
</span><span id="__span-0-123"><a id="__codelineno-0-123" name="__codelineno-0-123"></a>
</span><span id="__span-0-124"><a id="__codelineno-0-124" name="__codelineno-0-124"></a>            <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">debug</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Rendered FHIR resource: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">resource_dict</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-125"><a id="__codelineno-0-125" name="__codelineno-0-125"></a>
</span><span id="__span-0-126"><a id="__codelineno-0-126" name="__codelineno-0-126"></a>            <span style="color: #EFF">resource</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">_validate_fhir_resource</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resource_dict</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">resource_type</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-127"><a id="__codelineno-0-127" name="__codelineno-0-127"></a>
</span><span id="__span-0-128"><a id="__codelineno-0-128" name="__codelineno-0-128"></a>            <span style="color: #BB80B3">if</span> <span style="color: #EFF">resource</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-129"><a id="__codelineno-0-129" name="__codelineno-0-129"></a>                <span style="color: #EFF">resources</span><span style="color: #89DDFF">.</span><span style="color: #EFF">append</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resource</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-130"><a id="__codelineno-0-130" name="__codelineno-0-130"></a>
</span><span id="__span-0-131"><a id="__codelineno-0-131" name="__codelineno-0-131"></a>        <span style="color: #BB80B3">except</span> <span style="color: #FFCB6B">Exception</span> <span style="color: #BB80B3">as</span> <span style="color: #EFF">e</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-132"><a id="__codelineno-0-132" name="__codelineno-0-132"></a>            <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Failed to convert entry in section </span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">: </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">e</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-133"><a id="__codelineno-0-133" name="__codelineno-0-133"></a>            <span style="color: #BB80B3">continue</span>
</span><span id="__span-0-134"><a id="__codelineno-0-134" name="__codelineno-0-134"></a>
</span><span id="__span-0-135"><a id="__codelineno-0-135" name="__codelineno-0-135"></a>    <span style="color: #BB80B3">return</span> <span style="color: #EFF">resources</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.generators.fhir.FHIRGenerator.generate_resources_from_hl7v2_entries" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">generate_resources_from_hl7v2_entries</span><span style="color: #89DDFF">(</span><span style="color: #EFF">entries</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">message_key</span><span style="color: #89DDFF">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Convert HL7v2 message entries into FHIR resources.
This is a placeholder implementation.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>entries</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List of HL7v2 message entries to convert</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.List">List</span>[<span title="typing.Dict">Dict</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>message_key</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Key identifying the message type</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.List">List</span>[<span title="typing.Dict">Dict</span>]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List of FHIR resources</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/generators/fhir.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-241">241</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-242">242</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-243">243</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-244">244</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-245">245</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-246">246</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-247">247</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-248">248</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-249">249</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-250">250</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-251">251</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-252">252</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-253">253</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-254">254</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-255">255</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-256">256</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-257">257</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-258">258</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-241"><a id="__codelineno-0-241" name="__codelineno-0-241"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">generate_resources_from_hl7v2_entries</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-242"><a id="__codelineno-0-242" name="__codelineno-0-242"></a>    <span style="color: #89DDFF">self,</span> <span style="color: #EFF">entries</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">],</span> <span style="color: #EFF">message_key</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span>
</span><span id="__span-0-243"><a id="__codelineno-0-243" name="__codelineno-0-243"></a><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">]:</span>
</span><span id="__span-0-244"><a id="__codelineno-0-244" name="__codelineno-0-244"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;</span>
</span><span id="__span-0-245"><a id="__codelineno-0-245" name="__codelineno-0-245"></a><span style="color: #546E7A; font-style: italic">    Convert HL7v2 message entries into FHIR resources.</span>
</span><span id="__span-0-246"><a id="__codelineno-0-246" name="__codelineno-0-246"></a><span style="color: #546E7A; font-style: italic">    This is a placeholder implementation.</span>
</span><span id="__span-0-247"><a id="__codelineno-0-247" name="__codelineno-0-247"></a>
</span><span id="__span-0-248"><a id="__codelineno-0-248" name="__codelineno-0-248"></a><span style="color: #546E7A; font-style: italic">    Args:</span>
</span><span id="__span-0-249"><a id="__codelineno-0-249" name="__codelineno-0-249"></a><span style="color: #546E7A; font-style: italic">        entries: List of HL7v2 message entries to convert</span>
</span><span id="__span-0-250"><a id="__codelineno-0-250" name="__codelineno-0-250"></a><span style="color: #546E7A; font-style: italic">        message_key: Key identifying the message type</span>
</span><span id="__span-0-251"><a id="__codelineno-0-251" name="__codelineno-0-251"></a>
</span><span id="__span-0-252"><a id="__codelineno-0-252" name="__codelineno-0-252"></a><span style="color: #546E7A; font-style: italic">    Returns:</span>
</span><span id="__span-0-253"><a id="__codelineno-0-253" name="__codelineno-0-253"></a><span style="color: #546E7A; font-style: italic">        List of FHIR resources</span>
</span><span id="__span-0-254"><a id="__codelineno-0-254" name="__codelineno-0-254"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-255"><a id="__codelineno-0-255" name="__codelineno-0-255"></a>    <span style="color: #EFF">log</span><span style="color: #89DDFF">.</span><span style="color: #EFF">warning</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-256"><a id="__codelineno-0-256" name="__codelineno-0-256"></a>        <span style="color: #C3E88D">&quot;FHIR resource generation from HL7v2 is a placeholder implementation&quot;</span>
</span><span id="__span-0-257"><a id="__codelineno-0-257" name="__codelineno-0-257"></a>    <span style="color: #89DDFF">)</span>
</span><span id="__span-0-258"><a id="__codelineno-0-258" name="__codelineno-0-258"></a>    <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">[]</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="healthchain.interop.generators.fhir.FHIRGenerator.transform" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">transform</span><span style="color: #89DDFF">(</span><span style="color: #EFF">data</span><span style="color: #89DDFF">,</span> <span style="color: #89DDFF">**</span><span style="color: #EFF">kwargs</span><span style="color: #89DDFF">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Transform input data to FHIR resources.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List of entries from source format</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.List">List</span>[<span title="typing.Dict">Dict</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>src_format: The source format type (FormatType.CDA or FormatType.HL7V2)
section_key: For CDA, the section key
message_key: For HL7v2, the message key</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Any">Any</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>{}</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.List">List</span>[<span title="fhir.resources.resource.Resource">Resource</span>]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List[Resource]: FHIR resources</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/interop/generators/fhir.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-45">45</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-46">46</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-47">47</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-48">48</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-49">49</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-50">50</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-51">51</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-52">52</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-53">53</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-54">54</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-55">55</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-56">56</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-57">57</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-58">58</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-59">59</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-60">60</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-61">61</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-62">62</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-63">63</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-64">64</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-65">65</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-66">66</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-67">67</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-68">68</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-45"><a id="__codelineno-0-45" name="__codelineno-0-45"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">transform</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">data</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">],</span> <span style="color: #89DDFF">**</span><span style="color: #EFF">kwargs</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Any</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Resource</span><span style="color: #89DDFF">]:</span>
</span><span id="__span-0-46"><a id="__codelineno-0-46" name="__codelineno-0-46"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Transform input data to FHIR resources.</span>
</span><span id="__span-0-47"><a id="__codelineno-0-47" name="__codelineno-0-47"></a>
</span><span id="__span-0-48"><a id="__codelineno-0-48" name="__codelineno-0-48"></a><span style="color: #546E7A; font-style: italic">    Args:</span>
</span><span id="__span-0-49"><a id="__codelineno-0-49" name="__codelineno-0-49"></a><span style="color: #546E7A; font-style: italic">        data: List of entries from source format</span>
</span><span id="__span-0-50"><a id="__codelineno-0-50" name="__codelineno-0-50"></a><span style="color: #546E7A; font-style: italic">        **kwargs:</span>
</span><span id="__span-0-51"><a id="__codelineno-0-51" name="__codelineno-0-51"></a><span style="color: #546E7A; font-style: italic">            src_format: The source format type (FormatType.CDA or FormatType.HL7V2)</span>
</span><span id="__span-0-52"><a id="__codelineno-0-52" name="__codelineno-0-52"></a><span style="color: #546E7A; font-style: italic">            section_key: For CDA, the section key</span>
</span><span id="__span-0-53"><a id="__codelineno-0-53" name="__codelineno-0-53"></a><span style="color: #546E7A; font-style: italic">            message_key: For HL7v2, the message key</span>
</span><span id="__span-0-54"><a id="__codelineno-0-54" name="__codelineno-0-54"></a>
</span><span id="__span-0-55"><a id="__codelineno-0-55" name="__codelineno-0-55"></a><span style="color: #546E7A; font-style: italic">    Returns:</span>
</span><span id="__span-0-56"><a id="__codelineno-0-56" name="__codelineno-0-56"></a><span style="color: #546E7A; font-style: italic">        List[Resource]: FHIR resources</span>
</span><span id="__span-0-57"><a id="__codelineno-0-57" name="__codelineno-0-57"></a><span style="color: #546E7A; font-style: italic">    &quot;&quot;&quot;</span>
</span><span id="__span-0-58"><a id="__codelineno-0-58" name="__codelineno-0-58"></a>    <span style="color: #EFF">src_format</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">kwargs</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;src_format&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-59"><a id="__codelineno-0-59" name="__codelineno-0-59"></a>    <span style="color: #BB80B3">if</span> <span style="color: #EFF">src_format</span> <span style="color: #89DDFF">==</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">.</span><span style="color: #EFF">CDA</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-60"><a id="__codelineno-0-60" name="__codelineno-0-60"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">generate_resources_from_cda_section_entries</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-61"><a id="__codelineno-0-61" name="__codelineno-0-61"></a>            <span style="color: #EFF">data</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">kwargs</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;section_key&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-62"><a id="__codelineno-0-62" name="__codelineno-0-62"></a>        <span style="color: #89DDFF">)</span>
</span><span id="__span-0-63"><a id="__codelineno-0-63" name="__codelineno-0-63"></a>    <span style="color: #BB80B3">elif</span> <span style="color: #EFF">src_format</span> <span style="color: #89DDFF">==</span> <span style="color: #EFF">FormatType</span><span style="color: #89DDFF">.</span><span style="color: #EFF">HL7V2</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-64"><a id="__codelineno-0-64" name="__codelineno-0-64"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">self.</span><span style="color: #EFF">generate_resources_from_hl7v2_entries</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-65"><a id="__codelineno-0-65" name="__codelineno-0-65"></a>            <span style="color: #EFF">data</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">kwargs</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;message_key&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-66"><a id="__codelineno-0-66" name="__codelineno-0-66"></a>        <span style="color: #89DDFF">)</span>
</span><span id="__span-0-67"><a id="__codelineno-0-67" name="__codelineno-0-67"></a>    <span style="color: #BB80B3">else</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-68"><a id="__codelineno-0-68" name="__codelineno-0-68"></a>        <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Unsupported source format: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">src_format</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="healthchain.config.validators"></a>
    <div class="doc doc-contents first">

        <p>Configuration validators for HealthChain</p>
<p>This module provides validation models and utilities for configuration files.</p>










<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="healthchain.config.validators.AllergySectionTemplateConfig" class="doc doc-heading">
            <code>AllergySectionTemplateConfig</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="SectionTemplateConfigBase (healthchain.config.validators.SectionTemplateConfigBase)" href="#healthchain.config.validators.SectionTemplateConfigBase">SectionTemplateConfigBase</a></code></p>



        <p>Template configuration for Allergy Section</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>healthchain/config/validators.py</code></summary>
                <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-131">131</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-132">132</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-133">133</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-134">134</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-135">135</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-136">136</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-137">137</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-138">138</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-139">139</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-140">140</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-141">141</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-142">142</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-143">143</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-144">144</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-145">145</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-146">146</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-147">147</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-131"><a id="__codelineno-0-131" name="__codelineno-0-131"></a><span style="color: #BB80B3">class</span><span style="color: #EFF"> </span><span style="color: #FFCB6B">AllergySectionTemplateConfig</span><span style="color: #89DDFF">(</span><span style="color: #EFF">SectionTemplateConfigBase</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-132"><a id="__codelineno-0-132" name="__codelineno-0-132"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Template configuration for Allergy Section&quot;&quot;&quot;</span>
</span><span id="__span-0-133"><a id="__codelineno-0-133" name="__codelineno-0-133"></a>
</span><span id="__span-0-134"><a id="__codelineno-0-134" name="__codelineno-0-134"></a>    <span style="color: #EFF">act</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">ComponentTemplateConfig</span>
</span><span id="__span-0-135"><a id="__codelineno-0-135" name="__codelineno-0-135"></a>    <span style="color: #EFF">allergy_obs</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">ComponentTemplateConfig</span>
</span><span id="__span-0-136"><a id="__codelineno-0-136" name="__codelineno-0-136"></a>    <span style="color: #EFF">reaction_obs</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #EFF">ComponentTemplateConfig</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-137"><a id="__codelineno-0-137" name="__codelineno-0-137"></a>    <span style="color: #EFF">severity_obs</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #EFF">ComponentTemplateConfig</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-138"><a id="__codelineno-0-138" name="__codelineno-0-138"></a>    <span style="color: #EFF">clinical_status_obs</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">ComponentTemplateConfig</span>
</span><span id="__span-0-139"><a id="__codelineno-0-139" name="__codelineno-0-139"></a>
</span><span id="__span-0-140"><a id="__codelineno-0-140" name="__codelineno-0-140"></a>    <span style="color: #82AAFF">@field_validator</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;allergy_obs&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-141"><a id="__codelineno-0-141" name="__codelineno-0-141"></a>    <span style="color: #82AAFF">@classmethod</span>
</span><span id="__span-0-142"><a id="__codelineno-0-142" name="__codelineno-0-142"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">validate_allergy_obs</span><span style="color: #89DDFF">(cls,</span> <span style="color: #EFF">v</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-143"><a id="__codelineno-0-143" name="__codelineno-0-143"></a>        <span style="color: #EFF">required_fields</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">{</span><span style="color: #C3E88D">&quot;code&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #C3E88D">&quot;code_system&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #C3E88D">&quot;status_code&quot;</span><span style="color: #89DDFF">}</span>
</span><span id="__span-0-144"><a id="__codelineno-0-144" name="__codelineno-0-144"></a>        <span style="color: #EFF">missing</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">required_fields</span> <span style="color: #89DDFF">-</span> <span style="color: #82AAFF">set</span><span style="color: #89DDFF">(</span><span style="color: #EFF">v</span><span style="color: #89DDFF">.</span><span style="color: #EFF">model_dump</span><span style="color: #89DDFF">(</span><span style="color: #EFF">exclude_unset</span><span style="color: #89DDFF">=True).</span><span style="color: #EFF">keys</span><span style="color: #89DDFF">())</span>
</span><span id="__span-0-145"><a id="__codelineno-0-145" name="__codelineno-0-145"></a>        <span style="color: #BB80B3">if</span> <span style="color: #EFF">missing</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-146"><a id="__codelineno-0-146" name="__codelineno-0-146"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;allergy_obs missing required fields: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">missing</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-147"><a id="__codelineno-0-147" name="__codelineno-0-147"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">v</span>
</span></code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="healthchain.config.validators.CcdDocumentConfig" class="doc doc-heading">
            <code>CcdDocumentConfig</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="DocumentConfigBase (healthchain.config.validators.DocumentConfigBase)" href="#healthchain.config.validators.DocumentConfigBase">DocumentConfigBase</a></code></p>



        <p>Configuration model specific to CCD documents</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>healthchain/config/validators.py</code></summary>
                <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-193">193</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-194">194</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-195">195</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-196">196</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-193"><a id="__codelineno-0-193" name="__codelineno-0-193"></a><span style="color: #BB80B3">class</span><span style="color: #EFF"> </span><span style="color: #FFCB6B">CcdDocumentConfig</span><span style="color: #89DDFF">(</span><span style="color: #EFF">DocumentConfigBase</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-194"><a id="__codelineno-0-194" name="__codelineno-0-194"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Configuration model specific to CCD documents&quot;&quot;&quot;</span>
</span><span id="__span-0-195"><a id="__codelineno-0-195" name="__codelineno-0-195"></a>
</span><span id="__span-0-196"><a id="__codelineno-0-196" name="__codelineno-0-196"></a>    <span style="color: #EFF">allowed_sections</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">[</span><span style="color: #C3E88D">&quot;problems&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #C3E88D">&quot;medications&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #C3E88D">&quot;notes&quot;</span><span style="color: #89DDFF">]</span>
</span></code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="healthchain.config.validators.ComponentTemplateConfig" class="doc doc-heading">
            <code>ComponentTemplateConfig</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Generic template for CDA/FHIR component configuration</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>healthchain/config/validators.py</code></summary>
                <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-18">18</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-19">19</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-20">20</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-21">21</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-22">22</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-23">23</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-24">24</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-25">25</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-26">26</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-27">27</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-28">28</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-29">29</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-30">30</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-31">31</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-32">32</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-33">33</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18"></a><span style="color: #BB80B3">class</span><span style="color: #EFF"> </span><span style="color: #FFCB6B">ComponentTemplateConfig</span><span style="color: #89DDFF">(</span><span style="color: #EFF">BaseModel</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Generic template for CDA/FHIR component configuration&quot;&quot;&quot;</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20"></a>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21"></a>    <span style="color: #EFF">template_id</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Union</span><span style="color: #89DDFF">[</span><span style="color: #EFF">List</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">],</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22"></a>    <span style="color: #EFF">code</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23"></a>    <span style="color: #EFF">code_system</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #C3E88D">&quot;2.16.840.1.113883.6.1&quot;</span>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24"></a>    <span style="color: #EFF">code_system_name</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #C3E88D">&quot;LOINC&quot;</span>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25"></a>    <span style="color: #EFF">display_name</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26"></a>    <span style="color: #EFF">status_code</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #C3E88D">&quot;active&quot;</span>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27"></a>    <span style="color: #EFF">class_code</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28"></a>    <span style="color: #EFF">mood_code</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29"></a>    <span style="color: #EFF">type_code</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30"></a>    <span style="color: #EFF">inversion_ind</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">bool</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31"></a>    <span style="color: #EFF">value</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">Any</span><span style="color: #89DDFF">]]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32"></a>
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33"></a>    <span style="color: #EFF">model_config</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">ConfigDict</span><span style="color: #89DDFF">(</span><span style="color: #EFF">extra</span><span style="color: #89DDFF">=</span><span style="color: #C3E88D">&quot;allow&quot;</span><span style="color: #89DDFF">)</span>
</span></code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="healthchain.config.validators.DocumentConfigBase" class="doc doc-heading">
            <code>DocumentConfigBase</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Generic document configuration model</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>healthchain/config/validators.py</code></summary>
                <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-150">150</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-151">151</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-152">152</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-153">153</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-154">154</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-155">155</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-156">156</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-157">157</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-158">158</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-159">159</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-160">160</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-161">161</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-162">162</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-163">163</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-164">164</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-165">165</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-166">166</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-167">167</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-168">168</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-169">169</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-170">170</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-171">171</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-172">172</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-173">173</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-174">174</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-175">175</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-176">176</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-177">177</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-178">178</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-179">179</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-180">180</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-181">181</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-182">182</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-183">183</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-184">184</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-185">185</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-186">186</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-187">187</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-188">188</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-189">189</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-190">190</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-150"><a id="__codelineno-0-150" name="__codelineno-0-150"></a><span style="color: #BB80B3">class</span><span style="color: #EFF"> </span><span style="color: #FFCB6B">DocumentConfigBase</span><span style="color: #89DDFF">(</span><span style="color: #EFF">BaseModel</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-151"><a id="__codelineno-0-151" name="__codelineno-0-151"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Generic document configuration model&quot;&quot;&quot;</span>
</span><span id="__span-0-152"><a id="__codelineno-0-152" name="__codelineno-0-152"></a>
</span><span id="__span-0-153"><a id="__codelineno-0-153" name="__codelineno-0-153"></a>    <span style="color: #EFF">type_id</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Dict</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">Any</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-154"><a id="__codelineno-0-154" name="__codelineno-0-154"></a>    <span style="color: #EFF">code</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Dict</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">Any</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-155"><a id="__codelineno-0-155" name="__codelineno-0-155"></a>    <span style="color: #EFF">confidentiality_code</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Dict</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">Any</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-156"><a id="__codelineno-0-156" name="__codelineno-0-156"></a>    <span style="color: #EFF">language_code</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #C3E88D">&quot;en-US&quot;</span>
</span><span id="__span-0-157"><a id="__codelineno-0-157" name="__codelineno-0-157"></a>    <span style="color: #EFF">templates</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">Any</span><span style="color: #89DDFF">]]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-158"><a id="__codelineno-0-158" name="__codelineno-0-158"></a>    <span style="color: #EFF">structure</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">Any</span><span style="color: #89DDFF">]]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-159"><a id="__codelineno-0-159" name="__codelineno-0-159"></a>    <span style="color: #EFF">defaults</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">Any</span><span style="color: #89DDFF">]]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-160"><a id="__codelineno-0-160" name="__codelineno-0-160"></a>    <span style="color: #EFF">rendering</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">Any</span><span style="color: #89DDFF">]]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-161"><a id="__codelineno-0-161" name="__codelineno-0-161"></a>
</span><span id="__span-0-162"><a id="__codelineno-0-162" name="__codelineno-0-162"></a>    <span style="color: #82AAFF">@field_validator</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;type_id&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-163"><a id="__codelineno-0-163" name="__codelineno-0-163"></a>    <span style="color: #82AAFF">@classmethod</span>
</span><span id="__span-0-164"><a id="__codelineno-0-164" name="__codelineno-0-164"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">validate_type_id</span><span style="color: #89DDFF">(cls,</span> <span style="color: #EFF">v</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-165"><a id="__codelineno-0-165" name="__codelineno-0-165"></a>        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #82AAFF">isinstance</span><span style="color: #89DDFF">(</span><span style="color: #EFF">v</span><span style="color: #89DDFF">,</span> <span style="color: #82AAFF">dict</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF; font-style: italic">or</span> <span style="color: #C3E88D">&quot;root&quot;</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">v</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-166"><a id="__codelineno-0-166" name="__codelineno-0-166"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;type_id must contain &#39;root&#39; field&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-167"><a id="__codelineno-0-167" name="__codelineno-0-167"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">v</span>
</span><span id="__span-0-168"><a id="__codelineno-0-168" name="__codelineno-0-168"></a>
</span><span id="__span-0-169"><a id="__codelineno-0-169" name="__codelineno-0-169"></a>    <span style="color: #82AAFF">@field_validator</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;code&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-170"><a id="__codelineno-0-170" name="__codelineno-0-170"></a>    <span style="color: #82AAFF">@classmethod</span>
</span><span id="__span-0-171"><a id="__codelineno-0-171" name="__codelineno-0-171"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">validate_code</span><span style="color: #89DDFF">(cls,</span> <span style="color: #EFF">v</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-172"><a id="__codelineno-0-172" name="__codelineno-0-172"></a>        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #82AAFF">isinstance</span><span style="color: #89DDFF">(</span><span style="color: #EFF">v</span><span style="color: #89DDFF">,</span> <span style="color: #82AAFF">dict</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF; font-style: italic">or</span> <span style="color: #C3E88D">&quot;code&quot;</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">v</span> <span style="color: #89DDFF; font-style: italic">or</span> <span style="color: #C3E88D">&quot;code_system&quot;</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">v</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-173"><a id="__codelineno-0-173" name="__codelineno-0-173"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;code must contain &#39;code&#39; and &#39;code_system&#39; fields&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-174"><a id="__codelineno-0-174" name="__codelineno-0-174"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">v</span>
</span><span id="__span-0-175"><a id="__codelineno-0-175" name="__codelineno-0-175"></a>
</span><span id="__span-0-176"><a id="__codelineno-0-176" name="__codelineno-0-176"></a>    <span style="color: #82AAFF">@field_validator</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;confidentiality_code&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-177"><a id="__codelineno-0-177" name="__codelineno-0-177"></a>    <span style="color: #82AAFF">@classmethod</span>
</span><span id="__span-0-178"><a id="__codelineno-0-178" name="__codelineno-0-178"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">validate_confidentiality_code</span><span style="color: #89DDFF">(cls,</span> <span style="color: #EFF">v</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-179"><a id="__codelineno-0-179" name="__codelineno-0-179"></a>        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #82AAFF">isinstance</span><span style="color: #89DDFF">(</span><span style="color: #EFF">v</span><span style="color: #89DDFF">,</span> <span style="color: #82AAFF">dict</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF; font-style: italic">or</span> <span style="color: #C3E88D">&quot;code&quot;</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">v</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-180"><a id="__codelineno-0-180" name="__codelineno-0-180"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;confidentiality_code must contain &#39;code&#39; field&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-181"><a id="__codelineno-0-181" name="__codelineno-0-181"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">v</span>
</span><span id="__span-0-182"><a id="__codelineno-0-182" name="__codelineno-0-182"></a>
</span><span id="__span-0-183"><a id="__codelineno-0-183" name="__codelineno-0-183"></a>    <span style="color: #82AAFF">@field_validator</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;templates&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-184"><a id="__codelineno-0-184" name="__codelineno-0-184"></a>    <span style="color: #82AAFF">@classmethod</span>
</span><span id="__span-0-185"><a id="__codelineno-0-185" name="__codelineno-0-185"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">validate_templates</span><span style="color: #89DDFF">(cls,</span> <span style="color: #EFF">v</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-186"><a id="__codelineno-0-186" name="__codelineno-0-186"></a>        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #82AAFF">isinstance</span><span style="color: #89DDFF">(</span><span style="color: #EFF">v</span><span style="color: #89DDFF">,</span> <span style="color: #82AAFF">dict</span><span style="color: #89DDFF">)</span> <span style="color: #89DDFF; font-style: italic">or</span> <span style="color: #C3E88D">&quot;section&quot;</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">v</span> <span style="color: #89DDFF; font-style: italic">or</span> <span style="color: #C3E88D">&quot;document&quot;</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #89DDFF; font-style: italic">in</span> <span style="color: #EFF">v</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-187"><a id="__codelineno-0-187" name="__codelineno-0-187"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;templates must contain &#39;section&#39; and &#39;document&#39; fields&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-188"><a id="__codelineno-0-188" name="__codelineno-0-188"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">v</span>
</span><span id="__span-0-189"><a id="__codelineno-0-189" name="__codelineno-0-189"></a>
</span><span id="__span-0-190"><a id="__codelineno-0-190" name="__codelineno-0-190"></a>    <span style="color: #EFF">model_config</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">ConfigDict</span><span style="color: #89DDFF">(</span><span style="color: #EFF">extra</span><span style="color: #89DDFF">=</span><span style="color: #C3E88D">&quot;allow&quot;</span><span style="color: #89DDFF">)</span>
</span></code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="healthchain.config.validators.MedicationSectionTemplateConfig" class="doc doc-heading">
            <code>MedicationSectionTemplateConfig</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="SectionTemplateConfigBase (healthchain.config.validators.SectionTemplateConfigBase)" href="#healthchain.config.validators.SectionTemplateConfigBase">SectionTemplateConfigBase</a></code></p>



        <p>Template configuration for SubstanceAdministration Section</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>healthchain/config/validators.py</code></summary>
                <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-116">116</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-117">117</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-118">118</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-119">119</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-120">120</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-121">121</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-122">122</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-123">123</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-124">124</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-125">125</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-126">126</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-127">127</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-128">128</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-116"><a id="__codelineno-0-116" name="__codelineno-0-116"></a><span style="color: #BB80B3">class</span><span style="color: #EFF"> </span><span style="color: #FFCB6B">MedicationSectionTemplateConfig</span><span style="color: #89DDFF">(</span><span style="color: #EFF">SectionTemplateConfigBase</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-117"><a id="__codelineno-0-117" name="__codelineno-0-117"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Template configuration for SubstanceAdministration Section&quot;&quot;&quot;</span>
</span><span id="__span-0-118"><a id="__codelineno-0-118" name="__codelineno-0-118"></a>
</span><span id="__span-0-119"><a id="__codelineno-0-119" name="__codelineno-0-119"></a>    <span style="color: #EFF">substance_admin</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">ComponentTemplateConfig</span>
</span><span id="__span-0-120"><a id="__codelineno-0-120" name="__codelineno-0-120"></a>    <span style="color: #EFF">manufactured_product</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">ComponentTemplateConfig</span>
</span><span id="__span-0-121"><a id="__codelineno-0-121" name="__codelineno-0-121"></a>    <span style="color: #EFF">clinical_status_obs</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">ComponentTemplateConfig</span>
</span><span id="__span-0-122"><a id="__codelineno-0-122" name="__codelineno-0-122"></a>
</span><span id="__span-0-123"><a id="__codelineno-0-123" name="__codelineno-0-123"></a>    <span style="color: #82AAFF">@field_validator</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;substance_admin&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-124"><a id="__codelineno-0-124" name="__codelineno-0-124"></a>    <span style="color: #82AAFF">@classmethod</span>
</span><span id="__span-0-125"><a id="__codelineno-0-125" name="__codelineno-0-125"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">validate_substance_admin</span><span style="color: #89DDFF">(cls,</span> <span style="color: #EFF">v</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-126"><a id="__codelineno-0-126" name="__codelineno-0-126"></a>        <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">v</span><span style="color: #89DDFF">.</span><span style="color: #EFF">status_code</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-127"><a id="__codelineno-0-127" name="__codelineno-0-127"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;substance_admin requires status_code&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-128"><a id="__codelineno-0-128" name="__codelineno-0-128"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">v</span>
</span></code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="healthchain.config.validators.NoteSectionTemplateConfig" class="doc doc-heading">
            <code>NoteSectionTemplateConfig</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="SectionTemplateConfigBase (healthchain.config.validators.SectionTemplateConfigBase)" href="#healthchain.config.validators.SectionTemplateConfigBase">SectionTemplateConfigBase</a></code></p>



        <p>Template configuration for Notes Section</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>healthchain/config/validators.py</code></summary>
                <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-199">199</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-200">200</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-201">201</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-202">202</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-203">203</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-204">204</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-205">205</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-206">206</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-207">207</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-208">208</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-209">209</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-210">210</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-211">211</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-199"><a id="__codelineno-0-199" name="__codelineno-0-199"></a><span style="color: #BB80B3">class</span><span style="color: #EFF"> </span><span style="color: #FFCB6B">NoteSectionTemplateConfig</span><span style="color: #89DDFF">(</span><span style="color: #EFF">SectionTemplateConfigBase</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-200"><a id="__codelineno-0-200" name="__codelineno-0-200"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Template configuration for Notes Section&quot;&quot;&quot;</span>
</span><span id="__span-0-201"><a id="__codelineno-0-201" name="__codelineno-0-201"></a>
</span><span id="__span-0-202"><a id="__codelineno-0-202" name="__codelineno-0-202"></a>    <span style="color: #EFF">note_section</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">ComponentTemplateConfig</span>
</span><span id="__span-0-203"><a id="__codelineno-0-203" name="__codelineno-0-203"></a>
</span><span id="__span-0-204"><a id="__codelineno-0-204" name="__codelineno-0-204"></a>    <span style="color: #82AAFF">@field_validator</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;note_section&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-205"><a id="__codelineno-0-205" name="__codelineno-0-205"></a>    <span style="color: #82AAFF">@classmethod</span>
</span><span id="__span-0-206"><a id="__codelineno-0-206" name="__codelineno-0-206"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">validate_note_section</span><span style="color: #89DDFF">(cls,</span> <span style="color: #EFF">v</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-207"><a id="__codelineno-0-207" name="__codelineno-0-207"></a>        <span style="color: #EFF">required_fields</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">{</span><span style="color: #C3E88D">&quot;template_id&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #C3E88D">&quot;code&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #C3E88D">&quot;code_system&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #C3E88D">&quot;status_code&quot;</span><span style="color: #89DDFF">}</span>
</span><span id="__span-0-208"><a id="__codelineno-0-208" name="__codelineno-0-208"></a>        <span style="color: #EFF">missing</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">required_fields</span> <span style="color: #89DDFF">-</span> <span style="color: #82AAFF">set</span><span style="color: #89DDFF">(</span><span style="color: #EFF">v</span><span style="color: #89DDFF">.</span><span style="color: #EFF">model_dump</span><span style="color: #89DDFF">(</span><span style="color: #EFF">exclude_unset</span><span style="color: #89DDFF">=True).</span><span style="color: #EFF">keys</span><span style="color: #89DDFF">())</span>
</span><span id="__span-0-209"><a id="__codelineno-0-209" name="__codelineno-0-209"></a>        <span style="color: #BB80B3">if</span> <span style="color: #EFF">missing</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-210"><a id="__codelineno-0-210" name="__codelineno-0-210"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;note_section missing required fields: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">missing</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-211"><a id="__codelineno-0-211" name="__codelineno-0-211"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">v</span>
</span></code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="healthchain.config.validators.ProblemSectionTemplateConfig" class="doc doc-heading">
            <code>ProblemSectionTemplateConfig</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="SectionTemplateConfigBase (healthchain.config.validators.SectionTemplateConfigBase)" href="#healthchain.config.validators.SectionTemplateConfigBase">SectionTemplateConfigBase</a></code></p>



        <p>Template configuration for Problem Section</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>healthchain/config/validators.py</code></summary>
                <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-90"> 90</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-91"> 91</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-92"> 92</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-93"> 93</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-94"> 94</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-95"> 95</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-96"> 96</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-97"> 97</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-98"> 98</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-99"> 99</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-100">100</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-101">101</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-102">102</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-103">103</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-104">104</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-105">105</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-106">106</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-107">107</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-108">108</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-109">109</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-110">110</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-111">111</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-112">112</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-113">113</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-90"><a id="__codelineno-0-90" name="__codelineno-0-90"></a><span style="color: #BB80B3">class</span><span style="color: #EFF"> </span><span style="color: #FFCB6B">ProblemSectionTemplateConfig</span><span style="color: #89DDFF">(</span><span style="color: #EFF">SectionTemplateConfigBase</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-91"><a id="__codelineno-0-91" name="__codelineno-0-91"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Template configuration for Problem Section&quot;&quot;&quot;</span>
</span><span id="__span-0-92"><a id="__codelineno-0-92" name="__codelineno-0-92"></a>
</span><span id="__span-0-93"><a id="__codelineno-0-93" name="__codelineno-0-93"></a>    <span style="color: #EFF">act</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">ComponentTemplateConfig</span>
</span><span id="__span-0-94"><a id="__codelineno-0-94" name="__codelineno-0-94"></a>    <span style="color: #EFF">problem_obs</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">ComponentTemplateConfig</span>
</span><span id="__span-0-95"><a id="__codelineno-0-95" name="__codelineno-0-95"></a>    <span style="color: #EFF">clinical_status_obs</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">ComponentTemplateConfig</span>
</span><span id="__span-0-96"><a id="__codelineno-0-96" name="__codelineno-0-96"></a>
</span><span id="__span-0-97"><a id="__codelineno-0-97" name="__codelineno-0-97"></a>    <span style="color: #82AAFF">@field_validator</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;problem_obs&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-98"><a id="__codelineno-0-98" name="__codelineno-0-98"></a>    <span style="color: #82AAFF">@classmethod</span>
</span><span id="__span-0-99"><a id="__codelineno-0-99" name="__codelineno-0-99"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">validate_problem_obs</span><span style="color: #89DDFF">(cls,</span> <span style="color: #EFF">v</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-100"><a id="__codelineno-0-100" name="__codelineno-0-100"></a>        <span style="color: #EFF">required_fields</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">{</span><span style="color: #C3E88D">&quot;code&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #C3E88D">&quot;code_system&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #C3E88D">&quot;status_code&quot;</span><span style="color: #89DDFF">}</span>
</span><span id="__span-0-101"><a id="__codelineno-0-101" name="__codelineno-0-101"></a>        <span style="color: #EFF">missing</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">required_fields</span> <span style="color: #89DDFF">-</span> <span style="color: #82AAFF">set</span><span style="color: #89DDFF">(</span><span style="color: #EFF">v</span><span style="color: #89DDFF">.</span><span style="color: #EFF">model_dump</span><span style="color: #89DDFF">(</span><span style="color: #EFF">exclude_unset</span><span style="color: #89DDFF">=True).</span><span style="color: #EFF">keys</span><span style="color: #89DDFF">())</span>
</span><span id="__span-0-102"><a id="__codelineno-0-102" name="__codelineno-0-102"></a>        <span style="color: #BB80B3">if</span> <span style="color: #EFF">missing</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-103"><a id="__codelineno-0-103" name="__codelineno-0-103"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;problem_obs missing required fields: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">missing</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-104"><a id="__codelineno-0-104" name="__codelineno-0-104"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">v</span>
</span><span id="__span-0-105"><a id="__codelineno-0-105" name="__codelineno-0-105"></a>
</span><span id="__span-0-106"><a id="__codelineno-0-106" name="__codelineno-0-106"></a>    <span style="color: #82AAFF">@field_validator</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;clinical_status_obs&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-107"><a id="__codelineno-0-107" name="__codelineno-0-107"></a>    <span style="color: #82AAFF">@classmethod</span>
</span><span id="__span-0-108"><a id="__codelineno-0-108" name="__codelineno-0-108"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">validate_clinical_status</span><span style="color: #89DDFF">(cls,</span> <span style="color: #EFF">v</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-109"><a id="__codelineno-0-109" name="__codelineno-0-109"></a>        <span style="color: #EFF">required_fields</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">{</span><span style="color: #C3E88D">&quot;code&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #C3E88D">&quot;code_system&quot;</span><span style="color: #89DDFF">,</span> <span style="color: #C3E88D">&quot;status_code&quot;</span><span style="color: #89DDFF">}</span>
</span><span id="__span-0-110"><a id="__codelineno-0-110" name="__codelineno-0-110"></a>        <span style="color: #EFF">missing</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">required_fields</span> <span style="color: #89DDFF">-</span> <span style="color: #82AAFF">set</span><span style="color: #89DDFF">(</span><span style="color: #EFF">v</span><span style="color: #89DDFF">.</span><span style="color: #EFF">model_dump</span><span style="color: #89DDFF">(</span><span style="color: #EFF">exclude_unset</span><span style="color: #89DDFF">=True).</span><span style="color: #EFF">keys</span><span style="color: #89DDFF">())</span>
</span><span id="__span-0-111"><a id="__codelineno-0-111" name="__codelineno-0-111"></a>        <span style="color: #BB80B3">if</span> <span style="color: #EFF">missing</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-112"><a id="__codelineno-0-112" name="__codelineno-0-112"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;clinical_status_obs missing required fields: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">missing</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-113"><a id="__codelineno-0-113" name="__codelineno-0-113"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">v</span>
</span></code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="healthchain.config.validators.RenderingConfig" class="doc doc-heading">
            <code>RenderingConfig</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Configuration for section rendering</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>healthchain/config/validators.py</code></summary>
                <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-51">51</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-52">52</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-53">53</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-54">54</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-55">55</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-56">56</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-57">57</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-51"><a id="__codelineno-0-51" name="__codelineno-0-51"></a><span style="color: #BB80B3">class</span><span style="color: #EFF"> </span><span style="color: #FFCB6B">RenderingConfig</span><span style="color: #89DDFF">(</span><span style="color: #EFF">BaseModel</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-52"><a id="__codelineno-0-52" name="__codelineno-0-52"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Configuration for section rendering&quot;&quot;&quot;</span>
</span><span id="__span-0-53"><a id="__codelineno-0-53" name="__codelineno-0-53"></a>
</span><span id="__span-0-54"><a id="__codelineno-0-54" name="__codelineno-0-54"></a>    <span style="color: #EFF">narrative</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">Any</span><span style="color: #89DDFF">]]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-55"><a id="__codelineno-0-55" name="__codelineno-0-55"></a>    <span style="color: #EFF">entry</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">Any</span><span style="color: #89DDFF">]]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-56"><a id="__codelineno-0-56" name="__codelineno-0-56"></a>
</span><span id="__span-0-57"><a id="__codelineno-0-57" name="__codelineno-0-57"></a>    <span style="color: #EFF">model_config</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">ConfigDict</span><span style="color: #89DDFF">(</span><span style="color: #EFF">extra</span><span style="color: #89DDFF">=</span><span style="color: #C3E88D">&quot;allow&quot;</span><span style="color: #89DDFF">)</span>
</span></code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="healthchain.config.validators.SectionBaseConfig" class="doc doc-heading">
            <code>SectionBaseConfig</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Base model for all section configurations</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>healthchain/config/validators.py</code></summary>
                <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-60">60</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-61">61</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-62">62</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-63">63</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-64">64</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-65">65</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-66">66</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-67">67</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-68">68</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-69">69</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-60"><a id="__codelineno-0-60" name="__codelineno-0-60"></a><span style="color: #BB80B3">class</span><span style="color: #EFF"> </span><span style="color: #FFCB6B">SectionBaseConfig</span><span style="color: #89DDFF">(</span><span style="color: #EFF">BaseModel</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-61"><a id="__codelineno-0-61" name="__codelineno-0-61"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Base model for all section configurations&quot;&quot;&quot;</span>
</span><span id="__span-0-62"><a id="__codelineno-0-62" name="__codelineno-0-62"></a>
</span><span id="__span-0-63"><a id="__codelineno-0-63" name="__codelineno-0-63"></a>    <span style="color: #EFF">resource</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span>
</span><span id="__span-0-64"><a id="__codelineno-0-64" name="__codelineno-0-64"></a>    <span style="color: #EFF">resource_template</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span>
</span><span id="__span-0-65"><a id="__codelineno-0-65" name="__codelineno-0-65"></a>    <span style="color: #EFF">entry_template</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span>
</span><span id="__span-0-66"><a id="__codelineno-0-66" name="__codelineno-0-66"></a>    <span style="color: #EFF">identifiers</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">SectionIdentifiersConfig</span>
</span><span id="__span-0-67"><a id="__codelineno-0-67" name="__codelineno-0-67"></a>    <span style="color: #EFF">rendering</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #EFF">RenderingConfig</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-68"><a id="__codelineno-0-68" name="__codelineno-0-68"></a>
</span><span id="__span-0-69"><a id="__codelineno-0-69" name="__codelineno-0-69"></a>    <span style="color: #EFF">model_config</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">ConfigDict</span><span style="color: #89DDFF">(</span><span style="color: #EFF">extra</span><span style="color: #89DDFF">=</span><span style="color: #C3E88D">&quot;allow&quot;</span><span style="color: #89DDFF">)</span>
</span></code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="healthchain.config.validators.SectionIdentifiersConfig" class="doc doc-heading">
            <code>SectionIdentifiersConfig</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Section identifiers validation</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>healthchain/config/validators.py</code></summary>
                <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-36">36</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-37">37</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-38">38</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-39">39</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-40">40</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-41">41</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-42">42</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-43">43</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-44">44</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-45">45</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-46">46</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-47">47</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-48">48</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-36"><a id="__codelineno-0-36" name="__codelineno-0-36"></a><span style="color: #BB80B3">class</span><span style="color: #EFF"> </span><span style="color: #FFCB6B">SectionIdentifiersConfig</span><span style="color: #89DDFF">(</span><span style="color: #EFF">BaseModel</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-37"><a id="__codelineno-0-37" name="__codelineno-0-37"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Section identifiers validation&quot;&quot;&quot;</span>
</span><span id="__span-0-38"><a id="__codelineno-0-38" name="__codelineno-0-38"></a>
</span><span id="__span-0-39"><a id="__codelineno-0-39" name="__codelineno-0-39"></a>    <span style="color: #EFF">template_id</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span>
</span><span id="__span-0-40"><a id="__codelineno-0-40" name="__codelineno-0-40"></a>    <span style="color: #EFF">code</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span>
</span><span id="__span-0-41"><a id="__codelineno-0-41" name="__codelineno-0-41"></a>    <span style="color: #EFF">code_system</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #C3E88D">&quot;2.16.840.1.113883.6.1&quot;</span>
</span><span id="__span-0-42"><a id="__codelineno-0-42" name="__codelineno-0-42"></a>    <span style="color: #EFF">code_system_name</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #C3E88D">&quot;LOINC&quot;</span>
</span><span id="__span-0-43"><a id="__codelineno-0-43" name="__codelineno-0-43"></a>    <span style="color: #EFF">display</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span>
</span><span id="__span-0-44"><a id="__codelineno-0-44" name="__codelineno-0-44"></a>    <span style="color: #EFF">clinical_status</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">]]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-45"><a id="__codelineno-0-45" name="__codelineno-0-45"></a>    <span style="color: #EFF">reaction</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">]]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-46"><a id="__codelineno-0-46" name="__codelineno-0-46"></a>    <span style="color: #EFF">severity</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Optional</span><span style="color: #89DDFF">[</span><span style="color: #EFF">Dict</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">]]</span> <span style="color: #89DDFF">=</span> <span style="color: #89DDFF">None</span>
</span><span id="__span-0-47"><a id="__codelineno-0-47" name="__codelineno-0-47"></a>
</span><span id="__span-0-48"><a id="__codelineno-0-48" name="__codelineno-0-48"></a>    <span style="color: #EFF">model_config</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">ConfigDict</span><span style="color: #89DDFF">(</span><span style="color: #EFF">extra</span><span style="color: #89DDFF">=</span><span style="color: #C3E88D">&quot;allow&quot;</span><span style="color: #89DDFF">)</span>
</span></code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="healthchain.config.validators.SectionTemplateConfigBase" class="doc doc-heading">
            <code>SectionTemplateConfigBase</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Base class for section template configurations</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>healthchain/config/validators.py</code></summary>
                <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-77">77</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-78">78</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-79">79</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-80">80</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-81">81</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-82">82</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-83">83</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-84">84</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-85">85</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-86">86</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-87">87</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-77"><a id="__codelineno-0-77" name="__codelineno-0-77"></a><span style="color: #BB80B3">class</span><span style="color: #EFF"> </span><span style="color: #FFCB6B">SectionTemplateConfigBase</span><span style="color: #89DDFF">(</span><span style="color: #EFF">BaseModel</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-78"><a id="__codelineno-0-78" name="__codelineno-0-78"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Base class for section template configurations&quot;&quot;&quot;</span>
</span><span id="__span-0-79"><a id="__codelineno-0-79" name="__codelineno-0-79"></a>
</span><span id="__span-0-80"><a id="__codelineno-0-80" name="__codelineno-0-80"></a>    <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">validate_component_fields</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">component</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">required_fields</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-81"><a id="__codelineno-0-81" name="__codelineno-0-81"></a><span style="color: #EFF">        </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Helper method to validate required fields in a component&quot;&quot;&quot;</span>
</span><span id="__span-0-82"><a id="__codelineno-0-82" name="__codelineno-0-82"></a>        <span style="color: #EFF">missing</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">required_fields</span> <span style="color: #89DDFF">-</span> <span style="color: #82AAFF">set</span><span style="color: #89DDFF">(</span><span style="color: #EFF">component</span><span style="color: #89DDFF">.</span><span style="color: #EFF">model_dump</span><span style="color: #89DDFF">(</span><span style="color: #EFF">exclude_unset</span><span style="color: #89DDFF">=True).</span><span style="color: #EFF">keys</span><span style="color: #89DDFF">())</span>
</span><span id="__span-0-83"><a id="__codelineno-0-83" name="__codelineno-0-83"></a>        <span style="color: #BB80B3">if</span> <span style="color: #EFF">missing</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-84"><a id="__codelineno-0-84" name="__codelineno-0-84"></a>            <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-85"><a id="__codelineno-0-85" name="__codelineno-0-85"></a>                <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">{</span><span style="color: #EFF">component</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">__class__</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">__name__</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D"> missing required fields: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">missing</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-86"><a id="__codelineno-0-86" name="__codelineno-0-86"></a>            <span style="color: #89DDFF">)</span>
</span><span id="__span-0-87"><a id="__codelineno-0-87" name="__codelineno-0-87"></a>        <span style="color: #BB80B3">return</span> <span style="color: #EFF">component</span>
</span></code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="healthchain.config.validators.SectionTemplateConfigBase.validate_component_fields" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">validate_component_fields</span><span style="color: #89DDFF">(</span><span style="color: #EFF">component</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">required_fields</span><span style="color: #89DDFF">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Helper method to validate required fields in a component</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/config/validators.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-80">80</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-81">81</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-82">82</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-83">83</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-84">84</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-85">85</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-86">86</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-87">87</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-80"><a id="__codelineno-0-80" name="__codelineno-0-80"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">validate_component_fields</span><span style="color: #89DDFF">(self,</span> <span style="color: #EFF">component</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">required_fields</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-81"><a id="__codelineno-0-81" name="__codelineno-0-81"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Helper method to validate required fields in a component&quot;&quot;&quot;</span>
</span><span id="__span-0-82"><a id="__codelineno-0-82" name="__codelineno-0-82"></a>    <span style="color: #EFF">missing</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">required_fields</span> <span style="color: #89DDFF">-</span> <span style="color: #82AAFF">set</span><span style="color: #89DDFF">(</span><span style="color: #EFF">component</span><span style="color: #89DDFF">.</span><span style="color: #EFF">model_dump</span><span style="color: #89DDFF">(</span><span style="color: #EFF">exclude_unset</span><span style="color: #89DDFF">=True).</span><span style="color: #EFF">keys</span><span style="color: #89DDFF">())</span>
</span><span id="__span-0-83"><a id="__codelineno-0-83" name="__codelineno-0-83"></a>    <span style="color: #BB80B3">if</span> <span style="color: #EFF">missing</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-84"><a id="__codelineno-0-84" name="__codelineno-0-84"></a>        <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-85"><a id="__codelineno-0-85" name="__codelineno-0-85"></a>            <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">{</span><span style="color: #EFF">component</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">__class__</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">__name__</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D"> missing required fields: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">missing</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span>
</span><span id="__span-0-86"><a id="__codelineno-0-86" name="__codelineno-0-86"></a>        <span style="color: #89DDFF">)</span>
</span><span id="__span-0-87"><a id="__codelineno-0-87" name="__codelineno-0-87"></a>    <span style="color: #BB80B3">return</span> <span style="color: #EFF">component</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="healthchain.config.validators.create_cda_section_validator" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">create_cda_section_validator</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resource_type</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">template_model</span><span style="color: #89DDFF">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Create a section validator for a specific resource type</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/config/validators.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-229">229</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-230">230</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-231">231</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-232">232</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-233">233</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-234">234</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-235">235</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-236">236</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-237">237</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-238">238</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-239">239</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-240">240</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-241">241</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-242">242</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-243">243</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-244">244</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-245">245</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-246">246</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-247">247</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-229"><a id="__codelineno-0-229" name="__codelineno-0-229"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">create_cda_section_validator</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-230"><a id="__codelineno-0-230" name="__codelineno-0-230"></a>    <span style="color: #EFF">resource_type</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">template_model</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Type</span><span style="color: #89DDFF">[</span><span style="color: #EFF">BaseModel</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-231"><a id="__codelineno-0-231" name="__codelineno-0-231"></a><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #EFF">Type</span><span style="color: #89DDFF">[</span><span style="color: #EFF">BaseModel</span><span style="color: #89DDFF">]:</span>
</span><span id="__span-0-232"><a id="__codelineno-0-232" name="__codelineno-0-232"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Create a section validator for a specific resource type&quot;&quot;&quot;</span>
</span><span id="__span-0-233"><a id="__codelineno-0-233" name="__codelineno-0-233"></a>
</span><span id="__span-0-234"><a id="__codelineno-0-234" name="__codelineno-0-234"></a>    <span style="color: #BB80B3">class</span><span style="color: #EFF"> </span><span style="color: #FFCB6B">DynamicSectionConfig</span><span style="color: #89DDFF">(</span><span style="color: #EFF">SectionBaseConfig</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-235"><a id="__codelineno-0-235" name="__codelineno-0-235"></a>        <span style="color: #EFF">template</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Dict</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">Any</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-236"><a id="__codelineno-0-236" name="__codelineno-0-236"></a>
</span><span id="__span-0-237"><a id="__codelineno-0-237" name="__codelineno-0-237"></a>        <span style="color: #82AAFF">@field_validator</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;template&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-238"><a id="__codelineno-0-238" name="__codelineno-0-238"></a>        <span style="color: #82AAFF">@classmethod</span>
</span><span id="__span-0-239"><a id="__codelineno-0-239" name="__codelineno-0-239"></a>        <span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">validate_template</span><span style="color: #89DDFF">(cls,</span> <span style="color: #EFF">v</span><span style="color: #89DDFF">):</span>
</span><span id="__span-0-240"><a id="__codelineno-0-240" name="__codelineno-0-240"></a>            <span style="color: #BB80B3">try</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-241"><a id="__codelineno-0-241" name="__codelineno-0-241"></a>                <span style="color: #EFF">template_model</span><span style="color: #89DDFF">(**</span><span style="color: #EFF">v</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-242"><a id="__codelineno-0-242" name="__codelineno-0-242"></a>            <span style="color: #BB80B3">except</span> <span style="color: #EFF">ValidationError</span> <span style="color: #BB80B3">as</span> <span style="color: #EFF">e</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-243"><a id="__codelineno-0-243" name="__codelineno-0-243"></a>                <span style="color: #BB80B3">raise</span> <span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Template validation failed: </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">e</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-244"><a id="__codelineno-0-244" name="__codelineno-0-244"></a>            <span style="color: #BB80B3">return</span> <span style="color: #EFF">v</span>
</span><span id="__span-0-245"><a id="__codelineno-0-245" name="__codelineno-0-245"></a>
</span><span id="__span-0-246"><a id="__codelineno-0-246" name="__codelineno-0-246"></a>    <span style="color: #EFF">DynamicSectionConfig</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">__name__</span> <span style="color: #89DDFF">=</span> <span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">{</span><span style="color: #EFF">resource_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">SectionConfig&quot;</span>
</span><span id="__span-0-247"><a id="__codelineno-0-247" name="__codelineno-0-247"></a>    <span style="color: #BB80B3">return</span> <span style="color: #EFF">DynamicSectionConfig</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="healthchain.config.validators.register_cda_document_template_config_model" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">register_cda_document_template_config_model</span><span style="color: #89DDFF">(</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">document_model</span><span style="color: #89DDFF">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Register a custom document model</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/config/validators.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-316">316</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-317">317</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-318">318</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-319">319</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-320">320</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-321">321</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-316"><a id="__codelineno-0-316" name="__codelineno-0-316"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">register_cda_document_template_config_model</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-317"><a id="__codelineno-0-317" name="__codelineno-0-317"></a>    <span style="color: #EFF">document_type</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">document_model</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Type</span><span style="color: #89DDFF">[</span><span style="color: #EFF">BaseModel</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-318"><a id="__codelineno-0-318" name="__codelineno-0-318"></a><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #89DDFF">None:</span>
</span><span id="__span-0-319"><a id="__codelineno-0-319" name="__codelineno-0-319"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Register a custom document model&quot;&quot;&quot;</span>
</span><span id="__span-0-320"><a id="__codelineno-0-320" name="__codelineno-0-320"></a>    <span style="color: #EFF">CDA_DOCUMENT_CONFIG_REGISTRY</span><span style="color: #89DDFF">[</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">.</span><span style="color: #EFF">lower</span><span style="color: #89DDFF">()]</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">document_model</span>
</span><span id="__span-0-321"><a id="__codelineno-0-321" name="__codelineno-0-321"></a>    <span style="color: #EFF">logger</span><span style="color: #89DDFF">.</span><span style="color: #EFF">info</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Registered custom document model for </span><span style="color: #89DDFF">{</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="healthchain.config.validators.register_cda_section_template_config_model" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">register_cda_section_template_config_model</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resource_type</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">template_model</span><span style="color: #89DDFF">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Register a custom template model for a section</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/config/validators.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-305">305</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-306">306</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-307">307</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-308">308</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-309">309</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-310">310</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-311">311</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-312">312</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-313">313</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-305"><a id="__codelineno-0-305" name="__codelineno-0-305"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">register_cda_section_template_config_model</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-306"><a id="__codelineno-0-306" name="__codelineno-0-306"></a>    <span style="color: #EFF">resource_type</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">template_model</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Type</span><span style="color: #89DDFF">[</span><span style="color: #EFF">BaseModel</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-307"><a id="__codelineno-0-307" name="__codelineno-0-307"></a><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #89DDFF">None:</span>
</span><span id="__span-0-308"><a id="__codelineno-0-308" name="__codelineno-0-308"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Register a custom template model for a section&quot;&quot;&quot;</span>
</span><span id="__span-0-309"><a id="__codelineno-0-309" name="__codelineno-0-309"></a>    <span style="color: #EFF">CDA_SECTION_CONFIG_REGISTRY</span><span style="color: #89DDFF">[</span><span style="color: #EFF">resource_type</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">template_model</span>
</span><span id="__span-0-310"><a id="__codelineno-0-310" name="__codelineno-0-310"></a>    <span style="color: #EFF">SECTION_VALIDATORS</span><span style="color: #89DDFF">[</span><span style="color: #EFF">resource_type</span><span style="color: #89DDFF">]</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">create_cda_section_validator</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-311"><a id="__codelineno-0-311" name="__codelineno-0-311"></a>        <span style="color: #EFF">resource_type</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">template_model</span>
</span><span id="__span-0-312"><a id="__codelineno-0-312" name="__codelineno-0-312"></a>    <span style="color: #89DDFF">)</span>
</span><span id="__span-0-313"><a id="__codelineno-0-313" name="__codelineno-0-313"></a>    <span style="color: #EFF">logger</span><span style="color: #89DDFF">.</span><span style="color: #EFF">info</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Registered custom template model for </span><span style="color: #89DDFF">{</span><span style="color: #EFF">resource_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="healthchain.config.validators.validate_cda_document_config_model" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">validate_cda_document_config_model</span><span style="color: #89DDFF">(</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">document_config</span><span style="color: #89DDFF">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Validate a document configuration</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/config/validators.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-283">283</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-284">284</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-285">285</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-286">286</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-287">287</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-288">288</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-289">289</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-290">290</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-291">291</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-292">292</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-293">293</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-294">294</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-295">295</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-296">296</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-297">297</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-283"><a id="__codelineno-0-283" name="__codelineno-0-283"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">validate_cda_document_config_model</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-284"><a id="__codelineno-0-284" name="__codelineno-0-284"></a>    <span style="color: #EFF">document_type</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">document_config</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Dict</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">Any</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-285"><a id="__codelineno-0-285" name="__codelineno-0-285"></a><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #82AAFF">bool</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-286"><a id="__codelineno-0-286" name="__codelineno-0-286"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Validate a document configuration&quot;&quot;&quot;</span>
</span><span id="__span-0-287"><a id="__codelineno-0-287" name="__codelineno-0-287"></a>    <span style="color: #EFF">validator</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">CDA_DOCUMENT_CONFIG_REGISTRY</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get</span><span style="color: #89DDFF">(</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">.</span><span style="color: #EFF">lower</span><span style="color: #89DDFF">())</span>
</span><span id="__span-0-288"><a id="__codelineno-0-288" name="__codelineno-0-288"></a>    <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">validator</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-289"><a id="__codelineno-0-289" name="__codelineno-0-289"></a>        <span style="color: #EFF">logger</span><span style="color: #89DDFF">.</span><span style="color: #EFF">warning</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;No specific validator for document type: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-290"><a id="__codelineno-0-290" name="__codelineno-0-290"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">True</span>
</span><span id="__span-0-291"><a id="__codelineno-0-291" name="__codelineno-0-291"></a>
</span><span id="__span-0-292"><a id="__codelineno-0-292" name="__codelineno-0-292"></a>    <span style="color: #BB80B3">try</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-293"><a id="__codelineno-0-293" name="__codelineno-0-293"></a>        <span style="color: #EFF">validator</span><span style="color: #89DDFF">(**</span><span style="color: #EFF">document_config</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-294"><a id="__codelineno-0-294" name="__codelineno-0-294"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">True</span>
</span><span id="__span-0-295"><a id="__codelineno-0-295" name="__codelineno-0-295"></a>    <span style="color: #BB80B3">except</span> <span style="color: #EFF">ValidationError</span> <span style="color: #BB80B3">as</span> <span style="color: #EFF">e</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-296"><a id="__codelineno-0-296" name="__codelineno-0-296"></a>        <span style="color: #EFF">logger</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Document validation failed for </span><span style="color: #89DDFF">{</span><span style="color: #EFF">document_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">: </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">e</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-297"><a id="__codelineno-0-297" name="__codelineno-0-297"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">False</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="healthchain.config.validators.validate_cda_section_config_model" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #EFF">validate_cda_section_config_model</span><span style="color: #89DDFF">(</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">section_config</span><span style="color: #89DDFF">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Validate a section configuration</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>healthchain/config/validators.py</code></summary>
              <div class="language-python highlight" style="background: #263238"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-260">260</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-261">261</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-262">262</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-263">263</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-264">264</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-265">265</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-266">266</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-267">267</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-268">268</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-269">269</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-270">270</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-271">271</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-272">272</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-273">273</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-274">274</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-275">275</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-276">276</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-277">277</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-278">278</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-279">279</a></span>
<span style="color: #37474F; background-color: #263238; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-280">280</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-260"><a id="__codelineno-0-260" name="__codelineno-0-260"></a><span style="color: #BB80B3">def</span><span style="color: #EFF"> </span><span style="color: #82AAFF">validate_cda_section_config_model</span><span style="color: #89DDFF">(</span>
</span><span id="__span-0-261"><a id="__codelineno-0-261" name="__codelineno-0-261"></a>    <span style="color: #EFF">section_key</span><span style="color: #89DDFF">:</span> <span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">section_config</span><span style="color: #89DDFF">:</span> <span style="color: #EFF">Dict</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">,</span> <span style="color: #EFF">Any</span><span style="color: #89DDFF">]</span>
</span><span id="__span-0-262"><a id="__codelineno-0-262" name="__codelineno-0-262"></a><span style="color: #89DDFF">)</span> <span style="color: #89DDFF">-&gt;</span> <span style="color: #82AAFF">bool</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-263"><a id="__codelineno-0-263" name="__codelineno-0-263"></a><span style="color: #EFF">    </span><span style="color: #546E7A; font-style: italic">&quot;&quot;&quot;Validate a section configuration&quot;&quot;&quot;</span>
</span><span id="__span-0-264"><a id="__codelineno-0-264" name="__codelineno-0-264"></a>    <span style="color: #EFF">resource_type</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">section_config</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get</span><span style="color: #89DDFF">(</span><span style="color: #C3E88D">&quot;resource&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-265"><a id="__codelineno-0-265" name="__codelineno-0-265"></a>    <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">resource_type</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-266"><a id="__codelineno-0-266" name="__codelineno-0-266"></a>        <span style="color: #EFF">logger</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Section &#39;</span><span style="color: #89DDFF">{</span><span style="color: #EFF">section_key</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&#39; is missing &#39;resource&#39; field&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-267"><a id="__codelineno-0-267" name="__codelineno-0-267"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">False</span>
</span><span id="__span-0-268"><a id="__codelineno-0-268" name="__codelineno-0-268"></a>
</span><span id="__span-0-269"><a id="__codelineno-0-269" name="__codelineno-0-269"></a>    <span style="color: #EFF">validator</span> <span style="color: #89DDFF">=</span> <span style="color: #EFF">SECTION_VALIDATORS</span><span style="color: #89DDFF">.</span><span style="color: #EFF">get</span><span style="color: #89DDFF">(</span><span style="color: #EFF">resource_type</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-270"><a id="__codelineno-0-270" name="__codelineno-0-270"></a>    <span style="color: #BB80B3">if</span> <span style="color: #89DDFF; font-style: italic">not</span> <span style="color: #EFF">validator</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-271"><a id="__codelineno-0-271" name="__codelineno-0-271"></a>        <span style="color: #546E7A; font-style: italic"># TODO: Pass validation level to this</span>
</span><span id="__span-0-272"><a id="__codelineno-0-272" name="__codelineno-0-272"></a>        <span style="color: #EFF">logger</span><span style="color: #89DDFF">.</span><span style="color: #EFF">warning</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;No specific validator for resource type: </span><span style="color: #89DDFF">{</span><span style="color: #EFF">resource_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-273"><a id="__codelineno-0-273" name="__codelineno-0-273"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">True</span>
</span><span id="__span-0-274"><a id="__codelineno-0-274" name="__codelineno-0-274"></a>
</span><span id="__span-0-275"><a id="__codelineno-0-275" name="__codelineno-0-275"></a>    <span style="color: #BB80B3">try</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-276"><a id="__codelineno-0-276" name="__codelineno-0-276"></a>        <span style="color: #EFF">validator</span><span style="color: #89DDFF">(**</span><span style="color: #EFF">section_config</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-277"><a id="__codelineno-0-277" name="__codelineno-0-277"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">True</span>
</span><span id="__span-0-278"><a id="__codelineno-0-278" name="__codelineno-0-278"></a>    <span style="color: #BB80B3">except</span> <span style="color: #EFF">ValidationError</span> <span style="color: #BB80B3">as</span> <span style="color: #EFF">e</span><span style="color: #89DDFF">:</span>
</span><span id="__span-0-279"><a id="__codelineno-0-279" name="__codelineno-0-279"></a>        <span style="color: #EFF">logger</span><span style="color: #89DDFF">.</span><span style="color: #EFF">error</span><span style="color: #89DDFF">(</span><span style="color: #BB80B3">f</span><span style="color: #C3E88D">&quot;Section validation failed for </span><span style="color: #89DDFF">{</span><span style="color: #EFF">resource_type</span><span style="color: #89DDFF">}</span><span style="color: #C3E88D">: </span><span style="color: #89DDFF">{</span><span style="color: #82AAFF">str</span><span style="color: #89DDFF">(</span><span style="color: #EFF">e</span><span style="color: #89DDFF">)}</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span>
</span><span id="__span-0-280"><a id="__codelineno-0-280" name="__codelineno-0-280"></a>        <span style="color: #BB80B3">return</span> <span style="color: #89DDFF">False</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
<footer class="md-footer">
    <div class="md-footer-meta md-typeset">
        <div class="md-footer-meta__inner md-grid">
            <div class="md-copyright">
                Made with care by the HealthChain team
            </div>
        </div>
    </div>
</footer>

    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["content.code.copy", "navigation.expand", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.footer", "navigation.instant", "header.autohide", "announce.dismiss", "search.suggest", "search.highlight"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../javascripts/cookbook-filter.js"></script>
      
    
  </body>
</html>